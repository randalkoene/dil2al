\section{dil2al.hh File Reference}
\label{dil2al_8hh}\index{dil2al.hh@{dil2al.hh}}
{\tt \#include \char`\"{}Big\-Regex.hh\char`\"{}}\par
{\tt \#include \char`\"{}Big\-String.hh\char`\"{}}\par
{\tt \#include \char`\"{}templates.hh\char`\"{}}\par
{\tt \#include $<$stdlib.h$>$}\par
{\tt \#include $<$stdio.h$>$}\par
{\tt \#include $<$iostream.h$>$}\par
{\tt \#include $<$stream.h$>$}\par
{\tt \#include $<$fstream.h$>$}\par
{\tt \#include $<$string.h$>$}\par
{\tt \#include $<$unistd.h$>$}\par
{\tt \#include $<$time.h$>$}\par
{\tt \#include $<$errno.h$>$}\par
{\tt \#include $<$math.h$>$}\par
{\tt \#include $<$values.h$>$}\par
{\tt \#include $<$float.h$>$}\par
{\tt \#include $<$sys/types.h$>$}\par
{\tt \#include $<$sys/stat.h$>$}\par
{\tt \#include $<$dirent.h$>$}\par
\subsection*{Compounds}
\begin{CompactItemize}
\item 
class {\bf Active\_\-List}
\item 
class {\bf AL\_\-Day}
\item 
class {\bf AL\_\-TC}
\item 
class {\bf AL\_\-TD}
\item 
class {\bf Detailed\_\-Items\_\-List}
\item 
class {\bf DIL\_\-AL\_\-List}
\item 
class {\bf DIL\_\-entry}
\item 
class {\bf DIL\_\-entry\_\-content}
\item 
class {\bf DIL\_\-entry\_\-parameters}
\item 
class {\bf DIL\_\-entry\_\-Pointer}
\item 
class {\bf DIL\_\-Hierarchy\_\-Level\_\-Data}
\item 
class {\bf DIL\_\-ID}
\item 
class {\bf DIL\_\-Topical\_\-List}
\item 
class {\bf DIL\_\-Visualize}
\item 
class {\bf DIL\_\-Visualize\_\-with\_\-FORM\_\-Tabs}
\item 
class {\bf DIL\_\-Visualize\_\-with\_\-HTML\_\-Tabs}
\item 
class {\bf DIL\_\-Visualize\_\-with\_\-Tabs}
\item 
class {\bf Directory\_\-Access}
\item 
struct {\bf filetitle\_\-t}
\item 
class {\bf Financial\_\-Monthly}
\item 
class {\bf Financial\_\-Monthly\_\-Category}
\item 
class {\bf Financial\_\-Monthly\_\-Root}
\item 
class {\bf Financial\_\-Monthly\_\-Sub\-Category}
\item 
class {\bf Financial\_\-Note}
\item 
class {\bf Long\-List}
\item 
class {\bf Novelty\_\-Marker}
\item 
class {\bf Novelty\_\-Marker\_\-List}
\item 
class {\bf Plan\_\-entry\_\-content}
\item 
class {\bf Quick\_\-String\_\-Hash}
\item 
class {\bf Search\_\-Result}
\item 
class {\bf Search\_\-Target}
\item 
class {\bf String\-List}
\item 
class {\bf Target\_\-Access}
\item 
class {\bf Text\_\-File\_\-Buffers}
\item 
class {\bf Time}
\item 
class {\bf Topical\_\-DIL\_\-Files}
\item 
class {\bf Topical\_\-DIL\_\-Files\_\-Root}
\end{CompactItemize}
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define {\bf LOOP\_\-PROTECT}
\item 
\#define {\bf CAUTIOUS\_\-OBJECT\_\-INTERFACES}
\item 
\#define {\bf HITIME\_\-T}\ ((time\_\-t)(1 $<$$<$ BITS(time\_\-t) - 1))
\item 
\#define {\bf MAXTIME\_\-T}\ ((time\_\-t)($\sim$HITIME\_\-T))
\item 
\#define {\bf SECONDSPERDAY}\ (60$\ast$60$\ast$24)
\item 
\#define {\bf DIL2AL\_\-CONDITIONAL\_\-ERROR\_\-RETURN}(\_\-condition, \_\-message)\ if (\_\-condition) \{ EOUT $<$$<$ \_\-message; return {\bf false}; \}
\item 
\#define {\bf LONGLIST\_\-INITIAL\_\-VALUE}\ -1
\item 
\#define {\bf RECURSIVE\_\-QUICK\_\-STRING\_\-HASH}
\item 
\#define {\bf Topical\_\-DIL\_\-Files\_\-Updated\_\-Access}(Here, There, There\-Steps)
\item 
\#define {\bf PLAN\_\-ENTRY\_\-TYPE\_\-UNASSIGNED}\ -1
\item 
\#define {\bf PLAN\_\-ENTRY\_\-TYPE\_\-NONE}\ 0
\item 
\#define {\bf PLAN\_\-ENTRY\_\-TYPE\_\-ACTION}\ 1
\item 
\#define {\bf PLAN\_\-ENTRY\_\-TYPE\_\-GOAL}\ 2
\item 
\#define {\bf PLAN\_\-ENTRY\_\-TYPE\_\-OBJECTIVE}\ 3
\item 
\#define {\bf PLAN\_\-ENTRY\_\-TYPE\_\-OUTCOME}\ 4
\item 
\#define {\bf PLAN\_\-ENTRY\_\-TYPE\_\-VARIABLE}\ 5
\item 
\#define {\bf PLAN\_\-OUTCOME\_\-DESIRABILITY}\ valuation
\item 
\#define {\bf COMPLETION\_\-STATE\_\-OBSOLETE}\ -1.0
\item 
\#define {\bf COMPLETION\_\-STATE\_\-REPLACED}\ -2.0
\item 
\#define {\bf COMPLETION\_\-STATE\_\-DONE\_\-DIFFERENTLY}\ -3.0
\item 
\#define {\bf COMPLETION\_\-STATE\_\-NO\_\-LONGER\_\-POSSIBLE}\ -4.0
\item 
\#define {\bf DILTOPICS\_\-REL\_\-UNSPECIFIED}\ 0.0
\item 
\#define {\bf DIL\_\-Superiors}\ {\bf DIL\_\-AL\_\-List}
\item 
\#define {\bf DILSUPS\_\-REL\_\-UNSPECIFIED}\ 0.0
\item 
\#define {\bf DILSUPS\_\-UNB\_\-UNSPECIFIED}\ 0.0
\item 
\#define {\bf DILSUPS\_\-BND\_\-UNSPECIFIED}\ 0.0
\item 
\#define {\bf DILSUPS\_\-TD\_\-UNSPECIFIED}\ -1
\item 
\#define {\bf DILSUPS\_\-URG\_\-UNSPECIFIED}\ 0.0
\item 
\#define {\bf DILSUPS\_\-PRI\_\-UNSPECIFIED}\ 0.0
\item 
\#define {\bf DILSUPS\_\-TDPROP\_\-FIXED}\ 1
\item 
\#define {\bf PLAN\_\-OUTCOME\_\-LIKELIHOOD}\ relevance
\item 
\#define {\bf TD\_\-PROTECT}\ 1
\item 
\#define {\bf RELDIRHTML}\ \char`\"{}doc/html/\char`\"{}
\item 
\#define {\bf DILMAIN}\ \char`\"{}lists.html\char`\"{}
\item 
\#define {\bf RELLISTSDIR}\ \char`\"{}lists/\char`\"{}
\item 
\#define {\bf DILBYIDFILE}\ \char`\"{}lists/detailed-items-by-ID.html\char`\"{}
\item 
\#define {\bf OWNER}\ \char`\"{}Randal A. Koene\char`\"{}
\item 
\#define {\bf DEFAULTCHUNKSIZE}\ 20
\item 
\#define {\bf DEFAULTCHUNKSLACK}\ 5
\item 
\#define {\bf DEFAULTSECTIONSIZE}\ 150
\item 
\#define {\bf DEFAULTALTCS}\ (3$\ast$3$\ast$12)
\item 
\#define {\bf DEFAULTALFOCUSED}\ (3$\ast$3$\ast$12)
\item 
\#define {\bf DEFAULTALWIDE}\ (12$\ast$3$\ast$12)
\item 
\#define {\bf DEFAULTALGENREGULAR}\ 8
\item 
\#define {\bf DEFAULTALGENALL}\ 13
\item 
\#define {\bf DEFAULTALEPSHOURS}\ (24.0 - 6.0 - 2.5 - 1.0 - 3.5)
\item 
\#define {\bf DEFAULTALWORKDAYSTART}\ ((time\_\-t) 9 $\ast$ (time\_\-t) 60 $\ast$ (time\_\-t) 60)
\item 
\#define {\bf DEFAULTALSYNCSLACK}\ ((time\_\-t) 60 $\ast$ (time\_\-t) 60)
\item 
\#define {\bf DEFAULTALDAYDISTSLOPE}\ 0.9
\item 
\#define {\bf DEFAULTALCUMTIMEREQEXCERPTLENGTH}\ 25
\item 
\#define {\bf DEFAULTHIERARCHYMAXDEPTH}\ 15
\item 
\#define {\bf DEFAULTHIERARCHYEXCERPTLENGTH}\ 50
\item 
\#define {\bf DEFAULTEDITOR}\ \char`\"{}nedit\char`\"{}
\item 
\#define {\bf DEFAULTBROWSER}\ \char`\"{}w3m\char`\"{}
\item 
\#define {\bf NOTETMPFILE}\ \char`\"{}tmp/dil2al-note.html\char`\"{}
\item 
\#define {\bf TLENTRYTMPFILE}\ \char`\"{}tmp/dil2al-TLentry.html\char`\"{}
\item 
\#define {\bf CONFIGFILE}\ \char`\"{}.dil2alrc\char`\"{}
\item 
\#define {\bf TASKLOGFILE}\ \char`\"{}lists/task-log.html\char`\"{}
\item 
\#define {\bf PAPERPLANSFILE}\ \char`\"{}lists/paper-plans.html\char`\"{}
\item 
\#define {\bf FIGURESDIRECTORY}\ \char`\"{}lists/figures-directory.html\char`\"{}
\item 
\#define {\bf BIBINDEXFILE}\ \char`\"{}planning/bibliography.html\char`\"{}
\item 
\#define {\bf ARTICLEHEADTEMPLATE}\ \char`\"{}lists/template.Article-Head.tex\char`\"{}
\item 
\#define {\bf ARTICLETAILTEMPLATE}\ \char`\"{}lists/template.Article-Tail.tex\char`\"{}
\item 
\#define {\bf TEMPLATEARTICLESUBSECTION}\ \char`\"{}lists/template.Article-Sub\-Section.tex\char`\"{}
\item 
\#define {\bf TEMPLATEARTICLESUBSUBSECTION}\ \char`\"{}lists/template.Article-Sub\-Sub\-Section.tex\char`\"{}
\item 
\#define {\bf DILREFFILE}\ \char`\"{}tmp/{\bf dilref}\char`\"{}
\item 
\#define {\bf TAREADFILE}\ \char`\"{}tmp/dil2al-TA-read.\char`\"{}
\item 
\#define {\bf FINNOTESFILE}\ \char`\"{}financial-notes.html\char`\"{}
\item 
\#define {\bf DEFAULTUNIECMD}\ \char`\"{}nc -noask -do 'revert\_\-to\_\-saved()' @notedst@ -do 'set\_\-cursor\_\-pos(@{\bf res}@)' @notedst@\char`\"{}
\item 
\#define {\bf DEFAULTFLAGCMD}\ \char`\"{}xnotification $\backslash$\char`\"{}TTC$\backslash$\char`\"{} \&\char`\"{}
\item 
\#define {\bf DEFAULTATCOMMAND}\ \char`\"{}at now\char`\"{}
\item 
\#define {\bf DEFAULTATCONTROLLER}\ \char`\"{}rxvt -display 'localhost:0.0' -e dil2al -S \&\char`\"{}
\item 
\#define {\bf DEFAULT\_\-HTMLFORM\_\-INTERFACE}\ \char`\"{}/cgi-bin/dil2al\char`\"{}
\item 
\#define {\bf DEFAULT\_\-HTMLFORM\_\-METHOD}\ \char`\"{}GET\char`\"{}
\item 
\#define {\bf MAX\_\-RECURSIVE\_\-PP2PD\_\-EXTRACTION\_\-DEPTH}\ 7
\item 
\#define {\bf DILBYID\_\-CACHE\_\-NUMENTRIES\_\-SUSPICIOUS}\ 10
\item 
\#define {\bf TCS\_\-CURRENT}\ 0
\item 
\#define {\bf TCS\_\-NEW}\ 1
\item 
\#define {\bf TCS\_\-ASK}\ 2
\item 
\#define {\bf TSS\_\-CURRENT}\ 0
\item 
\#define {\bf TSS\_\-NEW}\ 1
\item 
\#define {\bf TSS\_\-ASK}\ 2
\item 
\#define {\bf UNIE\_\-NO}\ 0
\item 
\#define {\bf UNIE\_\-YES}\ 1
\item 
\#define {\bf UNIE\_\-ASK}\ 2
\item 
\#define {\bf ACW\_\-TIME}\ 0
\item 
\#define {\bf ACW\_\-TL}\ 1
\item 
\#define {\bf ACW\_\-ASK}\ 2
\item 
\#define {\bf AAU\_\-NO}\ 0
\item 
\#define {\bf AAU\_\-YES}\ 1
\item 
\#define {\bf AAU\_\-ASK}\ 2
\item 
\#define {\bf ANSI\_\-BOLD\_\-ON}\ \char`\"{}$\backslash$33[1m\char`\"{}
\item 
\#define {\bf ANSI\_\-BOLD\_\-OFF}\ \char`\"{}$\backslash$33[22m\char`\"{}
\item 
\#define {\bf ANSI\_\-UNDERLINE\_\-ON}\ \char`\"{}$\backslash$33[4m\char`\"{}
\item 
\#define {\bf ANSI\_\-UNDERLINE\_\-OFF}\ \char`\"{}$\backslash$33[24m\char`\"{}
\item 
\#define {\bf DILBYID\_\-FLOAT\_\-FORMAT}\ \char`\"{}\%.4g\char`\"{}
\item 
\#define {\bf ALDAYDISTFUNCLINEAR}\ 0
\item 
\#define {\bf ALDAYDISTFUNCSQUARED}\ 1
\item 
\#define {\bf DEFAULTALDAYEMPHASIS}\ \char`\"{} BGCOLOR=$\backslash$\char`\"{}\#3F005F$\backslash$\char`\"{}\char`\"{}
\item 
\#define {\bf DEFAULTALFOCUSEDHEADER}\ \char`\"{}$<$HTML$>$$\backslash$n$<$HEAD$>$$\backslash$n$<$TITLE$>$Active List - Focused: @SUP@$<$/TITLE$>$$\backslash$n$<$/HEAD$>$$\backslash$n$<$BODY BGCOLOR=$\backslash$\char`\"{}\#000000$\backslash$\char`\"{} TEXT=$\backslash$\char`\"{}\#F0E0A0$\backslash$\char`\"{} LINK=$\backslash$\char`\"{}\#AFAFFF$\backslash$\char`\"{} VLINK=$\backslash$\char`\"{}\#7F7FFF$\backslash$\char`\"{}$>$$\backslash$n$<$H1$>$$<$FONT COLOR=$\backslash$\char`\"{}\#00FF00$\backslash$\char`\"{}$>$Active List - Focused: @SUP@$<$/FONT$>$$<$/H1$>$$\backslash$n$\backslash$n$<$B$>$Involvement of DIL topics, I\_\-\{proj,top\} in [0,1]:$<$/B$>$$\backslash$n$<$UL$>$$\backslash$n(currently not in use)$\backslash$n$<$/UL$>$$\backslash$n$\backslash$n$<$B$>$AL Target Date:$<$/B$>$ @TD@ $<$B$>$General Daily Work Time:$<$/B$>$ @GENERAL-WORK-TIME@$\backslash$n$<$P$>$$\backslash$n$\backslash$@PASSED@$<$TABLE WIDTH=$\backslash$\char`\"{}100\%$\backslash$\char`\"{} CELLPADDING=3 BGCOLOR=$\backslash$\char`\"{}\#4F4F3F$\backslash$\char`\"{}$>$$\backslash$n$\backslash$n\char`\"{}
\item 
\#define {\bf DEFAULTALFOCUSEDTAIL}\ \char`\"{}$<$/TABLE$>$$\backslash$n$<$P$>$$\backslash$n$\backslash$n$<$LI$>$$<$A HREF=$\backslash$\char`\"{}@ALFILE@.wide.html$\backslash$\char`\"{}$>$Active List - Wide: @SUP@$<$/A$>$$\backslash$n$\backslash$@CUMULATIVE@$<$LI$>$$<$A HREF=$\backslash$\char`\"{}../lists.html\#AL$\backslash$\char`\"{}$>$Active Lists$<$/A$>$$\backslash$n$<$LI$>$$<$A HREF=$\backslash$\char`\"{}../lists.html\#DIL$\backslash$\char`\"{}$>$Topical Detailed Items Lists$<$/A$>$$\backslash$n$<$P$>$$<$HR$>$$\sim$/doc/$<$A HREF=$\backslash$\char`\"{}../maincont.html$\backslash$\char`\"{}$>$html$<$/A$>$/$<$A HREF=$\backslash$\char`\"{}../lists.html$\backslash$\char`\"{}$>$lists$<$/A$>$/@ALFILE@.html - $\backslash$(generated: @ALDATE@)$\backslash$n$\backslash$n$<$/BODY$>$$\backslash$n$<$/HTML$>$$\backslash$n\char`\"{}
\item 
\#define {\bf DEFAULTALFOCUSEDEMPHASIS}\ \char`\"{} BGCOLOR=$\backslash$\char`\"{}\#3F5F00$\backslash$\char`\"{}\char`\"{}
\item 
\#define {\bf DEFAULTALWIDEHEADER}\ \char`\"{}$<$HTML$>$$\backslash$n$<$HEAD$>$$\backslash$n$<$TITLE$>$Active List - Wide: @SUP@$<$/TITLE$>$$\backslash$n$<$/HEAD$>$$\backslash$n$<$BODY BGCOLOR=$\backslash$\char`\"{}\#000000$\backslash$\char`\"{} TEXT=$\backslash$\char`\"{}\#F0E0A0$\backslash$\char`\"{} LINK=$\backslash$\char`\"{}\#AFAFFF$\backslash$\char`\"{} VLINK=$\backslash$\char`\"{}\#7F7FFF$\backslash$\char`\"{}$>$$\backslash$n$<$H1$>$$<$FONT COLOR=$\backslash$\char`\"{}\#00FF00$\backslash$\char`\"{}$>$Active List - Wide: @SUP@$<$/FONT$>$$<$/H1$>$$\backslash$n$\backslash$n$<$OL$>$$<$B$>$DIL Reference$<$/B$>$$\backslash$n\char`\"{}
\item 
\#define {\bf DEFAULTALWIDETAIL}\ \char`\"{}$<$/OL$>$$\backslash$n$\backslash$n$<$P$>$$\backslash$n$<$LI$>$$<$A HREF=$\backslash$\char`\"{}@ALFILE@.html$\backslash$\char`\"{}$>$Active List - Focused: @SUP@$<$/A$>$$\backslash$n$\backslash$@CUMULATIVE@$<$LI$>$$<$A HREF=$\backslash$\char`\"{}../lists.html\#AL$\backslash$\char`\"{}$>$Active Lists$<$/A$>$$\backslash$n$<$LI$>$$<$A HREF=$\backslash$\char`\"{}../lists.html\#DIL$\backslash$\char`\"{}$>$Topical Detailed Items Lists$<$/A$>$$\backslash$n$<$P$>$$\backslash$n$<$HR$>$$\backslash$n$\backslash$$\sim$/doc/$<$A HREF=$\backslash$\char`\"{}../maincont.html$\backslash$\char`\"{}$>$html$<$/A$>$/$<$A HREF=$\backslash$\char`\"{}../lists.html$\backslash$\char`\"{}$>$lists$<$/A$>$/@ALFILE@.wide.html - $\backslash$(generated: @ALDATE@)$\backslash$n$\backslash$n$<$/BODY$>$$\backslash$n$<$/HTML$>$$\backslash$n\char`\"{}
\item 
\#define {\bf DEFAULTALCUMULATIVEREQHEADER}\ \char`\"{}$<$HTML$>$$\backslash$n$<$HEAD$>$$\backslash$n$<$TITLE$>$Active List - Cumulative {\bf Time} Required: @SUP@$<$/TITLE$>$$\backslash$n$<$/HEAD$>$$\backslash$n$<$BODY BGCOLOR=$\backslash$\char`\"{}\#000000$\backslash$\char`\"{} TEXT=$\backslash$\char`\"{}\#F0E0A0$\backslash$\char`\"{} LINK=$\backslash$\char`\"{}\#AFAFFF$\backslash$\char`\"{} VLINK=$\backslash$\char`\"{}\#7F7FFF$\backslash$\char`\"{}$>$$\backslash$n$<$H1$>$$<$FONT COLOR=$\backslash$\char`\"{}\#00FF00$\backslash$\char`\"{}$>$Active List - Cumulative {\bf Time} Required: @SUP@$<$/FONT$>$$<$/H1$>$$\backslash$n$\backslash$n$\backslash$Assumed hours available per day for the EPS method: $<$FONT COLOR=$\backslash$\char`\"{}\#FFFF00$\backslash$\char`\"{}$>$@EPSHRS@$<$/FONT$>$$\backslash$n$<$P$>$$\backslash$n$<$FORM METHOD=$\backslash$\char`\"{}@FORMMETHOD@$\backslash$\char`\"{} ACTION=$\backslash$\char`\"{}@FORMACTION@$\backslash$\char`\"{}$>$$<$INPUT type=$\backslash$\char`\"{}hidden$\backslash$\char`\"{} name=$\backslash$\char`\"{}dil2al$\backslash$\char`\"{} value=$\backslash$\char`\"{}MEtgroup$\backslash$\char`\"{}$>$$\backslash$n$<$TABLE CELLPADDING=3 BGCOLOR=$\backslash$\char`\"{}\#4F4F3F$\backslash$\char`\"{}$>$$\backslash$n$\backslash$n$<$TR$>$$<$TH$>$GRP$<$/TH$>$$<$TH$>$ID$<$/TH$>$$<$TH$>$DIL (primary)$<$/TH$>$$<$TH$>$Target Date$<$/TH$>$$<$TH$>$Treq$<$/TH$>$$<$TH$>$Tcum$<$/TH$>$$<$TH$>$Greq$<$/TH$>$$<$TH$>$EPS TD (chkbx=no update)$<$/TH$>$$<$TH$>$Excerpt$<$/TH$>$$\backslash$n$\backslash$n\char`\"{}
\item 
\#define {\bf DEFAULTALCUMULATIVEREQTAIL}\ \char`\"{}$<$/TABLE$>$$\backslash$n$<$INPUT type=$\backslash$\char`\"{}radio$\backslash$\char`\"{} name=$\backslash$\char`\"{}TDupdate$\backslash$\char`\"{} value=$\backslash$\char`\"{}group$\backslash$\char`\"{} checked$>$ Minimize fragmentation $<$INPUT type=$\backslash$\char`\"{}radio$\backslash$\char`\"{} name=$\backslash$\char`\"{}TDupdate$\backslash$\char`\"{} value=$\backslash$\char`\"{}direct$\backslash$\char`\"{}$>$ Direct$<$BR$>$$\backslash$n$<$INPUT type=$\backslash$\char`\"{}submit$\backslash$\char`\"{} value=$\backslash$\char`\"{}Update$\backslash$\char`\"{}$>$ $<$INPUT type=$\backslash$\char`\"{}reset$\backslash$\char`\"{}$>$$<$/FORM$>$$\backslash$n$\backslash$n$<$P$>$$\backslash$n$<$LI$>$$<$A HREF=$\backslash$\char`\"{}@ALFILE@.html$\backslash$\char`\"{}$>$Active List - Focused: @SUP@$<$/A$>$$\backslash$n$<$LI$>$$<$A HREF=$\backslash$\char`\"{}@ALFILE@.wide.html$\backslash$\char`\"{}$>$Active List - Wide: @SUP@$<$/A$>$$\backslash$n$<$LI$>$$<$A HREF=$\backslash$\char`\"{}../lists.html\#AL$\backslash$\char`\"{}$>$Active Lists$<$/A$>$$\backslash$n$<$LI$>$$<$A HREF=$\backslash$\char`\"{}../lists.html\#DIL$\backslash$\char`\"{}$>$Topical Detailed Items Lists$<$/A$>$$\backslash$n$<$P$>$$\backslash$n$<$HR$>$$\backslash$n$\backslash$$\sim$/doc/$<$A HREF=$\backslash$\char`\"{}../maincont.html$\backslash$\char`\"{}$>$html$<$/A$>$/$<$A HREF=$\backslash$\char`\"{}../lists.html$\backslash$\char`\"{}$>$lists$<$/A$>$/@ALFILE@.ctr.html - $\backslash$(generated: @ALDATE@)$\backslash$n$\backslash$n$<$/BODY$>$$\backslash$n$<$/HTML$>$$\backslash$n\char`\"{}
\item 
\#define {\bf DIN}\ ($\ast${\bf din})
\item 
\#define {\bf EOUT}\ ($\ast${\bf eout})
\item 
\#define {\bf VOUT}\ ($\ast${\bf vout})
\end{CompactItemize}
\subsection*{Typedefs}
\begin{CompactItemize}
\item 
typedef unsigned long {\bf idnumber}
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
int {\bf get\_\-file\_\-in\_\-list} ({\bf String} \&fname, {\bf String\-List} \&srcf, {\bf String\-List} \&srcfname, int \&srcfnum)
\item 
void {\bf Set\_\-Parameter} (char $\ast$lbuf)
\item 
{\bf String} {\bf generate\_\-tag} ({\bf String} \&tagid)
\item 
bool {\bf Diagnostic} ({\bf String} diagnosticstr)
\item 
int {\bf DIL\_\-entry\_\-target\_\-date\_\-qsort\_\-compare} (const void $\ast$vde1, const void $\ast$vde2)
\item 
int {\bf Big\-Regex\_\-freq} ({\bf String} \&str, const {\bf Big\-Regex} \&rx)
\item 
int {\bf Big\-Regex\_\-freq} ({\bf String} \&str, {\bf String} rxstr)
\item 
int {\bf Big\-Regex\_\-freq} ({\bf String} \&str, const char $\ast$rxstr)
\item 
{\bf String} {\bf RX\_\-Search\_\-Safe} ({\bf String} s)
\item 
time\_\-t {\bf Time} (time\_\-t $\ast$tloc)
\item 
{\bf String} {\bf time\_\-stamp} (const char $\ast$dateformat, time\_\-t t=-1)
\item 
{\bf String} {\bf time\_\-stamp\_\-GM} (const char $\ast$dateformat, time\_\-t t=-1)
\item 
{\bf String} {\bf date\_\-string} ()
\item 
time\_\-t {\bf time\_\-stamp\_\-time} ({\bf String} timestr)
\item 
time\_\-t {\bf time\_\-stamp\_\-time\_\-of\_\-day} ({\bf String} timestr)
\item 
time\_\-t {\bf time\_\-stamp\_\-time\_\-date} ({\bf String} timestr)
\item 
time\_\-t {\bf time\_\-stamp\_\-diff} ({\bf String} oldtime, {\bf String} newtime)
\item 
time\_\-t {\bf double2time} (double t)
\item 
bool {\bf confirmation} ({\bf String} message, char nondefault)
\item 
void {\bf auto\_\-interactive} ({\bf String} \&autostr, {\bf String} message, char $\ast$lbuf, int llen)
\item 
{\bf String} {\bf relurl} ({\bf String} srcurl, {\bf String} dsturl)
\item 
{\bf String} {\bf absurl} ({\bf String} srcurl, {\bf String} relurl)
\item 
bool {\bf file\_\-is\_\-regular} ({\bf String} filepath)
\item 
bool {\bf file\_\-is\_\-regular\_\-or\_\-symlink} ({\bf String} filepath)
\item 
bool {\bf file\_\-is\_\-directory} ({\bf String} filepath)
\item 
bool {\bf prepare\_\-temporary\_\-file} ({\bf String} tmpfile, {\bf String} initstr)
\item 
bool {\bf backup\_\-and\_\-rename} ({\bf String} filename, {\bf String} message, bool isnew={\bf false})
\item 
bool {\bf read\_\-file\_\-into\_\-String} (ifstream \&sfl, {\bf String} \&filestr, bool warnnoopen={\bf true})
\item 
bool {\bf read\_\-file\_\-into\_\-String} ({\bf String} filename, {\bf String} \&filestr, bool warnnoopen={\bf true})
\item 
bool {\bf read\_\-file\_\-into\_\-String} (bool \&isnew, {\bf String} filename, {\bf String} \&filestr)
\item 
bool {\bf write\_\-file\_\-from\_\-String} ({\bf String} filename, const {\bf String} \&filestr, {\bf String} message, bool isnew={\bf false})
\item 
void {\bf read\_\-data\_\-from\_\-stream} (istream \&ifs, {\bf String} \&dstr, const char $\ast$terminate)
\item 
bool {\bf Lock\_\-File} ({\bf String} lockfile, {\bf String} msgstr)
\item 
bool {\bf Unlock\_\-File} ({\bf String} lockfile)
\item 
int {\bf find\_\-delimiter} ({\bf String} \&str, int startpos, int lenlimit, char delimiter='$\backslash$n')
\item 
bool {\bf pattern\_\-in\_\-line} (const char $\ast$pattern, char $\ast$lbuf)
\item 
bool {\bf substring\_\-from\_\-line} (const char $\ast$pattern, int nsub, {\bf String} $\ast$dilid, const char $\ast$lbuf)
\item 
bool {\bf find\_\-line} (ifstream $\ast$lf, const char $\ast$pattern, char $\ast$lbuf, int llen)
\item 
int {\bf copy\_\-until\_\-line} (ifstream $\ast$lf, ofstream $\ast$of, const char $\ast$pattern, char $\ast$lbuf, int llen)
\item 
int {\bf find\_\-in\_\-line} (ifstream $\ast$lf, const char $\ast$pattern, int nsub, {\bf String} $\ast$dilid, const char $\ast$before, char $\ast$lbuf, int llen)
\item 
bool {\bf initialize\_\-new\_\-DIL\_\-TL} ({\bf String} initializecmd, bool includeinput)
\item 
int {\bf D2A\_\-get\_\-tag} ({\bf String} \&d2astr, int strloc, {\bf String} d2atag, {\bf String} \&tagtext)
\item 
int {\bf HTML\_\-get\_\-marker} ({\bf String} \&htmlstr, int strloc, {\bf String} \&marker, bool locate={\bf true})
\item 
{\bf String} {\bf HTML\_\-marker\_\-arguments} ({\bf String} \&marker)
\item 
int {\bf HTML\_\-get\_\-tagged\_\-environment} (const {\bf Big\-Regex} \&begintag, const {\bf Big\-Regex} \&endmatch, const {\bf Big\-Regex} \&endtag, {\bf String} \&htmlstr, int strloc, {\bf String} \&envparams, {\bf String} \&envcontent, int $\ast$envstart=NULL)
\item 
int {\bf HTML\_\-get\_\-table\_\-cell} ({\bf String} \&htmlstr, int strloc, {\bf String} \&cellparams, {\bf String} \&cellcontent, int $\ast$cellstart=NULL)
\item 
int {\bf HTML\_\-get\_\-table\_\-row} ({\bf String} \&htmlstr, int strloc, {\bf String} \&rowparams, {\bf String} \&rowcontent, int $\ast$rowstart=NULL)
\item 
int {\bf HTML\_\-get\_\-list} ({\bf String} \&htmlstr, int strloc, {\bf String} \&listparams, {\bf String} \&listcontent, int $\ast$liststart=NULL)
\item 
int {\bf HTML\_\-get\_\-list\_\-item} ({\bf String} \&htmlstr, int strloc, {\bf String} \&itemparams, {\bf String} \&itemcontent, int $\ast$itemstart=NULL)
\item 
int {\bf HTML\_\-get\_\-href} ({\bf String} \&htmlstr, int strloc, {\bf String} \&hrefurl, {\bf String} \&hreftext, int $\ast$hrefstart=NULL)
\item 
int {\bf HTML\_\-get\_\-name} ({\bf String} \&htmlstr, int strloc, {\bf String} \&nametag, {\bf String} \&nametext)
\item 
{\bf String} $\ast$ {\bf HTML\_\-safe} ({\bf String} \&textstr)
\item 
{\bf String} $\ast$ {\bf HTML\_\-remove\_\-comments} ({\bf String} \&htmlstr)
\item 
{\bf String} $\ast$ {\bf HTML\_\-remove\_\-tags} ({\bf String} \&htmlstr)
\item 
{\bf String} {\bf HTML\_\-put\_\-structure} ({\bf String} tag, {\bf String} params, {\bf String} content, bool relaxedhtml={\bf false})
\item 
{\bf String} {\bf HTML\_\-put\_\-table\_\-row} ({\bf String} rowparams, {\bf String} rowcontent, bool relaxedhtml={\bf false})
\item 
{\bf String} {\bf HTML\_\-put\_\-table\_\-cell} ({\bf String} cellparams, {\bf String} cellcontent, bool relaxedhtml={\bf false})
\item 
{\bf String} {\bf HTML\_\-put\_\-list} (char listtype, {\bf String} htmlstr)
\item 
{\bf String} {\bf HTML\_\-put\_\-list\_\-item} ({\bf String} htmlstr, bool relaxedhtml={\bf false})
\item 
{\bf String} {\bf HTML\_\-put\_\-href} ({\bf String} hrefurl, {\bf String} hreftext)
\item 
{\bf String} {\bf HTML\_\-put\_\-name} ({\bf String} nametag, {\bf String} nametext)
\item 
{\bf String} {\bf HTML\_\-put\_\-form} ({\bf String} formmethod, {\bf String} formaction, {\bf String} formcontent)
\item 
{\bf String} {\bf HTML\_\-put\_\-form\_\-input} ({\bf String} inputtype, {\bf String} inputargs)
\item 
{\bf String} {\bf HTML\_\-put\_\-form\_\-submit} ({\bf String} submittext)
\item 
{\bf String} {\bf HTML\_\-put\_\-form\_\-reset} ()
\item 
{\bf String} {\bf HTML\_\-put\_\-form\_\-radio} ({\bf String} radioname, {\bf String} radiovalue, {\bf String} radiotext, bool checked={\bf false})
\item 
{\bf String} {\bf HTML\_\-put\_\-form\_\-checkbox} ({\bf String} checkboxname, {\bf String} checkboxvalue, {\bf String} checkboxtext, bool checked={\bf false})
\item 
{\bf String} {\bf HTML\_\-put\_\-form\_\-text} ({\bf String} textname, {\bf String} textvalue, long maxlen=-1)
\item 
{\bf String} {\bf HTML\_\-put\_\-form\_\-text} ({\bf String} textname, long maxlen=-1)
\item 
int {\bf Elipsis\_\-At} ({\bf String} \&s, int maxsize)
\item 
{\bf String} {\bf URI\_\-unescape} ({\bf String} escaped\-URI)
\item 
{\bf String} {\bf Int2Hex\-Str} (unsigned int i)
\item 
{\bf String} $\ast$ {\bf remove\_\-whitespace} ({\bf String} \&str)
\item 
double {\bf get\_\-double} ({\bf String} valstr, double defval=0.0, bool $\ast$gotdouble=NULL)
\item 
int {\bf get\_\-topic\_\-keywords} ()
\item 
{\bf String} {\bf generate\_\-AL\_\-full\_\-entry} ({\bf String} dilid, int chunkfreq)
\item 
{\bf String} {\bf generate\_\-AL\_\-entry} ({\bf String} dilid, bool ishighestpriority={\bf false})
\item 
{\bf String} {\bf AL\_\-Day\_\-Marker} ({\bf String} \&dstfile, {\bf AL\_\-Day} $\ast$ald)
\item 
{\bf String} {\bf AL\_\-Passed\_\-Target\_\-Dates} ({\bf String} \&dstfile, {\bf AL\_\-TD} $\ast$atd)
\item 
bool {\bf update\_\-main\_\-ALs} ({\bf DIL\_\-entry} $\ast$superior)
\item 
float {\bf linear\_\-distribution} (float i, float i\_\-limit)
\item 
long $\ast$ {\bf DIL\_\-Required\_\-Task\_\-Chunks} ({\bf DIL\_\-entry} $\ast$$\ast$dep, int deplen)
\item 
void {\bf Get\_\-Worked\_\-Estimate} ()
\item 
float {\bf linear\_\-day\_\-distribution} ({\bf AL\_\-Day} $\ast$ald, time\_\-t td)
\item 
bool {\bf generate\_\-AL} ({\bf DIL\_\-entry} $\ast$$\ast$dep, {\bf DIL\_\-entry} $\ast$superior=NULL)
\item 
int {\bf get\_\-AL\_\-entry} ({\bf String} \&alstr, int alpos, {\bf String} \&rowcontent, int \&rowstart, int \&rowend)
\item 
bool {\bf remove\_\-AL\_\-TC} ({\bf String} alref, {\bf String} dilid)
\item 
bool {\bf update\_\-DIL\_\-to\_\-AL} ()
\item 
bool {\bf refresh\_\-quick\_\-load\_\-cache} ()
\item 
bool {\bf get\_\-active\_\-DIL\_\-IDs} ({\bf String\-List} \&idfileids, unsigned long $\ast$resnumidfileids=NULL)
\item 
bool {\bf add\_\-new\_\-to\_\-DIL} ({\bf String} dilfile, {\bf String\-List} $\ast$supinfoptr)
\item 
bool {\bf create\_\-new\_\-DIL} ({\bf String} dilfile)
\item 
bool {\bf send\_\-dil\_\-to\_\-DIL} ({\bf String} dilfile)
\item 
{\bf String} {\bf get\_\-new\_\-DIL\_\-ID} ()
\item 
bool {\bf generate\_\-modify\_\-element\_\-FORM\_\-interface} ({\bf String\-List} $\ast$qlist=NULL)
\item 
bool {\bf modify\_\-element\_\-through\_\-FORM\_\-interface} ({\bf String\-List} $\ast$qlist=NULL)
\item 
bool {\bf update\_\-DIL\_\-entry\_\-elements} ({\bf String} dilid, double valuation, bool updateval, double completion, bool updatecomp, double required, bool updatereq, time\_\-t tdiff=-1)
\item 
bool {\bf update\_\-DIL\_\-entry\_\-parameter\_\-elements} ({\bf Detailed\_\-Items\_\-List} \&dilist, {\bf DIL\_\-ID} dilid, {\bf PLLRoot}$<$ DIL\_\-Superiors $>$ \&addsups, {\bf String\-List} $\ast$removesups, int removesupsnum)
\item 
bool {\bf modify\_\-DIL\_\-entry\_\-target\_\-date} ({\bf DIL\_\-ID} dilid, time\_\-t tdate, {\bf Detailed\_\-Items\_\-List} \&dilist)
\item 
bool {\bf modify\_\-DIL\_\-entry\_\-target\_\-date} ({\bf DIL\_\-ID} dilid, time\_\-t tdate)
\item 
bool {\bf modify\_\-DIL\_\-group\_\-target\_\-dates} ({\bf Detailed\_\-Items\_\-List} \&dilgroup, bool minfragmentation={\bf true})
\item 
bool {\bf modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd} (bool minfragmentation, {\bf String\-List} $\ast$qlist=NULL)
\item 
bool {\bf extract\_\-DIL\_\-IDs\_\-from\_\-form} ({\bf String\-List} $\ast$qlist=NULL)
\item 
void {\bf Show\_\-DIL\_\-Hierarchy} ({\bf DIL\_\-entry} $\ast$topde, {\bf DIL\_\-Visualize} \&dv, const int maxdepth, int depth=0, double likelihood=DILSUPS\_\-REL\_\-UNSPECIFIED)
\item 
{\bf String} {\bf Tabbed\_\-DIL\_\-Hierarchy} ({\bf String} dilidstr, int maxdepth=50)
\item 
{\bf String} {\bf Tabbed\_\-HTML\_\-DIL\_\-Hierarchy} ({\bf String} dilidstr, int maxdepth=50)
\item 
{\bf String} {\bf Tabbed\_\-FORM\_\-DIL\_\-Hierarchy} ({\bf String} dilidstr, int maxdepth=50)
\item 
bool {\bf DIL\_\-Hierarchy\_\-cmd} ({\bf String} dilidstr, int maxdepth=50)
\item 
{\bf String} {\bf get\_\-TL\_\-head} ()
\item 
int {\bf max\_\-chunk\_\-entry} ({\bf String} \&tlchunk)
\item 
{\bf String} {\bf generate\_\-TL\_\-chunk\_\-header} ({\bf String} nametag, {\bf String} newalref, {\bf String} altitle, {\bf String} alhead, {\bf String} newdilref, {\bf String} diltitle, {\bf String} dilhead, int generateparts=0)
\item 
{\bf String} {\bf generate\_\-TL\_\-entry\_\-header} ({\bf String} nametag, {\bf String} newalref, {\bf String} altitle, {\bf String} alhead, {\bf String} newdilref, {\bf String} diltitle, {\bf String} dilhead)
\item 
{\bf String} {\bf get\_\-most\_\-recent\_\-TC\_\-AL} ({\bf String} \&tl)
\item 
{\bf String} {\bf get\_\-most\_\-recent\_\-TC\_\-DE} ({\bf String} \&tl)
\item 
void {\bf stop\_\-TL\_\-chunk} ({\bf String} \&tl)
\item 
{\bf String} {\bf select\_\-TL\_\-DIL\_\-refs} ({\bf String} \&tl, bool newchunk, {\bf String} newalref)
\item 
{\bf String} {\bf select\_\-TL\_\-AL\_\-refs} ({\bf String} \&tl, bool newchunk, {\bf String} newdilref)
\item 
{\bf String} {\bf add\_\-TL\_\-chunk\_\-or\_\-entry} ({\bf String} \&tl, {\bf String} \&notestr, bool newchunk, {\bf String} chunkid, int \&tlinsertloc)
\item 
bool {\bf add\_\-TL\_\-section} ({\bf String} \&tl)
\item 
int {\bf locate\_\-most\_\-recent\_\-TL\_\-chunk} ({\bf String} \&tl, int seekfrom, {\bf String} $\ast$chunkid)
\item 
{\bf String} {\bf decide\_\-add\_\-TL\_\-chunk} ({\bf String} \&tl, int \&tlinsertloc, bool comparetimes, bool createifgreater={\bf true})
\item 
void {\bf process\_\-HTML} ({\bf String} \&notestr)
\item 
int {\bf pre\_\-process\_\-note} ({\bf String} notefile, {\bf String} notedst, {\bf String} typestr, {\bf String} \&notestr, {\bf String} \&notedststr, bool \&isnew)
\item 
int {\bf post\_\-process\_\-note} ({\bf String} notedst, {\bf String} \&notestr, {\bf String} \&notedststr, int insertindex, bool isnew)
\item 
int {\bf process\_\-note\_\-TL} ({\bf String} notefile, {\bf String} notedst)
\item 
int {\bf process\_\-note\_\-HTML} ({\bf String} notefile, {\bf String} notedst)
\item 
int {\bf process\_\-note\_\-Te\-X} ({\bf String} notefile, {\bf String} notedst)
\item 
int {\bf process\_\-note\_\-CC} ({\bf String} notefile, {\bf String} notedst)
\item 
int {\bf process\_\-note\_\-generic} ({\bf String} notefile, {\bf String} notedst)
\item 
bool {\bf process\_\-note} ({\bf String} notefile, {\bf String} notedst)
\item 
bool {\bf make\_\-note} ()
\item 
{\bf String} {\bf chunk\_\-controller} ({\bf String} controllercmd)
\item 
time\_\-t {\bf time\_\-chunk\_\-remaining} ({\bf String} chunkid)
\item 
bool {\bf schedule\_\-controller} ({\bf String} controllercmd)
\item 
bool {\bf filter\_\-TL\_\-by\_\-AL} ()
\item 
bool {\bf generate\_\-TL\_\-keyword\_\-index} ()
\item 
bool {\bf search\_\-TL} ({\bf String} searchstr)
\item 
bool {\bf extract\_\-paper\_\-novelties} ({\bf String} fname, {\bf String} paperplanurl, ostream \&ostr)
\item 
bool {\bf cmdline\_\-extract\_\-paper\_\-novelties} ({\bf String} filepaper)
\item 
{\bf String} {\bf generate\_\-Figures\_\-Directory\_\-entry} ({\bf String} figid)
\item 
void {\bf get\_\-figure\_\-data} ({\bf String} \&figfile, {\bf String} \&figlabel, {\bf String} \&figcaption, {\bf String} \&figintext, {\bf String} \&psconversions, {\bf String\-List} \&srcf, {\bf String\-List} \&srcfname, int \&srcfnum)
\item 
bool {\bf get\_\-Paper\_\-Plans\_\-Section\_\-IDs} ({\bf String\-List} \&ppsectionids, {\bf String\-List} \&ppsectiontitles, {\bf String\-List} \&ppsectiontemplates)
\item 
int {\bf Te\-X\_\-get\_\-scope} ({\bf String} \&textstr, int start, {\bf String} \&scopecontent)
\item 
int {\bf Te\-X\_\-get\_\-argument} ({\bf String} \&textstr, int start, {\bf String} \&argstr, char argtype, int $\ast$argstart=NULL)
\item 
int {\bf Te\-X\_\-get\_\-command} ({\bf String} \&textstr, int start, {\bf String} \&cmdstr)
\item 
{\bf String} {\bf Te\-X\_\-safe\_\-text} ({\bf String} \&title)
\item 
void {\bf Te\-X\_\-format\_\-corrections} ({\bf String} \&ostrtext, bool estimate={\bf false})
\item 
int {\bf Text\_\-find\_\-line\_\-end} ({\bf String} \&textstr, int start, char lend='$\backslash$n')
\item 
void {\bf Text\_\-limit\_\-line\_\-length} ({\bf String} \&textstr, int optlinemax, int abslinemax, char lend='$\backslash$n')
\item 
void {\bf convert\_\-item\_\-content\_\-to\_\-Te\-X} ({\bf String} \&itemcontent)
\item 
void {\bf unconvert\_\-item\_\-content\_\-from\_\-Te\-X} ({\bf String} \&itemcontent)
\item 
bool {\bf extract\_\-paper\_\-plan\_\-to\_\-paper} ({\bf String} ppname, {\bf String} pout, {\bf String} pprevious)
\item 
bool {\bf cmdline\_\-extract\_\-paper\_\-plan\_\-to\_\-paper} ({\bf String} ppfile)
\item 
bool {\bf Quantitative\_\-Assessment} (char qatype, {\bf String} ppfile)
\item 
{\bf String} {\bf search} ({\bf String\-List} \&targets, {\bf String} searchkey, bool stringoutput={\bf true})
\item 
unsigned long {\bf Get\_\-Target\_\-Directory} ({\bf String\-List} \&targets, unsigned long i, {\bf String} dirpath)
\item 
unsigned long {\bf Get\_\-Target\_\-Regex} ({\bf String\-List} \&targets, unsigned long i, {\bf String} dirpath)
\item 
bool {\bf search\_\-cmd} ({\bf String} grepinfo)
\item 
bool {\bf search\_\-FORM\_\-cmd} ({\bf String\-List} $\ast$qlist=NULL)
\item 
bool {\bf read\_\-financial\_\-notes\_\-file} ({\bf PLLRoot}$<$ {\bf Financial\_\-Note} $>$ \&fnotes, {\bf String} \&finnotestop, {\bf String} \&finnotesend)
\item 
bool {\bf write\_\-financial\_\-notes\_\-file} ({\bf PLLRoot}$<$ {\bf Financial\_\-Note} $>$ \&fnotes, {\bf String} \&finnotestop, {\bf String} \&finnotesend)
\item 
bool {\bf financial\_\-notes} ()
\item 
bool {\bf financial\_\-monthly} ()
\end{CompactItemize}
\subsection*{Variables}
\begin{CompactItemize}
\item 
{\bf String} {\bf homedir}
\item 
{\bf String} {\bf basedir}
\item 
{\bf String} {\bf listfile}
\item 
{\bf String} {\bf idfile}
\item 
{\bf String} {\bf lockidfile}
\item 
{\bf String} {\bf crcidfile}
\item 
{\bf String} {\bf cacheidfile}
\item 
{\bf String} {\bf tasklog}
\item 
{\bf String} {\bf taskloghead}
\item 
{\bf String} {\bf paperplansfile}
\item 
{\bf String} {\bf figuresdirectory}
\item 
{\bf String} {\bf dilref}
\item 
{\bf String} {\bf bibindexfilename}
\item 
{\bf String} {\bf bibindexfile}
\item 
{\bf String} {\bf articleheadtemplate}
\item 
{\bf String} {\bf articletailtemplate}
\item 
{\bf String} {\bf templatearticlesubsection}
\item 
{\bf String} {\bf templatearticlesubsubsection}
\item 
ifstream {\bf dinfile}
\item 
istream $\ast$ {\bf din}
\item 
ofstream {\bf eoutfile}
\item 
ostream $\ast$ {\bf eout}
\item 
ostream $\ast$ {\bf vout}
\item 
int {\bf num\-DILs}
\item 
{\bf Topical\_\-DIL\_\-Files\_\-Root} {\bf dil}
\item 
bool {\bf verbose}
\item 
bool {\bf suggestnameref}
\item 
bool {\bf askprocesstype}
\item 
bool {\bf offercreate}
\item 
bool {\bf ask\-ALDILref}
\item 
bool {\bf showflag}
\item 
bool {\bf isdaemon}
\item 
bool {\bf useansi}
\item 
bool {\bf askextractconcat}
\item 
bool {\bf usequickloadcache}
\item 
time\_\-t {\bf emulatedtime}
\item 
{\bf String} {\bf curdate}
\item 
{\bf String} {\bf curtime}
\item 
{\bf String} {\bf owner}
\item 
int {\bf timechunksize}
\item 
int {\bf timechunkslack}
\item 
int {\bf timechunkoverstrategy}
\item 
int {\bf timechunkunderstrategy}
\item 
int {\bf sectionsize}
\item 
int {\bf sectionstrategy}
\item 
long {\bf generatealtcs}
\item 
time\_\-t {\bf generatealmaxt}
\item 
int {\bf alfocused}
\item 
int {\bf alwide}
\item 
int {\bf algenregular}
\item 
int {\bf algenall}
\item 
float {\bf alepshours}
\item 
bool {\bf alautoexpand}
\item 
bool {\bf alshowcumulativereq}
\item 
int {\bf alcumtimereqexcerptlength}
\item 
bool {\bf rapidscheduleupdating}
\item 
bool {\bf targetdatepreferences}
\item 
bool {\bf weekdayworkendpreferences}
\item 
time\_\-t {\bf wdworkendprefs} [7]
\item 
time\_\-t {\bf alworkdaystart}
\item 
int {\bf alcurdayworkedstrategy}
\item 
time\_\-t {\bf alworked}
\item 
int {\bf alautoupdate}
\item 
time\_\-t {\bf alsyncslack}
\item 
int {\bf aldaydistfunc}
\item 
float {\bf aldaydistslope}
\item 
bool {\bf reversehierarchy}
\item 
bool {\bf hierarchyplanparse}
\item 
int {\bf hierarchymaxdepth}
\item 
int {\bf hierarchyexcerptlength}
\item 
{\bf String} {\bf updatenoteineditorcmd}
\item 
int {\bf updatenoteineditor}
\item 
{\bf String} {\bf atcommand}
\item 
{\bf String} {\bf atcontroller}
\item 
{\bf String} {\bf htmlforminterface}
\item 
{\bf String} {\bf htmlformmethod}
\item 
{\bf String} {\bf editor}
\item 
{\bf String} {\bf browser}
\item 
{\bf String} {\bf flagcmd}
\item 
{\bf String} {\bf notetmpfile}
\item 
{\bf String} {\bf tlentrytmpfile}
\item 
{\bf String} {\bf configfile}
\item 
{\bf String} {\bf tareadfile}
\item 
{\bf String} {\bf finnotesfile}
\item 
bool {\bf calledbyforminput}
\item 
int {\bf followlinks}
\item 
bool {\bf searchprogressmeter}
\item 
bool {\bf immediatesearchoutput}
\item 
bool {\bf remotesearch}
\item 
{\bf String\-List} {\bf quicknotedst}
\item 
{\bf String\-List} {\bf quicknotedsttitle}
\item 
{\bf String\-List} {\bf quicknotedescr}
\item 
int {\bf quicknotedstnum}
\item 
{\bf String\-List} {\bf indexkeys}
\item 
int {\bf indexkeysnum}
\item 
{\bf String} {\bf new\-TLID}
\item 
bool {\bf chunkcreated}
\item 
{\bf Detailed\_\-Items\_\-List} $\ast$ {\bf looplist}
\end{CompactItemize}


\subsection{Define Documentation}
\index{dil2al.hh@{dil2al.hh}!AAU_ASK@{AAU\_\-ASK}}
\index{AAU_ASK@{AAU\_\-ASK}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define AAU\_\-ASK\ 2}\label{dil2al_8hh_a90}




Definition at line 1242 of file dil2al.hh.

Referenced by dil2al\_\-commands(), select\_\-TL\_\-DIL\_\-refs(), Set\_\-Parameter(), and stop\_\-TL\_\-chunk().\index{dil2al.hh@{dil2al.hh}!AAU_NO@{AAU\_\-NO}}
\index{AAU_NO@{AAU\_\-NO}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define AAU\_\-NO\ 0}\label{dil2al_8hh_a88}




Definition at line 1240 of file dil2al.hh.

Referenced by dil2al\_\-commands(), select\_\-TL\_\-DIL\_\-refs(), Set\_\-Parameter(), and stop\_\-TL\_\-chunk().\index{dil2al.hh@{dil2al.hh}!AAU_YES@{AAU\_\-YES}}
\index{AAU_YES@{AAU\_\-YES}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define AAU\_\-YES\ 1}\label{dil2al_8hh_a89}




Definition at line 1241 of file dil2al.hh.

Referenced by dil2al\_\-commands(), and Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!ACW_ASK@{ACW\_\-ASK}}
\index{ACW_ASK@{ACW\_\-ASK}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define ACW\_\-ASK\ 2}\label{dil2al_8hh_a87}




Definition at line 1238 of file dil2al.hh.

Referenced by Get\_\-Worked\_\-Estimate(), and Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!ACW_TIME@{ACW\_\-TIME}}
\index{ACW_TIME@{ACW\_\-TIME}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define ACW\_\-TIME\ 0}\label{dil2al_8hh_a85}




Definition at line 1236 of file dil2al.hh.

Referenced by Get\_\-Worked\_\-Estimate(), and Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!ACW_TL@{ACW\_\-TL}}
\index{ACW_TL@{ACW\_\-TL}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define ACW\_\-TL\ 1}\label{dil2al_8hh_a86}




Definition at line 1237 of file dil2al.hh.

Referenced by Get\_\-Worked\_\-Estimate(), and Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!ALDAYDISTFUNCLINEAR@{ALDAYDISTFUNCLINEAR}}
\index{ALDAYDISTFUNCLINEAR@{ALDAYDISTFUNCLINEAR}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define ALDAYDISTFUNCLINEAR\ 0}\label{dil2al_8hh_a96}




Definition at line 1251 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!ALDAYDISTFUNCSQUARED@{ALDAYDISTFUNCSQUARED}}
\index{ALDAYDISTFUNCSQUARED@{ALDAYDISTFUNCSQUARED}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define ALDAYDISTFUNCSQUARED\ 1}\label{dil2al_8hh_a97}




Definition at line 1252 of file dil2al.hh.

Referenced by Active\_\-List::expand(), and Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!ANSI_BOLD_OFF@{ANSI\_\-BOLD\_\-OFF}}
\index{ANSI_BOLD_OFF@{ANSI\_\-BOLD\_\-OFF}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define ANSI\_\-BOLD\_\-OFF\ \char`\"{}$\backslash$33[22m\char`\"{}}\label{dil2al_8hh_a92}




Definition at line 1245 of file dil2al.hh.

Referenced by chunk\_\-controller(), decide\_\-add\_\-TL\_\-chunk(), make\_\-note(), modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd(), select\_\-TL\_\-AL\_\-refs(), and select\_\-TL\_\-DIL\_\-refs().\index{dil2al.hh@{dil2al.hh}!ANSI_BOLD_ON@{ANSI\_\-BOLD\_\-ON}}
\index{ANSI_BOLD_ON@{ANSI\_\-BOLD\_\-ON}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define ANSI\_\-BOLD\_\-ON\ \char`\"{}$\backslash$33[1m\char`\"{}}\label{dil2al_8hh_a91}




Definition at line 1244 of file dil2al.hh.

Referenced by chunk\_\-controller(), decide\_\-add\_\-TL\_\-chunk(), make\_\-note(), modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd(), select\_\-TL\_\-AL\_\-refs(), and select\_\-TL\_\-DIL\_\-refs().\index{dil2al.hh@{dil2al.hh}!ANSI_UNDERLINE_OFF@{ANSI\_\-UNDERLINE\_\-OFF}}
\index{ANSI_UNDERLINE_OFF@{ANSI\_\-UNDERLINE\_\-OFF}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define ANSI\_\-UNDERLINE\_\-OFF\ \char`\"{}$\backslash$33[24m\char`\"{}}\label{dil2al_8hh_a94}




Definition at line 1247 of file dil2al.hh.

Referenced by make\_\-note(), modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd(), select\_\-TL\_\-AL\_\-refs(), and select\_\-TL\_\-DIL\_\-refs().\index{dil2al.hh@{dil2al.hh}!ANSI_UNDERLINE_ON@{ANSI\_\-UNDERLINE\_\-ON}}
\index{ANSI_UNDERLINE_ON@{ANSI\_\-UNDERLINE\_\-ON}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define ANSI\_\-UNDERLINE\_\-ON\ \char`\"{}$\backslash$33[4m\char`\"{}}\label{dil2al_8hh_a93}




Definition at line 1246 of file dil2al.hh.

Referenced by make\_\-note(), modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd(), select\_\-TL\_\-AL\_\-refs(), and select\_\-TL\_\-DIL\_\-refs().\index{dil2al.hh@{dil2al.hh}!ARTICLEHEADTEMPLATE@{ARTICLEHEADTEMPLATE}}
\index{ARTICLEHEADTEMPLATE@{ARTICLEHEADTEMPLATE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define ARTICLEHEADTEMPLATE\ \char`\"{}lists/template.Article-Head.tex\char`\"{}}\label{dil2al_8hh_a61}




Definition at line 1208 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!ARTICLETAILTEMPLATE@{ARTICLETAILTEMPLATE}}
\index{ARTICLETAILTEMPLATE@{ARTICLETAILTEMPLATE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define ARTICLETAILTEMPLATE\ \char`\"{}lists/template.Article-Tail.tex\char`\"{}}\label{dil2al_8hh_a62}




Definition at line 1209 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!BIBINDEXFILE@{BIBINDEXFILE}}
\index{BIBINDEXFILE@{BIBINDEXFILE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define BIBINDEXFILE\ \char`\"{}planning/bibliography.html\char`\"{}}\label{dil2al_8hh_a60}




Definition at line 1207 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!CAUTIOUS_OBJECT_INTERFACES@{CAUTIOUS\_\-OBJECT\_\-INTERFACES}}
\index{CAUTIOUS_OBJECT_INTERFACES@{CAUTIOUS\_\-OBJECT\_\-INTERFACES}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define CAUTIOUS\_\-OBJECT\_\-INTERFACES}\label{dil2al_8hh_a1}




Definition at line 51 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!COMPLETION_STATE_DONE_DIFFERENTLY@{COMPLETION\_\-STATE\_\-DONE\_\-DIFFERENTLY}}
\index{COMPLETION_STATE_DONE_DIFFERENTLY@{COMPLETION\_\-STATE\_\-DONE\_\-DIFFERENTLY}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define COMPLETION\_\-STATE\_\-DONE\_\-DIFFERENTLY\ -3.0}\label{dil2al_8hh_a19}




Definition at line 490 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!COMPLETION_STATE_NO_LONGER_POSSIBLE@{COMPLETION\_\-STATE\_\-NO\_\-LONGER\_\-POSSIBLE}}
\index{COMPLETION_STATE_NO_LONGER_POSSIBLE@{COMPLETION\_\-STATE\_\-NO\_\-LONGER\_\-POSSIBLE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define COMPLETION\_\-STATE\_\-NO\_\-LONGER\_\-POSSIBLE\ -4.0}\label{dil2al_8hh_a20}




Definition at line 491 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!COMPLETION_STATE_OBSOLETE@{COMPLETION\_\-STATE\_\-OBSOLETE}}
\index{COMPLETION_STATE_OBSOLETE@{COMPLETION\_\-STATE\_\-OBSOLETE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define COMPLETION\_\-STATE\_\-OBSOLETE\ -1.0}\label{dil2al_8hh_a17}




Definition at line 488 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!COMPLETION_STATE_REPLACED@{COMPLETION\_\-STATE\_\-REPLACED}}
\index{COMPLETION_STATE_REPLACED@{COMPLETION\_\-STATE\_\-REPLACED}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define COMPLETION\_\-STATE\_\-REPLACED\ -2.0}\label{dil2al_8hh_a18}




Definition at line 489 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!CONFIGFILE@{CONFIGFILE}}
\index{CONFIGFILE@{CONFIGFILE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define CONFIGFILE\ \char`\"{}.dil2alrc\char`\"{}}\label{dil2al_8hh_a56}




Definition at line 1203 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULT_HTMLFORM_INTERFACE@{DEFAULT\_\-HTMLFORM\_\-INTERFACE}}
\index{DEFAULT_HTMLFORM_INTERFACE@{DEFAULT\_\-HTMLFORM\_\-INTERFACE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULT\_\-HTMLFORM\_\-INTERFACE\ \char`\"{}/cgi-bin/dil2al\char`\"{}}\label{dil2al_8hh_a72}




Definition at line 1219 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULT_HTMLFORM_METHOD@{DEFAULT\_\-HTMLFORM\_\-METHOD}}
\index{DEFAULT_HTMLFORM_METHOD@{DEFAULT\_\-HTMLFORM\_\-METHOD}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULT\_\-HTMLFORM\_\-METHOD\ \char`\"{}GET\char`\"{}}\label{dil2al_8hh_a73}




Definition at line 1220 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTALCUMTIMEREQEXCERPTLENGTH@{DEFAULTALCUMTIMEREQEXCERPTLENGTH}}
\index{DEFAULTALCUMTIMEREQEXCERPTLENGTH@{DEFAULTALCUMTIMEREQEXCERPTLENGTH}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALCUMTIMEREQEXCERPTLENGTH\ 25}\label{dil2al_8hh_a49}




Definition at line 1196 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTALCUMULATIVEREQHEADER@{DEFAULTALCUMULATIVEREQHEADER}}
\index{DEFAULTALCUMULATIVEREQHEADER@{DEFAULTALCUMULATIVEREQHEADER}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALCUMULATIVEREQHEADER\ \char`\"{}$<$HTML$>$$\backslash$n$<$HEAD$>$$\backslash$n$<$TITLE$>$Active List - Cumulative {\bf Time} Required: @SUP@$<$/TITLE$>$$\backslash$n$<$/HEAD$>$$\backslash$n$<$BODY BGCOLOR=$\backslash$\char`\"{}\#000000$\backslash$\char`\"{} TEXT=$\backslash$\char`\"{}\#F0E0A0$\backslash$\char`\"{} LINK=$\backslash$\char`\"{}\#AFAFFF$\backslash$\char`\"{} VLINK=$\backslash$\char`\"{}\#7F7FFF$\backslash$\char`\"{}$>$$\backslash$n$<$H1$>$$<$FONT COLOR=$\backslash$\char`\"{}\#00FF00$\backslash$\char`\"{}$>$Active List - Cumulative {\bf Time} Required: @SUP@$<$/FONT$>$$<$/H1$>$$\backslash$n$\backslash$n$\backslash$Assumed hours available per day for the EPS method: $<$FONT COLOR=$\backslash$\char`\"{}\#FFFF00$\backslash$\char`\"{}$>$@EPSHRS@$<$/FONT$>$$\backslash$n$<$P$>$$\backslash$n$<$FORM METHOD=$\backslash$\char`\"{}@FORMMETHOD@$\backslash$\char`\"{} ACTION=$\backslash$\char`\"{}@FORMACTION@$\backslash$\char`\"{}$>$$<$INPUT type=$\backslash$\char`\"{}hidden$\backslash$\char`\"{} name=$\backslash$\char`\"{}dil2al$\backslash$\char`\"{} value=$\backslash$\char`\"{}MEtgroup$\backslash$\char`\"{}$>$$\backslash$n$<$TABLE CELLPADDING=3 BGCOLOR=$\backslash$\char`\"{}\#4F4F3F$\backslash$\char`\"{}$>$$\backslash$n$\backslash$n$<$TR$>$$<$TH$>$GRP$<$/TH$>$$<$TH$>$ID$<$/TH$>$$<$TH$>$DIL (primary)$<$/TH$>$$<$TH$>$Target Date$<$/TH$>$$<$TH$>$Treq$<$/TH$>$$<$TH$>$Tcum$<$/TH$>$$<$TH$>$Greq$<$/TH$>$$<$TH$>$EPS TD (chkbx=no update)$<$/TH$>$$<$TH$>$Excerpt$<$/TH$>$$\backslash$n$\backslash$n\char`\"{}}\label{dil2al_8hh_a104}




Definition at line 1291 of file dil2al.hh.

Referenced by generate\_\-AL().\index{dil2al.hh@{dil2al.hh}!DEFAULTALCUMULATIVEREQTAIL@{DEFAULTALCUMULATIVEREQTAIL}}
\index{DEFAULTALCUMULATIVEREQTAIL@{DEFAULTALCUMULATIVEREQTAIL}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALCUMULATIVEREQTAIL\ \char`\"{}$<$/TABLE$>$$\backslash$n$<$INPUT type=$\backslash$\char`\"{}radio$\backslash$\char`\"{} name=$\backslash$\char`\"{}TDupdate$\backslash$\char`\"{} value=$\backslash$\char`\"{}group$\backslash$\char`\"{} checked$>$ Minimize fragmentation $<$INPUT type=$\backslash$\char`\"{}radio$\backslash$\char`\"{} name=$\backslash$\char`\"{}TDupdate$\backslash$\char`\"{} value=$\backslash$\char`\"{}direct$\backslash$\char`\"{}$>$ Direct$<$BR$>$$\backslash$n$<$INPUT type=$\backslash$\char`\"{}submit$\backslash$\char`\"{} value=$\backslash$\char`\"{}Update$\backslash$\char`\"{}$>$ $<$INPUT type=$\backslash$\char`\"{}reset$\backslash$\char`\"{}$>$$<$/FORM$>$$\backslash$n$\backslash$n$<$P$>$$\backslash$n$<$LI$>$$<$A HREF=$\backslash$\char`\"{}@ALFILE@.html$\backslash$\char`\"{}$>$Active List - Focused: @SUP@$<$/A$>$$\backslash$n$<$LI$>$$<$A HREF=$\backslash$\char`\"{}@ALFILE@.wide.html$\backslash$\char`\"{}$>$Active List - Wide: @SUP@$<$/A$>$$\backslash$n$<$LI$>$$<$A HREF=$\backslash$\char`\"{}../lists.html\#AL$\backslash$\char`\"{}$>$Active Lists$<$/A$>$$\backslash$n$<$LI$>$$<$A HREF=$\backslash$\char`\"{}../lists.html\#DIL$\backslash$\char`\"{}$>$Topical Detailed Items Lists$<$/A$>$$\backslash$n$<$P$>$$\backslash$n$<$HR$>$$\backslash$n$\backslash$$\sim$/doc/$<$A HREF=$\backslash$\char`\"{}../maincont.html$\backslash$\char`\"{}$>$html$<$/A$>$/$<$A HREF=$\backslash$\char`\"{}../lists.html$\backslash$\char`\"{}$>$lists$<$/A$>$/@ALFILE@.ctr.html - $\backslash$(generated: @ALDATE@)$\backslash$n$\backslash$n$<$/BODY$>$$\backslash$n$<$/HTML$>$$\backslash$n\char`\"{}}\label{dil2al_8hh_a105}




Definition at line 1299 of file dil2al.hh.

Referenced by generate\_\-AL().\index{dil2al.hh@{dil2al.hh}!DEFAULTALDAYDISTSLOPE@{DEFAULTALDAYDISTSLOPE}}
\index{DEFAULTALDAYDISTSLOPE@{DEFAULTALDAYDISTSLOPE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALDAYDISTSLOPE\ 0.9}\label{dil2al_8hh_a48}




Definition at line 1195 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTALDAYEMPHASIS@{DEFAULTALDAYEMPHASIS}}
\index{DEFAULTALDAYEMPHASIS@{DEFAULTALDAYEMPHASIS}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALDAYEMPHASIS\ \char`\"{} BGCOLOR=$\backslash$\char`\"{}\#3F005F$\backslash$\char`\"{}\char`\"{}}\label{dil2al_8hh_a98}




Definition at line 1254 of file dil2al.hh.

Referenced by AL\_\-Day\_\-Marker(), and remove\_\-AL\_\-TC().\index{dil2al.hh@{dil2al.hh}!DEFAULTALEPSHOURS@{DEFAULTALEPSHOURS}}
\index{DEFAULTALEPSHOURS@{DEFAULTALEPSHOURS}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALEPSHOURS\ (24.0 - 6.0 - 2.5 - 1.0 - 3.5)}\label{dil2al_8hh_a45}




Definition at line 1192 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTALFOCUSED@{DEFAULTALFOCUSED}}
\index{DEFAULTALFOCUSED@{DEFAULTALFOCUSED}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALFOCUSED\ (3$\ast$3$\ast$12)}\label{dil2al_8hh_a41}




Definition at line 1188 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTALFOCUSEDEMPHASIS@{DEFAULTALFOCUSEDEMPHASIS}}
\index{DEFAULTALFOCUSEDEMPHASIS@{DEFAULTALFOCUSEDEMPHASIS}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALFOCUSEDEMPHASIS\ \char`\"{} BGCOLOR=$\backslash$\char`\"{}\#3F5F00$\backslash$\char`\"{}\char`\"{}}\label{dil2al_8hh_a101}




Definition at line 1273 of file dil2al.hh.

Referenced by Active\_\-List::generate\_\-focused\_\-AL(), and remove\_\-AL\_\-TC().\index{dil2al.hh@{dil2al.hh}!DEFAULTALFOCUSEDHEADER@{DEFAULTALFOCUSEDHEADER}}
\index{DEFAULTALFOCUSEDHEADER@{DEFAULTALFOCUSEDHEADER}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALFOCUSEDHEADER\ \char`\"{}$<$HTML$>$$\backslash$n$<$HEAD$>$$\backslash$n$<$TITLE$>$Active List - Focused: @SUP@$<$/TITLE$>$$\backslash$n$<$/HEAD$>$$\backslash$n$<$BODY BGCOLOR=$\backslash$\char`\"{}\#000000$\backslash$\char`\"{} TEXT=$\backslash$\char`\"{}\#F0E0A0$\backslash$\char`\"{} LINK=$\backslash$\char`\"{}\#AFAFFF$\backslash$\char`\"{} VLINK=$\backslash$\char`\"{}\#7F7FFF$\backslash$\char`\"{}$>$$\backslash$n$<$H1$>$$<$FONT COLOR=$\backslash$\char`\"{}\#00FF00$\backslash$\char`\"{}$>$Active List - Focused: @SUP@$<$/FONT$>$$<$/H1$>$$\backslash$n$\backslash$n$<$B$>$Involvement of DIL topics, I\_\-\{proj,top\} in [0,1]:$<$/B$>$$\backslash$n$<$UL$>$$\backslash$n(currently not in use)$\backslash$n$<$/UL$>$$\backslash$n$\backslash$n$<$B$>$AL Target Date:$<$/B$>$ @TD@ $<$B$>$General Daily Work Time:$<$/B$>$ @GENERAL-WORK-TIME@$\backslash$n$<$P$>$$\backslash$n$\backslash$@PASSED@$<$TABLE WIDTH=$\backslash$\char`\"{}100\%$\backslash$\char`\"{} CELLPADDING=3 BGCOLOR=$\backslash$\char`\"{}\#4F4F3F$\backslash$\char`\"{}$>$$\backslash$n$\backslash$n\char`\"{}}\label{dil2al_8hh_a99}




Definition at line 1256 of file dil2al.hh.

Referenced by Active\_\-List::generate\_\-focused\_\-AL().\index{dil2al.hh@{dil2al.hh}!DEFAULTALFOCUSEDTAIL@{DEFAULTALFOCUSEDTAIL}}
\index{DEFAULTALFOCUSEDTAIL@{DEFAULTALFOCUSEDTAIL}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALFOCUSEDTAIL\ \char`\"{}$<$/TABLE$>$$\backslash$n$<$P$>$$\backslash$n$\backslash$n$<$LI$>$$<$A HREF=$\backslash$\char`\"{}@ALFILE@.wide.html$\backslash$\char`\"{}$>$Active List - Wide: @SUP@$<$/A$>$$\backslash$n$\backslash$@CUMULATIVE@$<$LI$>$$<$A HREF=$\backslash$\char`\"{}../lists.html\#AL$\backslash$\char`\"{}$>$Active Lists$<$/A$>$$\backslash$n$<$LI$>$$<$A HREF=$\backslash$\char`\"{}../lists.html\#DIL$\backslash$\char`\"{}$>$Topical Detailed Items Lists$<$/A$>$$\backslash$n$<$P$>$$<$HR$>$$\sim$/doc/$<$A HREF=$\backslash$\char`\"{}../maincont.html$\backslash$\char`\"{}$>$html$<$/A$>$/$<$A HREF=$\backslash$\char`\"{}../lists.html$\backslash$\char`\"{}$>$lists$<$/A$>$/@ALFILE@.html - $\backslash$(generated: @ALDATE@)$\backslash$n$\backslash$n$<$/BODY$>$$\backslash$n$<$/HTML$>$$\backslash$n\char`\"{}}\label{dil2al_8hh_a100}




Definition at line 1265 of file dil2al.hh.

Referenced by Active\_\-List::generate\_\-focused\_\-AL().\index{dil2al.hh@{dil2al.hh}!DEFAULTALGENALL@{DEFAULTALGENALL}}
\index{DEFAULTALGENALL@{DEFAULTALGENALL}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALGENALL\ 13}\label{dil2al_8hh_a44}




Definition at line 1191 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTALGENREGULAR@{DEFAULTALGENREGULAR}}
\index{DEFAULTALGENREGULAR@{DEFAULTALGENREGULAR}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALGENREGULAR\ 8}\label{dil2al_8hh_a43}




Definition at line 1190 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTALSYNCSLACK@{DEFAULTALSYNCSLACK}}
\index{DEFAULTALSYNCSLACK@{DEFAULTALSYNCSLACK}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALSYNCSLACK\ ((time\_\-t) 60 $\ast$ (time\_\-t) 60)}\label{dil2al_8hh_a47}




Definition at line 1194 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTALTCS@{DEFAULTALTCS}}
\index{DEFAULTALTCS@{DEFAULTALTCS}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALTCS\ (3$\ast$3$\ast$12)}\label{dil2al_8hh_a40}




Definition at line 1187 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTALWIDE@{DEFAULTALWIDE}}
\index{DEFAULTALWIDE@{DEFAULTALWIDE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALWIDE\ (12$\ast$3$\ast$12)}\label{dil2al_8hh_a42}




Definition at line 1189 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTALWIDEHEADER@{DEFAULTALWIDEHEADER}}
\index{DEFAULTALWIDEHEADER@{DEFAULTALWIDEHEADER}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALWIDEHEADER\ \char`\"{}$<$HTML$>$$\backslash$n$<$HEAD$>$$\backslash$n$<$TITLE$>$Active List - Wide: @SUP@$<$/TITLE$>$$\backslash$n$<$/HEAD$>$$\backslash$n$<$BODY BGCOLOR=$\backslash$\char`\"{}\#000000$\backslash$\char`\"{} TEXT=$\backslash$\char`\"{}\#F0E0A0$\backslash$\char`\"{} LINK=$\backslash$\char`\"{}\#AFAFFF$\backslash$\char`\"{} VLINK=$\backslash$\char`\"{}\#7F7FFF$\backslash$\char`\"{}$>$$\backslash$n$<$H1$>$$<$FONT COLOR=$\backslash$\char`\"{}\#00FF00$\backslash$\char`\"{}$>$Active List - Wide: @SUP@$<$/FONT$>$$<$/H1$>$$\backslash$n$\backslash$n$<$OL$>$$<$B$>$DIL Reference$<$/B$>$$\backslash$n\char`\"{}}\label{dil2al_8hh_a102}




Definition at line 1275 of file dil2al.hh.

Referenced by Active\_\-List::generate\_\-wide\_\-AL().\index{dil2al.hh@{dil2al.hh}!DEFAULTALWIDETAIL@{DEFAULTALWIDETAIL}}
\index{DEFAULTALWIDETAIL@{DEFAULTALWIDETAIL}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALWIDETAIL\ \char`\"{}$<$/OL$>$$\backslash$n$\backslash$n$<$P$>$$\backslash$n$<$LI$>$$<$A HREF=$\backslash$\char`\"{}@ALFILE@.html$\backslash$\char`\"{}$>$Active List - Focused: @SUP@$<$/A$>$$\backslash$n$\backslash$@CUMULATIVE@$<$LI$>$$<$A HREF=$\backslash$\char`\"{}../lists.html\#AL$\backslash$\char`\"{}$>$Active Lists$<$/A$>$$\backslash$n$<$LI$>$$<$A HREF=$\backslash$\char`\"{}../lists.html\#DIL$\backslash$\char`\"{}$>$Topical Detailed Items Lists$<$/A$>$$\backslash$n$<$P$>$$\backslash$n$<$HR$>$$\backslash$n$\backslash$$\sim$/doc/$<$A HREF=$\backslash$\char`\"{}../maincont.html$\backslash$\char`\"{}$>$html$<$/A$>$/$<$A HREF=$\backslash$\char`\"{}../lists.html$\backslash$\char`\"{}$>$lists$<$/A$>$/@ALFILE@.wide.html - $\backslash$(generated: @ALDATE@)$\backslash$n$\backslash$n$<$/BODY$>$$\backslash$n$<$/HTML$>$$\backslash$n\char`\"{}}\label{dil2al_8hh_a103}




Definition at line 1280 of file dil2al.hh.

Referenced by Active\_\-List::generate\_\-wide\_\-AL().\index{dil2al.hh@{dil2al.hh}!DEFAULTALWORKDAYSTART@{DEFAULTALWORKDAYSTART}}
\index{DEFAULTALWORKDAYSTART@{DEFAULTALWORKDAYSTART}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTALWORKDAYSTART\ ((time\_\-t) 9 $\ast$ (time\_\-t) 60 $\ast$ (time\_\-t) 60)}\label{dil2al_8hh_a46}




Definition at line 1193 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTATCOMMAND@{DEFAULTATCOMMAND}}
\index{DEFAULTATCOMMAND@{DEFAULTATCOMMAND}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTATCOMMAND\ \char`\"{}at now\char`\"{}}\label{dil2al_8hh_a70}




Definition at line 1217 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTATCONTROLLER@{DEFAULTATCONTROLLER}}
\index{DEFAULTATCONTROLLER@{DEFAULTATCONTROLLER}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTATCONTROLLER\ \char`\"{}rxvt -display 'localhost:0.0' -e dil2al -S \&\char`\"{}}\label{dil2al_8hh_a71}




Definition at line 1218 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTBROWSER@{DEFAULTBROWSER}}
\index{DEFAULTBROWSER@{DEFAULTBROWSER}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTBROWSER\ \char`\"{}w3m\char`\"{}}\label{dil2al_8hh_a53}




Definition at line 1200 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTCHUNKSIZE@{DEFAULTCHUNKSIZE}}
\index{DEFAULTCHUNKSIZE@{DEFAULTCHUNKSIZE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTCHUNKSIZE\ 20}\label{dil2al_8hh_a37}




Definition at line 1184 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTCHUNKSLACK@{DEFAULTCHUNKSLACK}}
\index{DEFAULTCHUNKSLACK@{DEFAULTCHUNKSLACK}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTCHUNKSLACK\ 5}\label{dil2al_8hh_a38}




Definition at line 1185 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTEDITOR@{DEFAULTEDITOR}}
\index{DEFAULTEDITOR@{DEFAULTEDITOR}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTEDITOR\ \char`\"{}nedit\char`\"{}}\label{dil2al_8hh_a52}




Definition at line 1199 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTFLAGCMD@{DEFAULTFLAGCMD}}
\index{DEFAULTFLAGCMD@{DEFAULTFLAGCMD}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTFLAGCMD\ \char`\"{}xnotification $\backslash$\char`\"{}TTC$\backslash$\char`\"{} \&\char`\"{}}\label{dil2al_8hh_a69}




Definition at line 1216 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTHIERARCHYEXCERPTLENGTH@{DEFAULTHIERARCHYEXCERPTLENGTH}}
\index{DEFAULTHIERARCHYEXCERPTLENGTH@{DEFAULTHIERARCHYEXCERPTLENGTH}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTHIERARCHYEXCERPTLENGTH\ 50}\label{dil2al_8hh_a51}




Definition at line 1198 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTHIERARCHYMAXDEPTH@{DEFAULTHIERARCHYMAXDEPTH}}
\index{DEFAULTHIERARCHYMAXDEPTH@{DEFAULTHIERARCHYMAXDEPTH}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTHIERARCHYMAXDEPTH\ 15}\label{dil2al_8hh_a50}




Definition at line 1197 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTSECTIONSIZE@{DEFAULTSECTIONSIZE}}
\index{DEFAULTSECTIONSIZE@{DEFAULTSECTIONSIZE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTSECTIONSIZE\ 150}\label{dil2al_8hh_a39}




Definition at line 1186 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DEFAULTUNIECMD@{DEFAULTUNIECMD}}
\index{DEFAULTUNIECMD@{DEFAULTUNIECMD}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULTUNIECMD\ \char`\"{}nc -noask -do 'revert\_\-to\_\-saved()' @notedst@ -do 'set\_\-cursor\_\-pos(@{\bf res}@)' @notedst@\char`\"{}}\label{dil2al_8hh_a68}




Definition at line 1215 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DIL2AL_CONDITIONAL_ERROR_RETURN@{DIL2AL\_\-CONDITIONAL\_\-ERROR\_\-RETURN}}
\index{DIL2AL_CONDITIONAL_ERROR_RETURN@{DIL2AL\_\-CONDITIONAL\_\-ERROR\_\-RETURN}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DIL2AL\_\-CONDITIONAL\_\-ERROR\_\-RETURN(\_\-condition, \_\-message)\ if (\_\-condition) \{ EOUT $<$$<$ \_\-message; return {\bf false}; \}}\label{dil2al_8hh_a5}




Definition at line 71 of file dil2al.hh.

Referenced by modify\_\-element\_\-through\_\-FORM\_\-interface(), and search\_\-FORM\_\-cmd().\index{dil2al.hh@{dil2al.hh}!DIL_Superiors@{DIL\_\-Superiors}}
\index{DIL_Superiors@{DIL\_\-Superiors}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DIL\_\-Superiors\ {\bf DIL\_\-AL\_\-List}}\label{dil2al_8hh_a22}




Definition at line 547 of file dil2al.hh.

Referenced by generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-entry\_\-parameters(), generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-Superiors(), modify\_\-DIL\_\-group\_\-target\_\-dates(), modify\_\-element\_\-through\_\-FORM\_\-interface(), modify\_\-element\_\-through\_\-FORM\_\-interface\_\-DIL\_\-Superiors(), and update\_\-DIL\_\-entry\_\-parameter\_\-elements().\index{dil2al.hh@{dil2al.hh}!DILBYID_CACHE_NUMENTRIES_SUSPICIOUS@{DILBYID\_\-CACHE\_\-NUMENTRIES\_\-SUSPICIOUS}}
\index{DILBYID_CACHE_NUMENTRIES_SUSPICIOUS@{DILBYID\_\-CACHE\_\-NUMENTRIES\_\-SUSPICIOUS}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DILBYID\_\-CACHE\_\-NUMENTRIES\_\-SUSPICIOUS\ 10}\label{dil2al_8hh_a75}




Definition at line 1222 of file dil2al.hh.

Referenced by Detailed\_\-Items\_\-List::Read\_\-from\_\-Binary\_\-Cache().\index{dil2al.hh@{dil2al.hh}!DILBYID_FLOAT_FORMAT@{DILBYID\_\-FLOAT\_\-FORMAT}}
\index{DILBYID_FLOAT_FORMAT@{DILBYID\_\-FLOAT\_\-FORMAT}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DILBYID\_\-FLOAT\_\-FORMAT\ \char`\"{}\%.4g\char`\"{}}\label{dil2al_8hh_a95}




Definition at line 1249 of file dil2al.hh.

Referenced by Detailed\_\-Items\_\-List::Write\_\-to\_\-File().\index{dil2al.hh@{dil2al.hh}!DILBYIDFILE@{DILBYIDFILE}}
\index{DILBYIDFILE@{DILBYIDFILE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DILBYIDFILE\ \char`\"{}lists/detailed-items-by-ID.html\char`\"{}}\label{dil2al_8hh_a35}




Definition at line 1181 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DILMAIN@{DILMAIN}}
\index{DILMAIN@{DILMAIN}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DILMAIN\ \char`\"{}lists.html\char`\"{}}\label{dil2al_8hh_a33}




Definition at line 1179 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DILREFFILE@{DILREFFILE}}
\index{DILREFFILE@{DILREFFILE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DILREFFILE\ \char`\"{}tmp/{\bf dilref}\char`\"{}}\label{dil2al_8hh_a65}




Definition at line 1212 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!DILSUPS_BND_UNSPECIFIED@{DILSUPS\_\-BND\_\-UNSPECIFIED}}
\index{DILSUPS_BND_UNSPECIFIED@{DILSUPS\_\-BND\_\-UNSPECIFIED}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DILSUPS\_\-BND\_\-UNSPECIFIED\ 0.0}\label{dil2al_8hh_a25}




Definition at line 553 of file dil2al.hh.

Referenced by DIL\_\-AL\_\-List::DIL\_\-AL\_\-List(), modify\_\-DIL\_\-entry\_\-target\_\-date(), modify\_\-DIL\_\-group\_\-target\_\-dates(), modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd(), and Detailed\_\-Items\_\-List::Write\_\-to\_\-File().\index{dil2al.hh@{dil2al.hh}!DILSUPS_PRI_UNSPECIFIED@{DILSUPS\_\-PRI\_\-UNSPECIFIED}}
\index{DILSUPS_PRI_UNSPECIFIED@{DILSUPS\_\-PRI\_\-UNSPECIFIED}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DILSUPS\_\-PRI\_\-UNSPECIFIED\ 0.0}\label{dil2al_8hh_a28}




Definition at line 556 of file dil2al.hh.

Referenced by DIL\_\-AL\_\-List::DIL\_\-AL\_\-List(), modify\_\-DIL\_\-entry\_\-target\_\-date(), modify\_\-DIL\_\-group\_\-target\_\-dates(), modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd(), and Detailed\_\-Items\_\-List::Write\_\-to\_\-File().\index{dil2al.hh@{dil2al.hh}!DILSUPS_REL_UNSPECIFIED@{DILSUPS\_\-REL\_\-UNSPECIFIED}}
\index{DILSUPS_REL_UNSPECIFIED@{DILSUPS\_\-REL\_\-UNSPECIFIED}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DILSUPS\_\-REL\_\-UNSPECIFIED\ 0.0}\label{dil2al_8hh_a23}




Definition at line 551 of file dil2al.hh.

Referenced by DIL\_\-AL\_\-List::DIL\_\-AL\_\-List(), DIL\_\-Hierarchy\_\-Level\_\-Data::DIL\_\-Hierarchy\_\-Level\_\-Data(), modify\_\-DIL\_\-entry\_\-target\_\-date(), modify\_\-DIL\_\-group\_\-target\_\-dates(), modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd(), Show\_\-DIL\_\-Hierarchy(), DIL\_\-Visualize\_\-with\_\-FORM\_\-Tabs::Visualize\_\-Plan\_\-Entry(), and Detailed\_\-Items\_\-List::Write\_\-to\_\-File().\index{dil2al.hh@{dil2al.hh}!DILSUPS_TD_UNSPECIFIED@{DILSUPS\_\-TD\_\-UNSPECIFIED}}
\index{DILSUPS_TD_UNSPECIFIED@{DILSUPS\_\-TD\_\-UNSPECIFIED}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DILSUPS\_\-TD\_\-UNSPECIFIED\ -1}\label{dil2al_8hh_a26}




Definition at line 554 of file dil2al.hh.

Referenced by DIL\_\-AL\_\-List::DIL\_\-AL\_\-List(), generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-Superiors(), and Detailed\_\-Items\_\-List::Write\_\-to\_\-File().\index{dil2al.hh@{dil2al.hh}!DILSUPS_TDPROP_FIXED@{DILSUPS\_\-TDPROP\_\-FIXED}}
\index{DILSUPS_TDPROP_FIXED@{DILSUPS\_\-TDPROP\_\-FIXED}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DILSUPS\_\-TDPROP\_\-FIXED\ 1}\label{dil2al_8hh_a29}




Definition at line 557 of file dil2al.hh.

Referenced by generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-Superiors(), Detailed\_\-Items\_\-List::Get\_\-Project\_\-Data(), modify\_\-element\_\-through\_\-FORM\_\-interface\_\-DIL\_\-Superiors(), DIL\_\-AL\_\-List::set\_\-targetdate(), and Detailed\_\-Items\_\-List::Write\_\-to\_\-File().\index{dil2al.hh@{dil2al.hh}!DILSUPS_UNB_UNSPECIFIED@{DILSUPS\_\-UNB\_\-UNSPECIFIED}}
\index{DILSUPS_UNB_UNSPECIFIED@{DILSUPS\_\-UNB\_\-UNSPECIFIED}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DILSUPS\_\-UNB\_\-UNSPECIFIED\ 0.0}\label{dil2al_8hh_a24}




Definition at line 552 of file dil2al.hh.

Referenced by DIL\_\-AL\_\-List::DIL\_\-AL\_\-List(), modify\_\-DIL\_\-entry\_\-target\_\-date(), modify\_\-DIL\_\-group\_\-target\_\-dates(), modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd(), and Detailed\_\-Items\_\-List::Write\_\-to\_\-File().\index{dil2al.hh@{dil2al.hh}!DILSUPS_URG_UNSPECIFIED@{DILSUPS\_\-URG\_\-UNSPECIFIED}}
\index{DILSUPS_URG_UNSPECIFIED@{DILSUPS\_\-URG\_\-UNSPECIFIED}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DILSUPS\_\-URG\_\-UNSPECIFIED\ 0.0}\label{dil2al_8hh_a27}




Definition at line 555 of file dil2al.hh.

Referenced by DIL\_\-AL\_\-List::DIL\_\-AL\_\-List(), modify\_\-DIL\_\-entry\_\-target\_\-date(), modify\_\-DIL\_\-group\_\-target\_\-dates(), modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd(), and Detailed\_\-Items\_\-List::Write\_\-to\_\-File().\index{dil2al.hh@{dil2al.hh}!DILTOPICS_REL_UNSPECIFIED@{DILTOPICS\_\-REL\_\-UNSPECIFIED}}
\index{DILTOPICS_REL_UNSPECIFIED@{DILTOPICS\_\-REL\_\-UNSPECIFIED}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DILTOPICS\_\-REL\_\-UNSPECIFIED\ 0.0}\label{dil2al_8hh_a21}




Definition at line 521 of file dil2al.hh.

Referenced by Detailed\_\-Items\_\-List::Write\_\-to\_\-File().\index{dil2al.hh@{dil2al.hh}!DIN@{DIN}}
\index{DIN@{DIN}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DIN\ ($\ast${\bf din})}\label{dil2al_8hh_a106}




Definition at line 1405 of file dil2al.hh.

Referenced by Detect\_\-Form\_\-Input(), dil2al\_\-commands(), initialize\_\-new\_\-DIL\_\-TL(), modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd(), and send\_\-dil\_\-to\_\-DIL().\index{dil2al.hh@{dil2al.hh}!EOUT@{EOUT}}
\index{EOUT@{EOUT}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define EOUT\ ($\ast${\bf eout})}\label{dil2al_8hh_a107}




Definition at line 1406 of file dil2al.hh.

Referenced by Active\_\-List::Add\_\-Day(), add\_\-new\_\-to\_\-DIL(), add\_\-TL\_\-chunk\_\-or\_\-entry(), add\_\-TL\_\-section(), AL\_\-TC::allocate\_\-with\_\-value(), AL\_\-Day::available\_\-before(), backup\_\-and\_\-rename(), Detailed\_\-Items\_\-List::Binary\_\-Cache\_\-Diagnostic(), chunk\_\-controller(), clean\_\-paper\_\-outline(), cmdline\_\-extract\_\-paper\_\-novelties(), cmdline\_\-extract\_\-paper\_\-plan\_\-to\_\-paper(), convert\_\-item\_\-content\_\-to\_\-Te\-X(), copy\_\-until\_\-line(), create\_\-new\_\-DIL(), D2A\_\-get\_\-tag(), decide\_\-add\_\-TL\_\-chunk(), dil2al\_\-commands(), DIL\_\-Required\_\-Task\_\-Chunks(), AL\_\-Day::expand(), extract\_\-hierarchy\_\-depth\_\-decrease\_\-to\_\-paper(), extract\_\-hierarchy\_\-depth\_\-increase\_\-to\_\-paper(), extract\_\-novelty\_\-item\_\-to\_\-paper(), extract\_\-paper\_\-novelties(), extract\_\-paper\_\-plan\_\-to\_\-paper(), extract\_\-recursively(), extract\_\-required\_\-item\_\-to\_\-paper(), file\_\-is\_\-directory(), file\_\-is\_\-regular(), file\_\-is\_\-regular\_\-or\_\-symlink(), find\_\-in\_\-line(), find\_\-line(), formalizer\_\-commands(), generate\_\-AL(), generate\_\-AL\_\-entry(), Active\_\-List::generate\_\-focused\_\-AL(), Active\_\-List::generate\_\-wide\_\-AL(), get\_\-active\_\-DIL\_\-IDs(), Detailed\_\-Items\_\-List::Get\_\-All\_\-DIL\_\-ID\_\-File\_\-Parameters(), Detailed\_\-Items\_\-List::Get\_\-All\_\-Topical\_\-DIL\_\-Parameters(), get\_\-figure\_\-data(), get\_\-file\_\-in\_\-list(), get\_\-new\_\-DIL\_\-ID(), Novelty\_\-Marker::Get\_\-Novelty\_\-from\_\-Paper\_\-Plan(), get\_\-Paper\_\-Plans\_\-Section\_\-IDs(), Get\_\-Target\_\-Directory(), Get\_\-Target\_\-Regex(), get\_\-TL\_\-head(), get\_\-topic\_\-keywords(), Get\_\-Worked\_\-Estimate(), HTML\_\-get\_\-href(), HTML\_\-get\_\-name(), include\_\-article\_\-head\_\-template(), include\_\-article\_\-section\_\-head\_\-template(), include\_\-article\_\-section\_\-tail\_\-template(), include\_\-article\_\-tail\_\-template(), include\_\-protected\_\-text(), Active\_\-List::Initialize\_\-AL\_\-Length(), initialize\_\-new\_\-DIL\_\-TL(), DIL\_\-entry::Is\_\-Dependency\_\-Of(), DIL\_\-entry::Is\_\-Plan\_\-Entry(), DIL\_\-entry\_\-content::Is\_\-Plan\_\-Entry(), locate\_\-most\_\-recent\_\-TL\_\-chunk(), Lock\_\-File(), Target\_\-Access::make\_\-local\_\-copy(), make\_\-note(), modify\_\-DIL\_\-entry\_\-target\_\-date(), modify\_\-DIL\_\-group\_\-target\_\-dates(), Modify\_\-Element(), pattern\_\-in\_\-line(), prepare\_\-temporary\_\-file(), process\_\-HTML(), process\_\-note(), process\_\-note\_\-HTML(), process\_\-note\_\-Te\-X(), process\_\-note\_\-TL(), Quantitative\_\-Assessment(), read\_\-file\_\-into\_\-String(), read\_\-financial\_\-notes\_\-file(), Detailed\_\-Items\_\-List::Read\_\-from\_\-Binary\_\-Cache(), Detailed\_\-Items\_\-List::Read\_\-Topical\_\-from\_\-Binary\_\-Cache(), Topical\_\-DIL\_\-Files::Refresh(), refresh\_\-quick\_\-load\_\-cache(), remove\_\-AL\_\-TC(), schedule\_\-controller(), Search\_\-Target::search(), search\_\-cmd(), select\_\-TL\_\-AL\_\-refs(), select\_\-TL\_\-DIL\_\-refs(), send\_\-dil\_\-to\_\-DIL(), AL\_\-Day::set\_\-avail(), Target\_\-Access::set\_\-target(), AL\_\-Day::set\_\-TC\_\-values(), Show\_\-DIL\_\-Hierarchy(), Detailed\_\-Items\_\-List::Sort\_\-by\_\-Target\_\-Date(), stop\_\-TL\_\-chunk(), substring\_\-from\_\-line(), Target\_\-Access::syscommand(), Tabbed\_\-DIL\_\-Hierarchy(), Tabbed\_\-FORM\_\-DIL\_\-Hierarchy(), Tabbed\_\-HTML\_\-DIL\_\-Hierarchy(), Text\_\-limit\_\-line\_\-length(), Unlock\_\-File(), update\_\-DIL\_\-entry\_\-elements(), update\_\-DIL\_\-entry\_\-parameter\_\-elements(), update\_\-main\_\-ALs(), write\_\-file\_\-from\_\-String(), Detailed\_\-Items\_\-List::Write\_\-to\_\-Binary\_\-Cache(), Detailed\_\-Items\_\-List::Write\_\-to\_\-File(), and Detailed\_\-Items\_\-List::Write\_\-Topical\_\-to\_\-Binary\_\-Cache().\index{dil2al.hh@{dil2al.hh}!FIGURESDIRECTORY@{FIGURESDIRECTORY}}
\index{FIGURESDIRECTORY@{FIGURESDIRECTORY}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define FIGURESDIRECTORY\ \char`\"{}lists/figures-directory.html\char`\"{}}\label{dil2al_8hh_a59}




Definition at line 1206 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!FINNOTESFILE@{FINNOTESFILE}}
\index{FINNOTESFILE@{FINNOTESFILE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define FINNOTESFILE\ \char`\"{}financial-notes.html\char`\"{}}\label{dil2al_8hh_a67}




Definition at line 1214 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!HITIME_T@{HITIME\_\-T}}
\index{HITIME_T@{HITIME\_\-T}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define HITIME\_\-T\ ((time\_\-t)(1 $<$$<$ BITS(time\_\-t) - 1))}\label{dil2al_8hh_a2}




Definition at line 66 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!LONGLIST_INITIAL_VALUE@{LONGLIST\_\-INITIAL\_\-VALUE}}
\index{LONGLIST_INITIAL_VALUE@{LONGLIST\_\-INITIAL\_\-VALUE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define LONGLIST\_\-INITIAL\_\-VALUE\ -1}\label{dil2al_8hh_a6}




Definition at line 130 of file dil2al.hh.

Referenced by Long\-List::Long\-List().\index{dil2al.hh@{dil2al.hh}!LOOP_PROTECT@{LOOP\_\-PROTECT}}
\index{LOOP_PROTECT@{LOOP\_\-PROTECT}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define LOOP\_\-PROTECT}\label{dil2al_8hh_a0}




Definition at line 50 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!MAX_RECURSIVE_PP2PD_EXTRACTION_DEPTH@{MAX\_\-RECURSIVE\_\-PP2PD\_\-EXTRACTION\_\-DEPTH}}
\index{MAX_RECURSIVE_PP2PD_EXTRACTION_DEPTH@{MAX\_\-RECURSIVE\_\-PP2PD\_\-EXTRACTION\_\-DEPTH}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define MAX\_\-RECURSIVE\_\-PP2PD\_\-EXTRACTION\_\-DEPTH\ 7}\label{dil2al_8hh_a74}




Definition at line 1221 of file dil2al.hh.

Referenced by extract\_\-recursively().\index{dil2al.hh@{dil2al.hh}!MAXTIME_T@{MAXTIME\_\-T}}
\index{MAXTIME_T@{MAXTIME\_\-T}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define MAXTIME\_\-T\ ((time\_\-t)($\sim$HITIME\_\-T))}\label{dil2al_8hh_a3}




Definition at line 68 of file dil2al.hh.

Referenced by AL\_\-Day::add\_\-TCs(), DIL\_\-entry\_\-target\_\-date\_\-qsort\_\-compare(), and DIL\_\-entry::Propagated\_\-Target\_\-Date().\index{dil2al.hh@{dil2al.hh}!NOTETMPFILE@{NOTETMPFILE}}
\index{NOTETMPFILE@{NOTETMPFILE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define NOTETMPFILE\ \char`\"{}tmp/dil2al-note.html\char`\"{}}\label{dil2al_8hh_a54}




Definition at line 1201 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!OWNER@{OWNER}}
\index{OWNER@{OWNER}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define OWNER\ \char`\"{}Randal A. Koene\char`\"{}}\label{dil2al_8hh_a36}




Definition at line 1182 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!PAPERPLANSFILE@{PAPERPLANSFILE}}
\index{PAPERPLANSFILE@{PAPERPLANSFILE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define PAPERPLANSFILE\ \char`\"{}lists/paper-plans.html\char`\"{}}\label{dil2al_8hh_a58}




Definition at line 1205 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!PLAN_ENTRY_TYPE_ACTION@{PLAN\_\-ENTRY\_\-TYPE\_\-ACTION}}
\index{PLAN_ENTRY_TYPE_ACTION@{PLAN\_\-ENTRY\_\-TYPE\_\-ACTION}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define PLAN\_\-ENTRY\_\-TYPE\_\-ACTION\ 1}\label{dil2al_8hh_a11}




Definition at line 482 of file dil2al.hh.

Referenced by DIL\_\-Visualize\_\-with\_\-FORM\_\-Tabs::Visualize\_\-Plan\_\-Entry().\index{dil2al.hh@{dil2al.hh}!PLAN_ENTRY_TYPE_GOAL@{PLAN\_\-ENTRY\_\-TYPE\_\-GOAL}}
\index{PLAN_ENTRY_TYPE_GOAL@{PLAN\_\-ENTRY\_\-TYPE\_\-GOAL}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define PLAN\_\-ENTRY\_\-TYPE\_\-GOAL\ 2}\label{dil2al_8hh_a12}




Definition at line 483 of file dil2al.hh.

Referenced by Plan\_\-entry\_\-content::Parse\_\-Entry\_\-Content(), and DIL\_\-Visualize\_\-with\_\-FORM\_\-Tabs::Visualize\_\-Plan\_\-Entry().\index{dil2al.hh@{dil2al.hh}!PLAN_ENTRY_TYPE_NONE@{PLAN\_\-ENTRY\_\-TYPE\_\-NONE}}
\index{PLAN_ENTRY_TYPE_NONE@{PLAN\_\-ENTRY\_\-TYPE\_\-NONE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define PLAN\_\-ENTRY\_\-TYPE\_\-NONE\ 0}\label{dil2al_8hh_a10}




Definition at line 481 of file dil2al.hh.

Referenced by DIL\_\-entry\_\-content::Is\_\-Plan\_\-Entry().\index{dil2al.hh@{dil2al.hh}!PLAN_ENTRY_TYPE_OBJECTIVE@{PLAN\_\-ENTRY\_\-TYPE\_\-OBJECTIVE}}
\index{PLAN_ENTRY_TYPE_OBJECTIVE@{PLAN\_\-ENTRY\_\-TYPE\_\-OBJECTIVE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define PLAN\_\-ENTRY\_\-TYPE\_\-OBJECTIVE\ 3}\label{dil2al_8hh_a13}




Definition at line 484 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!PLAN_ENTRY_TYPE_OUTCOME@{PLAN\_\-ENTRY\_\-TYPE\_\-OUTCOME}}
\index{PLAN_ENTRY_TYPE_OUTCOME@{PLAN\_\-ENTRY\_\-TYPE\_\-OUTCOME}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define PLAN\_\-ENTRY\_\-TYPE\_\-OUTCOME\ 4}\label{dil2al_8hh_a14}




Definition at line 485 of file dil2al.hh.

Referenced by generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-entry\_\-content(), and generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-entry\_\-parameters().\index{dil2al.hh@{dil2al.hh}!PLAN_ENTRY_TYPE_UNASSIGNED@{PLAN\_\-ENTRY\_\-TYPE\_\-UNASSIGNED}}
\index{PLAN_ENTRY_TYPE_UNASSIGNED@{PLAN\_\-ENTRY\_\-TYPE\_\-UNASSIGNED}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define PLAN\_\-ENTRY\_\-TYPE\_\-UNASSIGNED\ -1}\label{dil2al_8hh_a9}




Definition at line 480 of file dil2al.hh.

Referenced by DIL\_\-entry\_\-content::DIL\_\-entry\_\-content(), DIL\_\-entry::Is\_\-Plan\_\-Entry(), and DIL\_\-entry\_\-content::Is\_\-Plan\_\-Entry().\index{dil2al.hh@{dil2al.hh}!PLAN_ENTRY_TYPE_VARIABLE@{PLAN\_\-ENTRY\_\-TYPE\_\-VARIABLE}}
\index{PLAN_ENTRY_TYPE_VARIABLE@{PLAN\_\-ENTRY\_\-TYPE\_\-VARIABLE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define PLAN\_\-ENTRY\_\-TYPE\_\-VARIABLE\ 5}\label{dil2al_8hh_a15}




Definition at line 486 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!PLAN_OUTCOME_DESIRABILITY@{PLAN\_\-OUTCOME\_\-DESIRABILITY}}
\index{PLAN_OUTCOME_DESIRABILITY@{PLAN\_\-OUTCOME\_\-DESIRABILITY}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define PLAN\_\-OUTCOME\_\-DESIRABILITY\ valuation}\label{dil2al_8hh_a16}




Definition at line 487 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!PLAN_OUTCOME_LIKELIHOOD@{PLAN\_\-OUTCOME\_\-LIKELIHOOD}}
\index{PLAN_OUTCOME_LIKELIHOOD@{PLAN\_\-OUTCOME\_\-LIKELIHOOD}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define PLAN\_\-OUTCOME\_\-LIKELIHOOD\ relevance}\label{dil2al_8hh_a30}




Definition at line 558 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!RECURSIVE_QUICK_STRING_HASH@{RECURSIVE\_\-QUICK\_\-STRING\_\-HASH}}
\index{RECURSIVE_QUICK_STRING_HASH@{RECURSIVE\_\-QUICK\_\-STRING\_\-HASH}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define RECURSIVE\_\-QUICK\_\-STRING\_\-HASH}\label{dil2al_8hh_a7}




Definition at line 162 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!RELDIRHTML@{RELDIRHTML}}
\index{RELDIRHTML@{RELDIRHTML}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define RELDIRHTML\ \char`\"{}doc/html/\char`\"{}}\label{dil2al_8hh_a32}




Definition at line 1178 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!RELLISTSDIR@{RELLISTSDIR}}
\index{RELLISTSDIR@{RELLISTSDIR}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define RELLISTSDIR\ \char`\"{}lists/\char`\"{}}\label{dil2al_8hh_a34}




Definition at line 1180 of file dil2al.hh.

Referenced by add\_\-new\_\-to\_\-DIL(), add\_\-TL\_\-chunk\_\-or\_\-entry(), add\_\-TL\_\-section(), create\_\-new\_\-DIL(), generate\_\-AL(), generate\_\-AL\_\-entry(), Active\_\-List::generate\_\-focused\_\-AL(), generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-entry\_\-content(), Active\_\-List::generate\_\-wide\_\-AL(), get\_\-most\_\-recent\_\-TC\_\-AL(), select\_\-TL\_\-AL\_\-refs(), select\_\-TL\_\-DIL\_\-refs(), send\_\-dil\_\-to\_\-DIL(), and update\_\-main\_\-ALs().\index{dil2al.hh@{dil2al.hh}!SECONDSPERDAY@{SECONDSPERDAY}}
\index{SECONDSPERDAY@{SECONDSPERDAY}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define SECONDSPERDAY\ (60$\ast$60$\ast$24)}\label{dil2al_8hh_a4}




Definition at line 69 of file dil2al.hh.

Referenced by Active\_\-List::Add\_\-Day(), AL\_\-Day::Add\_\-Target\_\-Date(), AL\_\-Day::AL\_\-Day(), generate\_\-EPS\_\-cells(), Active\_\-List::Initialize\_\-AL\_\-Length(), and remove\_\-AL\_\-TC().\index{dil2al.hh@{dil2al.hh}!TAREADFILE@{TAREADFILE}}
\index{TAREADFILE@{TAREADFILE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define TAREADFILE\ \char`\"{}tmp/dil2al-TA-read.\char`\"{}}\label{dil2al_8hh_a66}




Definition at line 1213 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!TASKLOGFILE@{TASKLOGFILE}}
\index{TASKLOGFILE@{TASKLOGFILE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define TASKLOGFILE\ \char`\"{}lists/task-log.html\char`\"{}}\label{dil2al_8hh_a57}




Definition at line 1204 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!TCS_ASK@{TCS\_\-ASK}}
\index{TCS_ASK@{TCS\_\-ASK}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define TCS\_\-ASK\ 2}\label{dil2al_8hh_a78}




Definition at line 1226 of file dil2al.hh.

Referenced by decide\_\-add\_\-TL\_\-chunk(), and Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!TCS_CURRENT@{TCS\_\-CURRENT}}
\index{TCS_CURRENT@{TCS\_\-CURRENT}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define TCS\_\-CURRENT\ 0}\label{dil2al_8hh_a76}




Definition at line 1224 of file dil2al.hh.

Referenced by decide\_\-add\_\-TL\_\-chunk(), and Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!TCS_NEW@{TCS\_\-NEW}}
\index{TCS_NEW@{TCS\_\-NEW}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define TCS\_\-NEW\ 1}\label{dil2al_8hh_a77}




Definition at line 1225 of file dil2al.hh.

Referenced by decide\_\-add\_\-TL\_\-chunk(), and Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!TD_PROTECT@{TD\_\-PROTECT}}
\index{TD_PROTECT@{TD\_\-PROTECT}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define TD\_\-PROTECT\ 1}\label{dil2al_8hh_a31}




Definition at line 650 of file dil2al.hh.

Referenced by DIL\_\-entry::Propagated\_\-Target\_\-Date().\index{dil2al.hh@{dil2al.hh}!TEMPLATEARTICLESUBSECTION@{TEMPLATEARTICLESUBSECTION}}
\index{TEMPLATEARTICLESUBSECTION@{TEMPLATEARTICLESUBSECTION}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define TEMPLATEARTICLESUBSECTION\ \char`\"{}lists/template.Article-Sub\-Section.tex\char`\"{}}\label{dil2al_8hh_a63}




Definition at line 1210 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!TEMPLATEARTICLESUBSUBSECTION@{TEMPLATEARTICLESUBSUBSECTION}}
\index{TEMPLATEARTICLESUBSUBSECTION@{TEMPLATEARTICLESUBSUBSECTION}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define TEMPLATEARTICLESUBSUBSECTION\ \char`\"{}lists/template.Article-Sub\-Sub\-Section.tex\char`\"{}}\label{dil2al_8hh_a64}




Definition at line 1211 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!TLENTRYTMPFILE@{TLENTRYTMPFILE}}
\index{TLENTRYTMPFILE@{TLENTRYTMPFILE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define TLENTRYTMPFILE\ \char`\"{}tmp/dil2al-TLentry.html\char`\"{}}\label{dil2al_8hh_a55}




Definition at line 1202 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!Topical_DIL_Files_Updated_Access@{Topical\_\-DIL\_\-Files\_\-Updated\_\-Access}}
\index{Topical_DIL_Files_Updated_Access@{Topical\_\-DIL\_\-Files\_\-Updated\_\-Access}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define Topical\_\-DIL\_\-Files\_\-Updated\_\-Access(Here, There, There\-Steps)}\label{dil2al_8hh_a8}


{\bf Value:}

\footnotesize\begin{verbatim}if (updated) { \
                Protected_Linked_List_Indexed_Access(Topical_DIL_Files,Here,There); \
        } \
        if (!Prev()) { \
                if (Refresh()) return ThereSteps(n); \
                else return NULL; \
        } else { \
                Invalidate(); \
                return Prev()->ThereSteps(n+1); \
        }\end{verbatim}\normalsize 


Definition at line 366 of file dil2al.hh.

Referenced by Topical\_\-DIL\_\-Files::File(), Topical\_\-DIL\_\-Files::Title(), and Topical\_\-DIL\_\-Files::Topic().\index{dil2al.hh@{dil2al.hh}!TSS_ASK@{TSS\_\-ASK}}
\index{TSS_ASK@{TSS\_\-ASK}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define TSS\_\-ASK\ 2}\label{dil2al_8hh_a81}




Definition at line 1230 of file dil2al.hh.

Referenced by decide\_\-add\_\-TL\_\-chunk(), and Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!TSS_CURRENT@{TSS\_\-CURRENT}}
\index{TSS_CURRENT@{TSS\_\-CURRENT}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define TSS\_\-CURRENT\ 0}\label{dil2al_8hh_a79}




Definition at line 1228 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!TSS_NEW@{TSS\_\-NEW}}
\index{TSS_NEW@{TSS\_\-NEW}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define TSS\_\-NEW\ 1}\label{dil2al_8hh_a80}




Definition at line 1229 of file dil2al.hh.

Referenced by decide\_\-add\_\-TL\_\-chunk(), and Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!UNIE_ASK@{UNIE\_\-ASK}}
\index{UNIE_ASK@{UNIE\_\-ASK}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define UNIE\_\-ASK\ 2}\label{dil2al_8hh_a84}




Definition at line 1234 of file dil2al.hh.

Referenced by process\_\-note(), and Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!UNIE_NO@{UNIE\_\-NO}}
\index{UNIE_NO@{UNIE\_\-NO}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define UNIE\_\-NO\ 0}\label{dil2al_8hh_a82}




Definition at line 1232 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!UNIE_YES@{UNIE\_\-YES}}
\index{UNIE_YES@{UNIE\_\-YES}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define UNIE\_\-YES\ 1}\label{dil2al_8hh_a83}




Definition at line 1233 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!VOUT@{VOUT}}
\index{VOUT@{VOUT}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define VOUT\ ($\ast${\bf vout})}\label{dil2al_8hh_a108}




Definition at line 1407 of file dil2al.hh.

Referenced by add\_\-new\_\-to\_\-DIL(), AL\_\-Day::allocate(), AL\_\-Day::allocate\_\-with\_\-value(), Assess\_\-Paper\_\-Correction\_\-Time(), backup\_\-and\_\-rename(), Detailed\_\-Items\_\-List::Binary\_\-Cache\_\-Diagnostic(), DIL\_\-entry::Binary\_\-Cache\_\-Diagnostic(), DIL\_\-entry\_\-parameters::Binary\_\-Cache\_\-Diagnostic(), DIL\_\-AL\_\-List::Binary\_\-Cache\_\-Diagnostic(), DIL\_\-Topical\_\-List::Binary\_\-Cache\_\-Diagnostic(), DIL\_\-entry\_\-content::Binary\_\-Cache\_\-Diagnostic(), chunk\_\-controller(), clean\_\-paper\_\-outline(), create\_\-new\_\-DIL(), dil2al\_\-commands(), DIL\_\-Hierarchy\_\-cmd(), exit\_\-report(), Active\_\-List::expand(), AL\_\-Day::expand(), extract\_\-DIL\_\-IDs\_\-from\_\-form(), extract\_\-hierarchy\_\-depth\_\-decrease\_\-to\_\-paper(), extract\_\-hierarchy\_\-depth\_\-increase\_\-to\_\-paper(), extract\_\-paper\_\-plan\_\-to\_\-paper(), extract\_\-recursively(), extract\_\-required\_\-item\_\-to\_\-paper(), extraction\_\-put\_\-figure(), financial\_\-monthly(), financial\_\-notes(), Form\_\-Input\_\-Error(), Form\_\-Reply(), Form\_\-Reply\_\-Close(), Form\_\-Reply\_\-Open(), generate\_\-AL(), Active\_\-List::generate\_\-focused\_\-AL(), generate\_\-modify\_\-element\_\-FORM\_\-interface(), generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-entry\_\-content(), generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-entry\_\-parameters(), generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-Superiors(), Active\_\-List::generate\_\-wide\_\-AL(), Detailed\_\-Items\_\-List::Get\_\-All\_\-DIL\_\-ID\_\-File\_\-Parameters(), Detailed\_\-Items\_\-List::Get\_\-All\_\-Topical\_\-DIL\_\-Parameters(), get\_\-figure\_\-data(), get\_\-TL\_\-head(), include\_\-article\_\-head\_\-template(), Active\_\-List::Initialize\_\-AL\_\-Length(), make\_\-note(), modify\_\-DIL\_\-entry\_\-target\_\-date(), modify\_\-DIL\_\-group\_\-target\_\-dates(), modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd(), modify\_\-element\_\-through\_\-FORM\_\-interface(), modify\_\-element\_\-through\_\-FORM\_\-interface\_\-DIL\_\-Superiors(), pre\_\-process\_\-note(), process\_\-note\_\-CC(), process\_\-note\_\-generic(), DIL\_\-entry::Propagated\_\-Target\_\-Date(), read\_\-financial\_\-notes\_\-file(), Detailed\_\-Items\_\-List::Read\_\-from\_\-Binary\_\-Cache(), DIL\_\-entry::Read\_\-from\_\-Binary\_\-Cache(), DIL\_\-entry\_\-parameters::Read\_\-from\_\-Binary\_\-Cache(), DIL\_\-AL\_\-List::Read\_\-from\_\-Binary\_\-Cache(), Detailed\_\-Items\_\-List::Read\_\-Topical\_\-from\_\-Binary\_\-Cache(), DIL\_\-entry::Read\_\-Topical\_\-from\_\-Binary\_\-Cache(), remove\_\-AL\_\-TC(), search\_\-cmd(), search\_\-output(), select\_\-TL\_\-DIL\_\-refs(), send\_\-dil\_\-to\_\-DIL(), stop\_\-TL\_\-chunk(), superior\_\-reference\_\-info(), Tabbed\_\-FORM\_\-DIL\_\-Hierarchy(), Tabbed\_\-FORM\_\-DIL\_\-Hierarchy\_\-full(), Te\-X\_\-format\_\-corrections(), Text\_\-limit\_\-line\_\-length(), time\_\-chunk\_\-remaining(), update\_\-DIL\_\-entry\_\-elements(), update\_\-DIL\_\-entry\_\-parameter\_\-elements(), update\_\-main\_\-ALs(), write\_\-file\_\-from\_\-String(), Detailed\_\-Items\_\-List::Write\_\-to\_\-Binary\_\-Cache(), and Detailed\_\-Items\_\-List::Write\_\-Topical\_\-to\_\-Binary\_\-Cache().

\subsection{Typedef Documentation}
\index{dil2al.hh@{dil2al.hh}!idnumber@{idnumber}}
\index{idnumber@{idnumber}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef unsigned long idnumber}\label{dil2al_8hh_a109}




Definition at line 73 of file dil2al.hh.

Referenced by DIL\_\-ID::DIL\_\-ID().

\subsection{Function Documentation}
\index{dil2al.hh@{dil2al.hh}!absurl@{absurl}}
\index{absurl@{absurl}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} absurl ({\bf String} {\em srcurl}, {\bf String} {\em relurl})}\label{dil2al_8hh_a229}




Definition at line 1943 of file utilities.cc.

References String::after(), String::before(), String::contains(), String::freq(), and String::gsub().

Referenced by extract\_\-paper\_\-plan\_\-to\_\-paper(), extract\_\-recursively(), generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-entry\_\-content(), Detailed\_\-Items\_\-List::Get\_\-All\_\-DIL\_\-ID\_\-File\_\-Parameters(), get\_\-Paper\_\-Plans\_\-Section\_\-IDs(), modify\_\-element\_\-through\_\-FORM\_\-interface(), and Topical\_\-DIL\_\-Files::Refresh().



\footnotesize\begin{verbatim}1943                                             {
1944 // srcurl is an absolute filename or a directory path
1945 // ending with "/"
1946 // relurl is a URL relative to srcurl or an absolute URL
1947 // Note: This function may be confused by directory names
1948 //       of the form BigRegex(".+[.][.]")
1949         if (relurl=="") return srcurl;
1950         if (relurl.contains("://")) relurl = relurl.after("://");
1951         if (relurl[0]=='/') return relurl;
1952         if (relurl[0]=='#') return srcurl+relurl;
1953         int upcnt = relurl.freq("../");
1954         relurl.gsub("../","");
1955         srcurl = srcurl.before('/',-1); // prune source filename
1956         for (int i = 0; i < upcnt; i++) srcurl = srcurl.before('/',-1);
1957         return srcurl+'/'+relurl;
1958 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!add_new_to_DIL@{add\_\-new\_\-to\_\-DIL}}
\index{add_new_to_DIL@{add\_\-new\_\-to\_\-DIL}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool add\_\-new\_\-to\_\-DIL ({\bf String} {\em dilfile}, {\bf String\-List} $\ast$ {\em supinfoptr})}\label{dil2al_8hh_a298}




Definition at line 281 of file diladmin.cc.

References backup\_\-and\_\-rename(), EOUT, find\_\-in\_\-line(), find\_\-line(), get\_\-active\_\-DIL\_\-IDs(), String\-List::insert(), pattern\_\-in\_\-line(), RELLISTSDIR, res, substring\_\-from\_\-line(), superior\_\-reference\_\-info(), and VOUT.

Referenced by dil2al\_\-commands(), and send\_\-dil\_\-to\_\-DIL().



\footnotesize\begin{verbatim}281                                                              {
282 // Adds all new DIL entry ID references to the DIL-by-ID file,
283 // with superior DIL entry information if provided in supinfoptr
284         const int LLEN = 10240;
285         char lbuf[LLEN];
286         String dilid[2], dilfilename, dilfiletitle;
287         StringList dilfileids, idfileids, beforeid;
288         unsigned long numdilfileids = 0, numidfileids = 0, newdils = 0;
289         int res;
290         // get name of DIL file
291         if (!substring_from_line("([^/]+)$",2,dilid,(const char *) dilfile)) {
292                 EOUT << "dil2al: Unable to parse name from DIL file path in add_new_to_DIL()\n";
293                 return false;
294         } else dilfilename = dilid[1];
295         dilfile=basedir+RELLISTSDIR+dilfilename;
296         if (verbose) VOUT << "Adding new DIL ID from " << dilfile << '\n';
297         ifstream df(dilfile);
298         if (df) {
299                 // get title of DIL file
300                 if (!find_line(&df,"[<]TITLE[>] *DIL: *",lbuf,LLEN)) {
301                         EOUT << "dil2al: Unable to find title of DIL file in add_new_to_DIL()\n";
302                         return false;
303                 }
304                 if (!substring_from_line("[<]TITLE[>] *DIL: *([^<]+)",2,dilid,lbuf)) {
305                         EOUT << "dil2al: Unable to parse title from title line of DIL file in add_new_to_DIL()\n";
306                         return false;
307                 } else dilfiletitle = dilid[1];
308                 // collect all DIL IDs in dilfile
309                 if (!find_line(&df,"[<]!-- *dil2al: *DIL *begin *--[>]",lbuf,LLEN)) {
310                         EOUT << "dil2al: Tag <!-- dil2al: DIL begin --> not found in " << dilfile << '\n';
311                         return false;
312                 }
313                 if (verbose) VOUT << "Reading DIL IDs\n";
314                 do {
315                         if ((res=find_in_line(&df,"[<]TR +BGCOLOR=\"#00005F",0,NULL,"[<]!-- *dil2al: *DIL *end *--[>]",lbuf,LLEN))==1) {
316                                 res = find_in_line(&df,"[<]TD[^>]*[>][<]A +NAME=\"([.0-9]+)\"",2,dilid,"[<]TR +BGCOLOR=\"#00005F|[<]!-- *dil2al: *DIL *end *--[>]",lbuf,LLEN);
317                                 if (res<-1) return false;
318                                 if (numdilfileids) {
319                                         unsigned long i;
320                                         for (i=0; ((i<numdilfileids) && (dilid[1]>dilfileids[i])); i++);
321                                         dilfileids.insert(i,dilid[1]);
322                                 } else dilfileids[0]=dilid[1];
323                                 numdilfileids++;
324                         } else {
325                                 if (res>=-1) res=-1;
326                                 else return false;
327                         }
328                 } while ((res>0) || ((res==0) && (!pattern_in_line("[<]!-- *dil2al: *DIL *end *--[>]",lbuf))));
329                 df.close();
330         } else {
331                 EOUT << "dil2al: Unable to open DIL file " << dilfile << '\n';
332                 return false;
333         }
334         // compare with all DIL IDs in detailed-items-by-ID.html
335         if (verbose) VOUT << "Comparing with DIL IDs in " << idfile << '\n';
336         if (!get_active_DIL_IDs(idfileids,&numidfileids)) {
337                 EOUT << "dil2al: Unable to obtain DIL IDs from " << idfile << '\n';
338                 return false;
339         }
340 //      for (int i=0; i<numidfileids; i++) cout << idfileids[i] << '\n';
341         if (verbose) VOUT << "Removing existing IDs from batch to add\n";
342 //*** THIS IS WHERE IT *SHOULD* STILL ADD ADDITIONAL DIL REFERENCES TO THE
343 //*** DIL-BY-ID LIST IF AN ITEM OCCURS IN MORE THAN ONE DIL!!!
344 //*** SEE DIL 20000124180439.1, WHICH OCCURS IN BOTH components.html and experiments.html
345 //*** (NOTE ALSO THAT SENDTODIL DID NOT WORK PROPERLY FOR THE SECOND OCCURRANCE!)
346         newdils=numdilfileids;
347         for (unsigned long i=0; i<numdilfileids; i++)
348                 for (unsigned long j=0; j<numidfileids; j++)
349                         if ((dilfileids[i])==(idfileids[j])) {
350                                 dilfileids[i]=""; // avoid adding multiples
351                                 newdils--;
352                                 break;
353                         } else if ((idfileids[j]>dilfileids[i]) && (beforeid[i]=="")) beforeid[i]=idfileids[j];
354         if (newdils>0) {
355                 VOUT << "Number of new DILs: " << newdils << '\n';
356 //              for (int i=0; i<numdilfileids; i++) cout << dilfileids[i] << ',' << beforeid[i] << '\n';
357                 // copy idfile and add new DILs in sorted locations (beforeid[i]=="" implies place at end)
358                 df.open(idfile);
359                 if (!df) {
360                         EOUT << "dil2al: Unable to open DIL ID file " << idfile << "in add_new_to_DIL()\n";
361                         return false;
362                 }
363                 ofstream ndf(idfile+".new");
364                 if (ndf) {
365                         //df.seekg(0);
366                         unsigned long i;
367                         if (verbose) VOUT << "Inserting new IDs\n";
368                         // find first new DIL to insert
369                         for (i=0; (i<numdilfileids) && (dilfileids[i]==""); i++);
370                         while (!df.eof()) {
371                                 df.getline(lbuf,LLEN);
372                                 if (newdils) {
373                                         // test if found an insertion location
374                                         if ((beforeid[i]!="") && (pattern_in_line("[<]TD[^>]*[>][<]A +NAME=\""+beforeid[i],lbuf))) {
375                                                 // insert
376                                                 ndf << "<TD><A NAME=\"" << dilfileids[i] << "\">"
377                                                         << dilfileids[i] << "</A>\n<TD><A HREF=\""
378                                                         << dilfilename << '#' << dilfileids[i] << "\">"
379                                                         << dilfiletitle << superior_reference_info(supinfoptr) << "<TR>\n";
380                                                 // find next DIL to insert
381                                                 for (i++; (i<numdilfileids) && (dilfileids[i]==""); i++);
382                                                 newdils--;
383                                         }
384                                         // test if found end of DILs (insert rest here)
385                                         if (pattern_in_line("[<]!-- *dil2al: *DIL ID *end *--[>]",lbuf)) {
386                                                 do {
387                                                         ndf << "<TR>\n<TD><A NAME=\"" << dilfileids[i] << "\">"
388                                                                 << dilfileids[i] << "</A>\n<TD><A HREF=\""
389                                                                 << dilfilename << '#' << dilfileids[i] << "\">"
390                                                                 << dilfiletitle << superior_reference_info(supinfoptr);
391                                                         for (i++; (i<numdilfileids) && (dilfileids[i]==""); i++);
392                                                         newdils--;
393                                                 } while (newdils);
394                                         }
395                                 }
396                                 if (!df.eof()) ndf << lbuf << endl;
397                         }
398                         df.close();
399                         ndf.close();
400                         if (!backup_and_rename(idfile,"DIL ID")) return false;
401                 } else {
402                         EOUT << "dil2al: Unable to create file " << idfile << ".new in add_new_to_DIL()\n";
403                         return false;
404                 }
405         } else if (verbose) VOUT << "No new IDs to add\n";
406         return true;
407 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!add_TL_chunk_or_entry@{add\_\-TL\_\-chunk\_\-or\_\-entry}}
\index{add_TL_chunk_or_entry@{add\_\-TL\_\-chunk\_\-or\_\-entry}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} add\_\-TL\_\-chunk\_\-or\_\-entry ({\bf String} \& {\em tl}, {\bf String} \& {\em notestr}, bool {\em newchunk}, {\bf String} {\em chunkid}, int \& {\em tlinsertloc})}\label{dil2al_8hh_a325}




Definition at line 485 of file tladmin.cc.

References String::after(), String::at(), String::before(), String::contains(), String::del(), EOUT, String::from(), generate\_\-TL\_\-chunk\_\-header(), generate\_\-TL\_\-entry\_\-header(), get\_\-TL\_\-head(), String::gsub(), String::index(), String::length(), max\_\-chunk\_\-entry(), String::prepend(), read\_\-file\_\-into\_\-String(), RELLISTSDIR, RX\_\-Search\_\-Safe(), select\_\-TL\_\-AL\_\-refs(), select\_\-TL\_\-DIL\_\-refs(), stop\_\-TL\_\-chunk(), and write\_\-file\_\-from\_\-String().

Referenced by decide\_\-add\_\-TL\_\-chunk(), and process\_\-note\_\-TL().



\footnotesize\begin{verbatim}485                                                                                                                {
486 // Add a new chunk or a new entry to the Task Log
487 // tlinsertloc is used when adding an entry, while it
488 // is set here when adding a chunk
489         String nametag;
490         int chunkendindex; // used to find NAME tag and for entry insertion
491         if (!newchunk) {
492                 // determine entry NAME tag
493                 nametag = chunkid;
494                 chunkendindex = tl.index(BigRegex("[<]!--[      ]*chunk End[    ]*--[>]"),tlinsertloc);
495                 if (chunkendindex>=0) {
496                         String tlchunk = tl.at(tlinsertloc,chunkendindex-tlinsertloc);
497                         nametag = nametag + "." + dec(max_chunk_entry(tlchunk)+1);
498                 } else {
499                         EOUT << "dil2al: Unable to find Task Log chunk end in add_TL_chunk_or_entry()\n";
500                         return String("");
501                 }
502         } else {
503                 nametag = curtime; // new NAME tag for new chunk
504                 // if a current chunk is active, mark its completion time
505                 stop_TL_chunk(tl); // can close previous task chunk and update AL and completion ratios
506         }
507 #ifdef DEBUGTIER1
508         cout << "chunkid nametag: " << nametag << '\n';
509 #endif
510         // obtain DIL reference ID or identifying comment and AL reference ID
511         String newdilref,newalref,alhead,dilhead,altitle,diltitle;
512 #ifdef DEBUGTIER1
513         cout << '+';
514 #endif
515         while ((newdilref=="*") || (newdilref=="")) {
516 #ifdef DEBUGTIER1
517                 cout << 'x';
518 #endif
519                 if ((newdilref=select_TL_DIL_refs(tl,newchunk,newalref))=="") return String("");
520 #ifdef DEBUGTIER1
521                 cout << 'x';
522 #endif
523                 if ((newalref=="") || (newdilref=="*")) if ((newalref=select_TL_AL_refs(tl,newchunk,newdilref))=="") return String("");
524 #ifdef DEBUGTIER1
525                 cout << 'x';
526 #endif
527         }
528 #ifdef DEBUGTIER1
529         cout << "newdilref: " << newdilref << "\nnewalref: " << newalref << '\n';
530 #endif
531         String lfstr, lfrx;
532 #ifdef DEBUG_BIGSTRING
533         //lfstr.debug_on();
534         globaldebugop=true;
535 #endif
536         if (newalref[0]!='*') {
537                 // find previous AL reference with the same ID
538                 if (!read_file_into_String(listfile,lfstr)) return String("");
539                 // AL head and title in lists file
540 #ifdef DEBUG_BIGSTRING
541                 globaldebugop=false;
542                 //lfstr.debug_off();
543                 cout << "[Freshly read] lfstr.length()=" << lfstr.length() << '\n';
544 #endif
545 #ifdef DEBUGTIER1
546                 cout << ".";
547 #endif
548                 lfrx = "[<]LI[>][       ]*[<]A[         ][^>]*[Hh][Rr][Ee][Ff][         ]*=[    ]*\""+RX_Search_Safe(RELLISTSDIR+newalref)+"\"[^\n]*";
549                 altitle = lfstr.at(BigRegex(lfrx));
550 #ifdef DEBUG_BIGSTRING
551                 cout << "[After reading into alhead] lfstr.length()=" << lfstr.length() << '\n';
552 #endif
553                 alhead = altitle.at(BigRegex("([^)]*AL head"));
554                 altitle.del(BigRegex("[         ]*([^)]*AL head.*"));
555                 altitle.gsub(BigRegex("[<][^>]*[>]"),"");
556                 if (alhead!="") {
557 #ifdef DEBUGTIER1
558                         cout << ".";
559 #endif
560                         alhead.del(BigRegex("([^,]*,[   ]*[<]A [^>]*[Hh][Rr][Ee][Ff][   ]*=[    ]*\""));
561                         if (alhead[0]!='/') {
562                                 if (alhead.contains(RELLISTSDIR,0)) alhead.del(RELLISTSDIR);
563                                 else alhead.prepend("../");
564                         }
565                         alhead = alhead.before("\"");
566                         alhead.del(get_TL_head());
567                 }
568 #ifdef DEBUGTIER1
569                 cout << "altitle: " << altitle << "\nalhead: " << alhead << '\n';
570 #endif
571         }
572         String dfstr, dlrx;
573         if (newdilref[0]!='*') {
574                 // find previous DIL reference with the same ID or identifying comment
575                 if (newdilref[0]=='!') { // non-DIL identifying comment
576                         int dilheadindex;
577                         if ((dilheadindex = tl.index(BigRegex("Context[         ]*--[>][        ]*"+RX_Search_Safe(newdilref.after("!"))+"[^(]*([^/]*/next"),-1))>=0) {
578                                 dilhead = tl.at(BigRegex("Begin[        ]*-->[^\n]*[<]A[        ]+[^>]*[Nn][Aa][Mm][Ee][        ]*=[    ]*\"[^\"]+"),dilheadindex-tl.length());
579                                 if (dilhead!="") {
580                                         dilhead = dilhead.after("\"",-1);
581                                         dilhead.prepend('#');
582 #ifdef DEBUGTIER1
583                                         cout << "diltitle: " << diltitle << "\ndilhead: " << dilhead << '\n';
584 #endif
585                                 } else EOUT << "dil2al: Context error, no matching Begin in add_TL_chunk_or_entry(), continuing\n";
586                         } else {
587                                 // search for Context in previous TL sections
588                                 String prevtlfile = tl.at(BigRegex("[<]/H1[>]\n+[<]TABLE.*[>][  ]*previous[     ]+TL[   ]+section"));
589                                 if (prevtlfile!="") {
590                                         prevtlfile = prevtlfile.after(BigRegex("[<]A[   ]+[Hh][Rr][Ee][Ff]=\""));
591                                         prevtlfile = basedir+RELLISTSDIR+prevtlfile.before("\"");
592                                         while (prevtlfile!="") {
593                                                 String prevtl;
594                                                 if (!read_file_into_String(prevtlfile,prevtl)) {
595                                                         EOUT << "dil2al: Continuing without non-DIL identifying comment previous dilhead\n";
596                                                         break;
597                                                 }
598                                                 if ((dilheadindex = prevtl.index(BigRegex("Context[     ]*--[>][        ]*"+RX_Search_Safe(newdilref.after("!"))+"[^(]*([^/]*/next"),-1))>=0) {
599                                                         dilhead = prevtl.at(BigRegex("Begin[    ]*-->[^\n]*[<]A[        ]+[^>]*[Nn][Aa][Mm][Ee][        ]*=[    ]*\"[^\"]+"),dilheadindex-tl.length());
600                                                         if (dilhead!="") {
601                                                                 dilhead = dilhead.after("\"",-1);
602                                                                 dilhead.prepend('#');
603 #ifdef DEBUGTIER1
604                                                                 cout << "diltitle: " << diltitle << "\ndilhead: " << dilhead << '\n';
605 #endif
606                                                                 break;
607                                                         } else EOUT << "dil2al: Context error, no matching Begin in add_TL_chunk_or_entry(), continuing\n";
608                                                 }
609                                                 prevtlfile = prevtl.at(BigRegex("[<]/H1[>]\n+[<]TABLE.*[>][     ]*previous[     ]+TL[   ]+section"));
610                                                 if (prevtlfile!="") {
611                                                         prevtlfile = prevtlfile.after(BigRegex("[<]A[   ]+[Hh][Rr][Ee][Ff]=\""));
612                                                         prevtlfile = basedir+RELLISTSDIR+prevtlfile.before("\"");
613                                                 }
614                                         }
615                                 }
616                         }
617                 } else { // DIL reference ID
618                         if (!read_file_into_String(basedir+RELLISTSDIR+newdilref.before("#"),dfstr)) return String("");
619                         // DIL title in newdilref file
620                         diltitle = dfstr.at(BigRegex("[<]TITLE[>][^<]*[<]/TITLE[>]"));
621                         diltitle.del("<TITLE>");
622                         diltitle.del("</TITLE>");
623                         // DIL head in newdilref file
624                         dlrx = "[<]TD[^>]*[>][<]A [^>]*[Nn][Aa][Mm][Ee][        ]*=[    ]*\""+RX_Search_Safe(newdilref.after("#"))+"\"[^\n]*([^)]*head";
625                         dilhead = dfstr.at(BigRegex(dlrx));
626                         if (dilhead!="") {
627                                 dilhead.del(BigRegex("[<]TD[^>]*[>][<]A [^>]*[Nn][Aa][Mm][Ee][  ]*=[    ]*\""+RX_Search_Safe(newdilref.after("#"))+"\"[^\n]*([^,]*,[    ]*[<]A [^>]*[Hh][Rr][Ee][Ff][   ]*=[    ]*\""));
628                                 dilhead = dilhead.before("\"");
629                                 dilhead.del(get_TL_head());
630                         }
631 #ifdef DEBUGTIER1
632                         cout << "diltitle: " << diltitle << "\ndilhead: " << dilhead << '\n';
633 #endif
634                 }
635         }
636         // prepend newalref, newdilref, alhead, dilhead, altitle and diltitle information to note
637         String notepre;
638         if (newchunk) {
639                 notepre = generate_TL_chunk_header(nametag, newalref, altitle, alhead, newdilref, diltitle, dilhead);
640                 // find new chunk insertion location (becomes tlinsertloc for entry also)
641                 if ((tlinsertloc=tl.index(BigRegex("[<]!--[     ]+section End[  ]+-->")))<0) {
642                         EOUT << "dil2al: Unable to find section End in " << taskloghead << "in add_TL_chunk_or_entry()\n";
643                         return String("");
644                 }
645         } else {
646                 notepre = generate_TL_entry_header(nametag, newalref, altitle, alhead, newdilref, diltitle, dilhead);
647                 // reposition at End of chunk for insertion of TL entry
648                 tlinsertloc=chunkendindex;
649         }
650         // insert note and store if operations on tl are complete
651         String tltail = tl.from(tlinsertloc);
652         if (newchunk) tl = tl.before(tlinsertloc) + notepre + tltail;
653         else tl = tl.before(tlinsertloc) + notepre + notestr + "<P>\n\n" + tltail;
654         get_TL_head();
655         String tlheadfile=taskloghead.after(basedir+RELLISTSDIR);
656         String alheadfile=alhead.before("#"); if ((alhead!="") && (alheadfile=="")) alheadfile = tlheadfile;
657         String dilheadfile=dilhead.before("#"); if ((dilhead!="") && (dilheadfile=="")) dilheadfile = tlheadfile;
658 #ifdef DEBUGTIER1
659         cout << "tlheadfile = " << tlheadfile << "\nalheadfile = " << alheadfile << "\ndilheadfile = " << dilheadfile << '\n';
660 #endif
661         if ((tlheadfile!=alheadfile) && (tlheadfile!=dilheadfile)) {
662                 // store updated Task Log
663                 if (!write_file_from_String(taskloghead,tl,"Task Log")) return String("");
664         }
665         String tlp;
666         if (alhead!="") {
667                 // modify ``next'' in previous AL head
668                 String newalnext, altlfile = basedir+RELLISTSDIR+alheadfile;
669 #ifdef DEBUGTIER2
670                 cout << "D1,"; cout.flush();
671 #endif
672 //*** This is not very optimized, requiring some copying
673 //*** of long Strings. This is due to a ``bug'' in the
674 //*** String class, which caused modifications via a
675 //*** pointer tlp->at.() or reference tlp.at() to add
676 //*** several characters of junk at the end of the
677 //*** string. Note that we cannot simply overwrite tl
678 //*** here as it may be needed below.
679                 if (tlheadfile==alheadfile) {
680 #ifdef DEBUGTIER2
681                         cout << "D2,"; cout.flush();
682 #endif
683                         tlp = tl;
684 #ifdef DEBUGTIER2
685                         cout << "D3,"; cout.flush();
686 #endif
687                         newalnext = '#'+nametag;
688 #ifdef DEBUGTIER2
689                         cout << "D4,"; cout.flush();
690 #endif
691                 } else {
692                         if (!read_file_into_String(altlfile,tlp)) return String("");
693                         newalnext = tlheadfile+'#'+nametag;
694                 }
695                 BigRegex alindexrx("\\(chunk\\|entry\\)[        ]+Begin[        ]+--[>][^\n]*[<]A[      ][^>]*[Nn][Aa][Mm][Ee][         ]*=[    ]*\""+alhead.after("#")+'"');
696 #ifdef DEBUGTIER1
697                 cout << "D5,"; cout.flush();
698 #endif
699 //*** could make this a forward search by continuing to
700 //*** search until -1 is returned
701 //*** NOT NECESSARY WITH NON-PARANOID OR FASTER BACKWARD SEARCH METHOD
702                 int alnextindex=tlp.index(alindexrx,-1);
703 #ifdef DEBUGTIER1
704                 cout << "alnextindex = " << alnextindex << '\n';
705                 cout << "E,"; cout.flush();
706 #endif
707                 if (alnextindex<0) {
708                         EOUT << "dil2al: Unable to find previous AL head in " << alheadfile << " in add_TL_chunk_or_entry()\n";
709                         return String("");
710                 }
711 #ifdef DEBUGTIER2
712                 cout << "E0,"; cout.flush();
713 #endif
714                 String alnext;
715 #ifdef DEBUGTIER2
716                 cout << "E0.5,"; cout.flush();
717 #endif
718                 BigRegex alnextrx("AL[  ]+--[>][^\n]*\""+newalref+"\"[^(]*([^)]*/next");
719 #ifdef DEBUGTIER2
720                 cout << "E0.75,"; cout.flush();
721 #endif
722                 alnext=tlp.at(alnextrx,alnextindex);
723 #ifdef DEBUGTIER2
724                 cout << "alnext =  " << alnext << "\nE1,"; cout.flush();                
725 #endif
726                 alnext = alnext.before("next",-1) + "<A HREF=\""+newalnext+"\">next</A>";
727                 //alnext.at("next",-1)="<A HREF=\""+newalnext+"\">next</A>";
728 #ifdef DEBUGTIER2
729                 cout << "alnext =  " << alnext << "\nE2,"; cout.flush();                
730 #endif
731                 String ttmp = tlp.before(BigRegex("AL[  ]+--[>][^\n]*\""+RX_Search_Safe(newalref)+"\"[^(]*([^)]*/next"),alnextindex);
732 #ifdef DEBUGTIER2
733                 cout << "E3,"; cout.flush();            
734 #endif
735                 ttmp += alnext;
736 #ifdef DEBUGTIER2
737                 cout << "E4,"; cout.flush();            
738 #endif
739                 ttmp += tlp.after(BigRegex("AL[         ]+--[>][^\n]*\""+RX_Search_Safe(newalref)+"\"[^(]*([^)]*/next"),alnextindex);
740 #ifdef DEBUGTIER2
741                 cout << "E5,"; cout.flush();            
742 #endif
743                 tlp = ttmp;
744 //*** THIS WORKED... SO IT IS OBVIOUSLY DANGEROUS TO USE THE SUBSTRING REPLACEMENT
745 //*** METHOD FOR INSERTION, BUT THE ABOVE IS OF COURSE VERY NON-OPTIMAL!
746 //              tlp.at(BigRegex("AL[    ]+--[>][^\n]*\""+newalref+"\"[^(]*([^)]*/next"),alnextindex)=alnext;
747 #ifdef DEBUGTIER1
748                 cout << "F,"; cout.flush();
749 #endif
750                 if (alheadfile!=dilheadfile) {
751                         if (!write_file_from_String(altlfile,tlp,"AL head Task Log")) return String("");
752                 }
753         }
754 #ifdef DEBUGTIER1
755         cout << "G,"; cout.flush();
756 #endif
757         if (dilhead!="") {
758 #ifdef DEBUGTIER1
759                 cout << "H,"; cout.flush();
760 #endif
761                 // modify ``next'' in previous DIL head
762                 String newdilnext, diltlfile = basedir+RELLISTSDIR+dilheadfile;
763                 if (dilheadfile==tlheadfile) newdilnext = '#'+nametag;
764                 else newdilnext = tlheadfile+'#'+nametag;
765                 if (alheadfile!=dilheadfile) {
766                         if (tlheadfile==dilheadfile) tlp = tl;
767                         else if (!read_file_into_String(diltlfile,tlp)) return String("");
768                 }
769 #ifdef DEBUGTIER2
770                 cout << "H1,"; cout.flush();
771 #endif
772                 String dilnext;
773 //*** could make this a forward search by continuing to
774 //*** search until -1 is returned
775 //*** NOT NECESSARY WITH NON-PARANOID OR FASTER BACKWARD SEARCH METHOD
776                 int dilnextindex=tlp.index(BigRegex("\\(chunk\\|entry\\)[       ]+Begin[        ]+--[>][^\n]*[<]A[      ][^>]*[Nn][Aa][Mm][Ee][         ]*=[    ]*\""+RX_Search_Safe(dilhead.after("#")+'"')),-1);
777                 if (dilnextindex<0) {
778                         EOUT << "dil2al: Unable to find previous DIL head in " << dilheadfile << " in add_TL_chunk_or_entry()\n";
779                         return String("");
780                 }
781 #ifdef DEBUGTIER2
782                 cout << "H2,"; cout.flush();
783 #endif
784                 if (newdilref[0]=='!') {
785 #ifdef DEBUGTIER2
786                         cout << "H3,"; cout.flush();
787 #endif
788                         dilnext=tlp.at(BigRegex("Context[       ]+--[>][        ]*"+RX_Search_Safe(newdilref.after("!"))+"[^(]*([^)]*/next"),dilnextindex);
789                         dilnext.at("next",-1)="<A HREF=\""+newdilnext+"\">next</A>";
790                         tlp.at(BigRegex("Context[       ]+--[>][        ]*"+RX_Search_Safe(newdilref.after("!"))+"[^(]*([^)]*/next"),dilnextindex)=dilnext;
791                 } else {
792 #ifdef DEBUGTIER2
793                         cout << "H4,"; cout.flush();
794 #endif
795                         dilnext=tlp.at(BigRegex("Context[       ]+--[>][^\n]*\""+RX_Search_Safe(newdilref)+"\"[^(]*([^)]*/next"),dilnextindex);
796                         dilnext.at("next",-1)="<A HREF=\""+newdilnext+"\">next</A>";
797                         tlp.at(BigRegex("Context[       ]+--[>][^\n]*\""+RX_Search_Safe(newdilref)+"\"[^(]*([^)]*/next"),dilnextindex)=dilnext;
798                 }
799                 if (!write_file_from_String(diltlfile,tlp,"Context head Task Log")) return String("");
800 #ifdef DEBUGTIER2
801                 cout << "H5,"; cout.flush();
802 #endif
803         }
804         if (newalref[0]!='*') {
805 #ifdef DEBUGTIER1
806                 cout << "I,";
807 #endif
808                 // update AL head in listfile
809                 if (alhead!="") {
810 #ifdef DEBUGTIER1
811                         cout << ",J"; cout.flush();
812 #endif
813                         String newalnext = lfstr.at(BigRegex(lfrx));
814 #ifdef DEBUG_BIGSTRING
815                         cout << "[After reading into newalnext] lfstr.length()=" << lfstr.length() << '\n';
816 #endif
817 #ifdef DEBUGTIER2
818                         cout << ",J1"; cout.flush();
819 #endif
820                         newalnext.at(BigRegex("[Hh][Rr][Ee][Ff][        ]*=[    ]*\"[^\"]+\""),-1) = "HREF=\""+(RELLISTSDIR+tlheadfile)+'#'+nametag+"\"";
821 #ifdef DEBUGTIER2
822                         cout << ",J2"; cout.flush();
823 #endif
824 #ifdef DEBUG_BIGSTRING
825                         cout << "lfstr.length()=" << lfstr.length() << '\n';
826                         newalnext.debug_on();
827 #endif
828                         lfstr.at(BigRegex(lfrx)) = newalnext;
829 #ifdef DEBUG_BIGSTRING
830                         newalnext.debug_off();
831                         cout << "lfstr.length()=" << lfstr.length() << '\n';
832 #endif
833                 } else {
834 #ifdef DEBUGTIER2
835                         cout << ",JJ"; cout.flush();
836 #endif
837                         String newalnext = lfstr.at(BigRegex("[<]LI[>][         ]*[<]A[         ][^>]*[Hh][Rr][Ee][Ff][         ]*=[    ]*\""+RX_Search_Safe(RELLISTSDIR+newalref)+"\"[^\n]*"));
838 #ifdef DEBUGTIER2
839                         cout << ",JJ1"; cout.flush();
840 #endif
841                         newalnext.at("<BR>",-1) = " (<A HREF=\""+(RELLISTSDIR+tlheadfile)+'#'+nametag+"\">AL tail</A>,<A HREF=\""+(RELLISTSDIR+tlheadfile)+('#'+nametag)+"\">AL head</A>)<BR>";
842 #ifdef DEBUGTIER2
843                         cout << ",JJ2"; cout.flush();
844 #endif
845                         lfstr.at(BigRegex("[<]LI[>][    ]*[<]A[         ][^>]*[Hh][Rr][Ee][Ff][         ]*=[    ]*\""+RX_Search_Safe(RELLISTSDIR+newalref)+"\"[^\n]*")) = newalnext;
846                 }
847                 if (!write_file_from_String(listfile,lfstr,"Main Lists")) return String("");
848         }
849 #ifdef DEBUGTIER1
850         cout << ",K";
851 #endif
852         if ((newdilref[0]!='*') && (newdilref[0]!='!')) {
853 #ifdef DEBUGTIER1
854                 cout << ",L";
855 #endif
856                 // update DIL head in DIL file
857                 if (dilhead!="") {
858                         String newdilnext = dfstr.at(BigRegex(dlrx)); 
859 #ifdef DEBUGTIER2
860                         cout << ",L1";
861 #endif
862                         newdilnext.at(BigRegex("[Hh][Rr][Ee][Ff][       ]*=[    ]*\"[^\"]+\""),-1) = "HREF=\""+tlheadfile+'#'+nametag+"\"";
863 #ifdef DEBUGTIER2
864                         cout << ",L2";
865 #endif
866                         dfstr.at(BigRegex(dlrx)) = newdilnext;
867                 } else {
868 #ifdef DEBUGTIER1
869                         cout << ",M";
870 #endif
871                         String newdilnext = dfstr.at(BigRegex("[<]TD[^>]*[>][<]A [^>]*[Nn][Aa][Mm][Ee][         ]*=[    ]*\""+RX_Search_Safe(newdilref.after("#"))+"\"[^\n]*"));
872 #ifdef DEBUGTIER2
873                         cout << ",M1";
874 #endif
875                         newdilnext += " (<A HREF=\""+tlheadfile+'#'+nametag+"\">tail</A>,<A HREF=\""+tlheadfile+'#'+nametag+"\">head</A>)<BR>";
876 #ifdef DEBUGTIER2
877                         cout << ",M2";
878 #endif
879                         dfstr.at(BigRegex("[<]TD[^>]*[>][<]A [^>]*[Nn][Aa][Mm][Ee][     ]*=[    ]*\""+RX_Search_Safe(newdilref.after("#"))+"\"[^\n]*")) = newdilnext;
880                 }
881                 if (!write_file_from_String(basedir+RELLISTSDIR+newdilref.before("#"),dfstr,"DIL")) return String("");
882         }
883 #ifdef DEBUGTIER1
884         cout << ",N\n";
885 #endif
886         if (newchunk) chunkcreated = true; // update process variable
887         return nametag;
888 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!add_TL_section@{add\_\-TL\_\-section}}
\index{add_TL_section@{add\_\-TL\_\-section}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool add\_\-TL\_\-section ({\bf String} \& {\em tl})}\label{dil2al_8hh_a326}




Definition at line 890 of file tladmin.cc.

References String::at(), String::before(), EOUT, get\_\-TL\_\-head(), String::index(), read\_\-file\_\-into\_\-String(), RELLISTSDIR, stop\_\-TL\_\-chunk(), and write\_\-file\_\-from\_\-String().

Referenced by decide\_\-add\_\-TL\_\-chunk().



\footnotesize\begin{verbatim}890                                  {
891 // Add a new section to the Task Log
892 // Note: modifies current Task Log head file, tl, taskloghead,
893 //       Main List File (listfile), Task Log symbolic link (tasklog);
894 //       update in-memory copies and any variables that reference specific
895 //       items or locations in the modified variables and files if necessary
896         // close any currently active TL chunk
897         stop_TL_chunk(tl);
898         // initialize new TL section
899         get_TL_head();
900         String curtlid = taskloghead.after("task-log.");
901         curtlid = curtlid.before(".html");
902         if (curtlid==curdate) {
903                 EOUT << "dil2al: Cannot create Task Log section with same ID as current Task Log head\n";
904                 return false;
905         }
906         String newreltlhead = "task-log."+curdate+".html";
907         String newtlsection = "<HTML>\n<HEAD><TITLE>Task Log ("+curdate+")</TITLE>\n</HEAD>\n<BODY BGCOLOR=\"#000000\" TEXT=\"#FFDF00\" LINK=\"#AFAFFF\" VLINK=\"#7F7FFF\">\n<H1><FONT COLOR=\"#00FF00\">Task Log ("
908                                         + curdate + ")</FONT></H1>\n\n<TABLE WIDTH=\"100%\" CELLPADDING=3 BGCOLOR=\"#007F00\"><TR><TD WIDTH=\"30%\" ALIGN=CENTER><A HREF=\"task-log."
909                                         + curtlid + ".html\"><FONT COLOR=\"#FFFFFF\">previous TL section ("+curtlid+")</FONT></A><TD WIDTH=\"40%\" BGCOLOR=\"#005F00\">&nbsp;<TD WIDTH=\"30%\" ALIGN=CENTER><FONT COLOR=\"#FFFFFF\">(no next TL section)</FONT></TABLE>\n\n"
910                                         + "<P>\n<LI><A HREF=\"../lists.html#AL\">Project Active Lists</A>\n"
911                                         + "<LI><A HREF=\"../lists.html#DIL\">Topical Detailed Items Lists</A>\n"
912                                         + "<LI><A HREF=\"detailed-items-by-ID.html\">Detailed Items by ID</A>\n"
913                                         + "<LI><A HREF=\"../work-log.html\">Work Log</A>\n<P>\n<HR>\n<P>\n"
914                                         + "<!-- section Begin --><TABLE WIDTH=\"100%\" CELLPADDING=3 BGCOLOR=\"#3F3F3F\">\n\n"
915                                         + "<!-- section End --></TABLE>\n\n<P>\n<HR>\n"
916                                         + "~/doc/<A HREF=\"../maincont.html\">html</A>/<A HREF=\"../lists.html\">lists</A>/"+newreltlhead+"\n\n</BODY>\n";
917         String newtaskloghead = basedir+RELLISTSDIR+newreltlhead;
918         if (!write_file_from_String(newtaskloghead,newtlsection,"New Task Log section",true)) return false;
919         // update next TL section reference in tl and store current Task Log
920         tl.at(BigRegex("[<]FONT[        ]+COLOR[        ]*=[    ]*\"#FFFFFF\"[>][       ]*([    ]*no next TL section[   ]*)[    ]*[<]/FONT[>][<]/TABLE[>]")) = "<A HREF=\""+newreltlhead+"\"><FONT COLOR=\"#FFFFFF\">next TL section ("+curdate+")</FONT></A></TABLE>";
921         if (!write_file_from_String(taskloghead,tl,"Task Log")) return false;
922         // update list of Task Log sections in listfile
923         String lfstr;
924         if (!read_file_into_String(listfile,lfstr)) return false;
925         int lftlindex = lfstr.index("<A NAME=\"TL\">");
926         if (lftlindex>=0) if ((lftlindex=lfstr.index("</OL>",lftlindex))>=0) lfstr.at(lftlindex,1) = "<LI><A HREF=\""+(RELLISTSDIR+newreltlhead)+"\">Task Log: section initiation date mark "+curdate+"</A>\n<";
927         if (lftlindex<0) EOUT << "dil2al: Unable to update Task Log sections list in " << listfile << " in add_TL_section(), continuing as is\n";
928         if (!write_file_from_String(listfile,lfstr,"Main List")) return false;
929         // update Task Log symbolic link in tasklog
930         if (unlink(tasklog)<0) {
931                 EOUT << "dil2al: Unable to remove Task Log symbolic link " << tasklog << " to task-log." << curtlid << ".html in add_TL_section()\n";
932                 return false;
933         }
934         if (symlink(newreltlhead,tasklog)<0) {
935                 EOUT << "dil2al: Unable to create Task Log symbolic link " << tasklog << " to " << newreltlhead << " in add_TL_section()\n";
936                 return false;
937         }
938         // set variables to new Task Log section
939         tl = newtlsection;
940         taskloghead = newtaskloghead;
941         return true;
942 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!AL_Day_Marker@{AL\_\-Day\_\-Marker}}
\index{AL_Day_Marker@{AL\_\-Day\_\-Marker}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} AL\_\-Day\_\-Marker ({\bf String} \& {\em dstfile}, {\bf AL\_\-Day} $\ast$ {\em ald})}\label{dil2al_8hh_a285}




Definition at line 74 of file alcomp.cc.

References AL\_\-Day::Day\-Date(), AL\_\-Day::Day\-Maxt(), AL\_\-Day::Day\-Start(), AL\_\-Day::Day\-Start\-Min(), AL\_\-Day::Day\-Type(), DEFAULTALDAYEMPHASIS, AL\_\-Day::Expanded(), HTML\_\-put\_\-href(), HTML\_\-put\_\-table\_\-cell(), HTML\_\-put\_\-table\_\-row(), PLL\_\-LOOP\_\-FORWARD, relurl(), AL\_\-Day::TD\_\-Head(), time\_\-stamp(), time\_\-stamp\_\-GM(), and AL\_\-Day::Total().

Referenced by Active\_\-List::generate\_\-focused\_\-AL(), and Active\_\-List::generate\_\-wide\_\-AL().



\footnotesize\begin{verbatim}74                                                      {
75 // Generates a table row with data about ald for inclusion in AL files
76         if (!ald) return String("");
77         String daytxt = "<!-- @select_TL_DIL_refs: SKIP ROW@ --><B>Day " + time_stamp("%Y%m%d",ald->DayDate())
78                         + "</B> (suggested start " + time_stamp_GM("%H:%M",ald->DayStart()) + ", limits "
79                         + time_stamp_GM("%H:%M",ald->DayStartMin()) + '-' + time_stamp_GM("%H:%M",ald->DayMaxt());
80         if (ald->DayType()==1) daytxt += ", worked " + time_stamp_GM("%H:%M",alworked);
81         daytxt += "), "; daytxt += dec(ald->Total()); daytxt += " task chunks";
82         if (ald->Expanded()) daytxt += " (expanded)";
83         if (ald->TD_Head()) {
84                 String relidfile(relurl(dstfile,idfile));
85                 daytxt += ", target dates: ";
86                 PLL_LOOP_FORWARD(AL_TD,ald->TD_Head(),1) {
87                         daytxt += HTML_put_href((relidfile+'#')+e->DE()->chars(),"DIL#" + String(e->DE()->chars()));
88                         daytxt += " (" + time_stamp("%H:%M",e->DE()->Target_Date()) + ')';
89                         if (e->Next()) daytxt += ", ";
90                 }
91         }
92         return HTML_put_table_row(DEFAULTALDAYEMPHASIS,HTML_put_table_cell("",daytxt)) + '\n';
93 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!AL_Passed_Target_Dates@{AL\_\-Passed\_\-Target\_\-Dates}}
\index{AL_Passed_Target_Dates@{AL\_\-Passed\_\-Target\_\-Dates}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} AL\_\-Passed\_\-Target\_\-Dates ({\bf String} \& {\em dstfile}, {\bf AL\_\-TD} $\ast$ {\em atd})}\label{dil2al_8hh_a286}




Definition at line 95 of file alcomp.cc.

References Elipsis\_\-At(), HTML\_\-put\_\-form(), HTML\_\-put\_\-form\_\-checkbox(), HTML\_\-put\_\-form\_\-input(), HTML\_\-put\_\-form\_\-radio(), HTML\_\-put\_\-form\_\-reset(), HTML\_\-put\_\-form\_\-submit(), HTML\_\-put\_\-form\_\-text(), HTML\_\-put\_\-href(), HTML\_\-remove\_\-tags(), PLL\_\-LOOP\_\-FORWARD, relurl(), and time\_\-stamp().

Referenced by Active\_\-List::generate\_\-focused\_\-AL().



\footnotesize\begin{verbatim}95                                                              {
96 // Generates a list of passed target date DIL entries
97   if (atd) {
98     String diltext;
99     String passedstr(HTML_put_form_input("hidden","name=\"dil2al\" value=\"MEtgroup\"")+"\n<B>Passed Target Dates:</B>\n<UL>\n"), relidfile(relurl(dstfile,idfile));
100     PLL_LOOP_FORWARD(AL_TD,atd,1) {
101       if (e->DE()->Entry_Text()) diltext = (*e->DE()->Entry_Text());
102       else diltext="";
103       HTML_remove_tags(diltext);
104       Elipsis_At(diltext,30);
105       String deidstr(e->DE()->chars());
106       passedstr += "<LI>" + HTML_put_href((relidfile+'#')+deidstr,"DIL#"+ deidstr)
107         + "[<A HREF=\"file:///cgi-bin/dil2al?dil2al=MEI&DILID="+deidstr+"\">edit</A>] ("
108         + time_stamp("%Y%m%d%H%M",e->DE()->Target_Date()) + ") "
109         + HTML_put_form_checkbox(String("TDCHKBX")+deidstr,"noupdate","",true)
110         + HTML_put_form_text(String("TD")+deidstr,12) + ' ' + diltext + '\n';
111     }
112     passedstr += "</UL>\n"+HTML_put_form_radio("TDupdate","group","Minimize fragmentation",true)
113       + ' '+HTML_put_form_radio("TDupdate","direct","Direct")+"<BR>\n"
114       + HTML_put_form_submit("Update")+' '+HTML_put_form_reset()+"\n<P>\n";
115     return HTML_put_form(htmlformmethod,htmlforminterface,passedstr);
116   } else return String("");
117 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!auto_interactive@{auto\_\-interactive}}
\index{auto_interactive@{auto\_\-interactive}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void auto\_\-interactive ({\bf String} \& {\em autostr}, {\bf String} {\em message}, char $\ast$ {\em lbuf}, int {\em llen})}\label{dil2al_8hh_a227}




Definition at line 1916 of file utilities.cc.

References String::del().

Referenced by chunk\_\-controller().



\footnotesize\begin{verbatim}1916                                                                                {
1917 // enables interactive responses or takes responses from autostr if available
1918         if (autostr=="") {
1919                 cout << message;
1920                 cin.getline(lbuf,llen);
1921         } else {
1922                 strcpy(lbuf,(const char *) autostr);
1923                 autostr.del(0,1);
1924         }
1925 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!backup_and_rename@{backup\_\-and\_\-rename}}
\index{backup_and_rename@{backup\_\-and\_\-rename}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool backup\_\-and\_\-rename ({\bf String} {\em filename}, {\bf String} {\em message}, bool {\em isnew} = {\bf false})}\label{dil2al_8hh_a234}




Definition at line 2016 of file utilities.cc.

References EOUT, and VOUT.

Referenced by add\_\-new\_\-to\_\-DIL(), cmdline\_\-extract\_\-paper\_\-novelties(), create\_\-new\_\-DIL(), extract\_\-paper\_\-plan\_\-to\_\-paper(), send\_\-dil\_\-to\_\-DIL(), and write\_\-file\_\-from\_\-String().



\footnotesize\begin{verbatim}2016                                                                             {
2017 // Backup previous version of file with date stamp and make
2018 // new version current.
2019         String backupname = filename+'.'+curdate+".bak";
2020         if (!isnew) if (rename(filename,backupname)<0) {
2021                 if (errno!=ENOENT) {
2022                         EOUT << "dil2al: Unable to rename " << filename << " to " << backupname << " in backup_and_rename()\n(New version remains in " << filename << ".new)\n";
2023                         return false;
2024                 } else EOUT << "dil2al: Warning - no old version of " << filename << " to backup in backup_and_rename()\n";
2025         }
2026         if (rename(filename+".new",filename)<0) {
2027                 EOUT << "dil2al: Unable to rename " << filename << ".new to " << filename << " in backup_and_rename()\n(New version remains in " << filename << ".new)\nRestoring previous " << filename << '\n';
2028                 if (!isnew) if (rename(backupname,filename)<0) EOUT << "dil2al: Unable to restore " << backupname << " to " << filename << '\n';
2029                 return false;
2030         }
2031         if (verbose) { // *** perhaps this should be suppressed if errno==ENOENT was caught above
2032                 if (isnew) VOUT << message << " initialized as " << filename << '\n';
2033                 else VOUT << "Old " << message << " file moved to " << backupname << '\n';
2034         }
2035         return true;
2036 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!BigRegex_freq@{BigRegex\_\-freq}}
\index{BigRegex_freq@{BigRegex\_\-freq}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Big\-Regex\_\-freq ({\bf String} \& {\em str}, const char $\ast$ {\em rxstr})}\label{dil2al_8hh_a215}




Definition at line 1809 of file utilities.cc.

Referenced by Assess\_\-Paper\_\-Correction\_\-Time(), Big\-Regex\_\-freq(), and decide\_\-add\_\-TL\_\-chunk().



\footnotesize\begin{verbatim}1809                                                     {
1810         BigRegex rx(rxstr);
1811         return BigRegex_freq(str,rx);
1812 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!BigRegex_freq@{BigRegex\_\-freq}}
\index{BigRegex_freq@{BigRegex\_\-freq}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Big\-Regex\_\-freq ({\bf String} \& {\em str}, {\bf String} {\em rxstr})}\label{dil2al_8hh_a214}




Definition at line 1804 of file utilities.cc.



\footnotesize\begin{verbatim}1804                                               {
1805         BigRegex rx(rxstr);
1806         return BigRegex_freq(str,rx);
1807 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!BigRegex_freq@{BigRegex\_\-freq}}
\index{BigRegex_freq@{BigRegex\_\-freq}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Big\-Regex\_\-freq ({\bf String} \& {\em str}, const {\bf Big\-Regex} \& {\em rx})}\label{dil2al_8hh_a213}




Definition at line 1798 of file utilities.cc.



\footnotesize\begin{verbatim}1798                                                      {
1799         int i = 0, cnt = 0;
1800         while ((i=str.index(rx,String::SEARCH_END,i))>=0) cnt++;
1801         return cnt;
1802 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!chunk_controller@{chunk\_\-controller}}
\index{chunk_controller@{chunk\_\-controller}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} chunk\_\-controller ({\bf String} {\em controllercmd})}\label{dil2al_8hh_a339}




Definition at line 6 of file controller.cc.

References ANSI\_\-BOLD\_\-OFF, ANSI\_\-BOLD\_\-ON, auto\_\-interactive(), decide\_\-add\_\-TL\_\-chunk(), EOUT, get\_\-TL\_\-head(), make\_\-note(), read\_\-file\_\-into\_\-String(), stop\_\-TL\_\-chunk(), time\_\-stamp(), VOUT, and write\_\-file\_\-from\_\-String().

Referenced by dil2al\_\-commands(), and schedule\_\-controller().



\footnotesize\begin{verbatim}6                                               {
7 // Called timechunk minutes after starting a task chunk
8 // (e.g. via at-jobs or a timer daemon, which could be
9 // constructed as an AfterStep Wharf applet).
10 // It can also be called before timechunk minutes have
11 // passed if the chunk is stopped early.
12 // As previous chunks are closed with stop_TL_chunk() where
13 // necessary with options C,S or T, AL updating options
14 // determine if and how the current AL and closed chunk's DIL
15 // entry should be updated, and the corresponding update is done.
16         const int LLEN = 10240;
17         char lbuf[LLEN];
18         // check if audio-visual flag is to be made noticable
19         if (showflag) {
20                 cout << "\a";
21                 if (flagcmd!="") {
22                         if (system(flagcmd)<0) EOUT << "dil2al: Unable to show visual flag in chunk_controller(), continuing\n";
23                 }
24         }
25         // show next AL item(s) (may involve recomputing)
26 //*** recomputation of AL not yet included
27 #ifdef DEBUG
28         cout << "dil2al: DEBUG - Recomputation of ALs in chunk_controller() not yet implemented\n";
29 #endif
30         // offer opportunity to make a Task Log entry
31         bool madenote = false;
32         chunkcreated = false; // reset process variable
33         if (useansi) cout << ANSI_BOLD_ON; // bold on
34         auto_interactive(controllercmd,"Make Note/Task Log entry? (y/N) ",lbuf,LLEN);
35         if (useansi) cout << ANSI_BOLD_OFF; // bold off
36         if ((lbuf[0]=='y') || (lbuf[0]=='Y')) {
37                 // make Task Log entry
38                 if (!make_note()) EOUT << "dil2al: Unable to make note in chunk_contorller(), continuing as is\n";
39                 madenote = true;
40         }
41         // offer controller options
42         lbuf[0]='\0'; String chunkid;
43         while (lbuf[0]=='\0') {
44                 String message = "\nOptions:\n[C]ontinue Task Chunk if Time Remaining else Start New Task Chunk\n";
45                 if (!chunkcreated) message += "[S]tart New Task Chunk (new task context)\n";
46                 message += "S[t]op Task Chunk (pause list tasks)\nE[x]it Retaining Current State (ignore list suggestions)\n";
47                 if (useansi) cout << ANSI_BOLD_ON; // bold on
48                 auto_interactive(controllercmd,message,lbuf,LLEN);
49                 if (useansi) cout << ANSI_BOLD_OFF; // bold off
50                 // refresh curtime to avoid misrepresentations due to long delay before option selection
51                 // but don't change time if madenote to properly detect chunkid==curtime
52                 // if a new chunk was made during make_note()
53                 if (!madenote) curtime = time_stamp("%Y%m%d%H%M");
54                 String tl; int tlinsertloc;
55                 switch (lbuf[0]) {
56                         case 'c': case 'C':
57                                 if (verbose) VOUT << "Continuing according to task list chunk controller suggestions\n";
58                                 tlinsertloc = -1;
59                                 if (!read_file_into_String(get_TL_head(),tl)) return String("");
60                                 if (tl=="") return tl;
61                                 if ((chunkid=decide_add_TL_chunk(tl,tlinsertloc,true,false))=="") return String("");
62                                 break;
63                         case 's': case 'S':
64                                 if (!chunkcreated) {
65                                         if (verbose) VOUT << "Starting task chunk with new context\n";
66                                         tlinsertloc = -1;
67                                         if (!read_file_into_String(get_TL_head(),tl)) return String("");
68                                         if (tl=="") return tl;
69                                         if ((chunkid=decide_add_TL_chunk(tl,tlinsertloc,false,false))=="") return String("");
70                                 } else {
71                                         EOUT << "dil2al: Unknown option `" << lbuf[0] << "'\n";
72                                         lbuf[0]='\0';
73                                 }
74                                 break;
75                         case 't': case 'T':
76 //*** instead of this approach, which exits once list tasks are paused
77 //*** it is possible to stay in this while loop and offer exit as well
78 //*** as start with comparetimes=false in the decide_add_TL_chunk() call
79                                 if (verbose) VOUT << "Stopping task chunk and pausing list tasks\n";
80                                 if (!read_file_into_String(get_TL_head(),tl)) return String("");
81                                 if (tl=="") return tl;
82                                 stop_TL_chunk(tl);
83                                 if (!write_file_from_String(taskloghead,tl,"Task Log")) return String("");
84                                 chunkid = "-1";
85                                 break;
86                         case 'x': case 'X':
87                                 if (verbose) VOUT << "Exiting and retaining current task state\n";
88                                 chunkid = "-2";
89                                 break;
90                         default:
91                                 EOUT << "dil2al: Unknown option `" << lbuf[0] << "'\n";
92                                 lbuf[0] = '\0';
93                 }
94         }
95         return chunkid;
96 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!cmdline_extract_paper_novelties@{cmdline\_\-extract\_\-paper\_\-novelties}}
\index{cmdline_extract_paper_novelties@{cmdline\_\-extract\_\-paper\_\-novelties}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool cmdline\_\-extract\_\-paper\_\-novelties ({\bf String} {\em filepaper})}\label{dil2al_8hh_a346}




Definition at line 65 of file tlfilter.cc.

References String::after(), backup\_\-and\_\-rename(), String::before(), EOUT, extract\_\-paper\_\-novelties(), String::prepend(), and res.

Referenced by dil2al\_\-commands().



\footnotesize\begin{verbatim}65                                                        {
66 // Commandline interface to the extraction of NOVELTY tagged items
67         bool res;
68         String fname, paperplanurl;
69         fname = filepaper.before("+");
70         if (fname == "") {
71                 fname = filepaper;
72                 paperplanurl = homedir+"doc/tex/somepaper/somepaper.html"; // dummy URL
73                 res = extract_paper_novelties(fname,paperplanurl,cout);
74         } else {
75                 paperplanurl = filepaper.after("+");
76                 if (paperplanurl == "") {
77                         paperplanurl = homedir+"doc/tex/somepaper/somepaper.html"; // dummy URL
78                         res = extract_paper_novelties(fname,paperplanurl,cout);
79                 } else {
80                         if (paperplanurl[0]!='/') paperplanurl.prepend(homedir);
81                         ofstream ostr(paperplanurl+".new");
82                         if (!ostr) {
83                                 EOUT << "dil2al: Unable to create " << paperplanurl << ".new in cmdline_extract_paper_novelties()\n";
84                                 return false;
85                         }
86                         ifstream istr(paperplanurl);
87                         bool isnew = (!istr);
88                         if (!isnew) ostr << istr.rdbuf(); // copy existing content (without regard to a possible </BODY> tag)
89                         istr.close();
90                         res = extract_paper_novelties(fname,paperplanurl,ostr);
91                         ostr.close();
92                         if (!backup_and_rename(paperplanurl,"Paper Plan",isnew)) return false;
93                 }
94         }
95         return true;
96 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!cmdline_extract_paper_plan_to_paper@{cmdline\_\-extract\_\-paper\_\-plan\_\-to\_\-paper}}
\index{cmdline_extract_paper_plan_to_paper@{cmdline\_\-extract\_\-paper\_\-plan\_\-to\_\-paper}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool cmdline\_\-extract\_\-paper\_\-plan\_\-to\_\-paper ({\bf String} {\em ppfile})}\label{dil2al_8hh_a360}




Definition at line 1253 of file ppfilter.cc.

References String::after(), String::before(), EOUT, extract\_\-paper\_\-plan\_\-to\_\-paper(), and String::prepend().

Referenced by dil2al\_\-commands().



\footnotesize\begin{verbatim}1253                                                         {
1254 // Commandline interface to extract_paper_plan_to_paper()
1255         String ppname, poutline, pprevious;
1256         ppname = ppfile.before("+");
1257         if (ppname == "") {
1258                 ppname = ppfile;
1259                 EOUT << "dil2al: Paper extraction without specific paper outline not yet supported\n";
1260                 return false;
1261         } else {
1262                 poutline = ppfile.after("+");
1263                 if (poutline == "") {
1264                         EOUT << "dil2al: Paper extraction without specific paper outline not yet supported\n";
1265                         return false;
1266                 } else {
1267                         pprevious = poutline.after("+");
1268                         if (pprevious != "") {
1269                                 poutline = poutline.before("+");
1270                                 if (pprevious[0]!='/') pprevious.prepend(homedir);
1271                         }
1272                         if (ppfile[0]!='/') ppfile.prepend(homedir);
1273                         if (poutline[0]!='/') poutline.prepend(homedir);
1274                         return extract_paper_plan_to_paper(ppname,poutline,pprevious);
1275                 }
1276         }
1277 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!confirmation@{confirmation}}
\index{confirmation@{confirmation}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool confirmation ({\bf String} {\em message}, char {\em nondefault})}\label{dil2al_8hh_a226}




Definition at line 1907 of file utilities.cc.

Referenced by extract\_\-hierarchy\_\-depth\_\-decrease\_\-to\_\-paper(), extract\_\-hierarchy\_\-depth\_\-increase\_\-to\_\-paper(), extract\_\-recursively(), extract\_\-required\_\-item\_\-to\_\-paper(), financial\_\-notes(), select\_\-TL\_\-DIL\_\-refs(), and stop\_\-TL\_\-chunk().



\footnotesize\begin{verbatim}1907                                                    {
1908 // requests confirmation, returns false if the response is nondefault
1909         const int LLEN = 16;
1910         char lbuf[LLEN];
1911         cout << message;
1912         cin.getline(lbuf,LLEN);
1913         return (lbuf[0]!=nondefault);
1914 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!convert_item_content_to_TeX@{convert\_\-item\_\-content\_\-to\_\-TeX}}
\index{convert_item_content_to_TeX@{convert\_\-item\_\-content\_\-to\_\-TeX}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void convert\_\-item\_\-content\_\-to\_\-Te\-X ({\bf String} \& {\em itemcontent})}\label{dil2al_8hh_a357}




Definition at line 673 of file ppfilter.cc.

References String::gsub().

Referenced by extract\_\-recursively().



\footnotesize\begin{verbatim}673                                                        {
674         // conversions to TeX (also ensures that lines do not exceed the TeX buffer size)
675         //      - remove Novelty Marker tags
676         itemcontent.gsub(BigRegex("[<]A[        ]+[Nn][Aa][Mm][Ee][     ]*=[    ]*\"NOVELTY-[^>]*[>][[][^]]*N[^]]*[]]"),"");
677         //      - identify content hyperlink references
678         itemcontent.gsub(BigRegex("[<]A[        ]+[^>]*[Hh][Rr][Ee][Ff][        ]*=[    ]*\"\\([^\"]+\\)\"[^>]*[>]"),"@HRef::_1@",'_');
679         //      - cite, but do not recurse into bibliography references
680         itemcontent.gsub(BigRegex("\\([[][^]]*\\)?@HRef::[^@]*"+RX_Search_Safe(bibindexfilename)+"#\\([^@]+:[^@]+\\)@\\([^]]*[]]\\)?"),"\\cite{_2}",'_');
681         //      - sometimes citations do not contain an HRef, warn if this appears to be the case and apply citation tentatively
682         int citeerrnum = itemcontent.gsub(BigRegex("[[]\\([A-Z]+:[A-Z]+[,A-Z:]*\\)[]]"),"\\cite{_1}",'_');
683         if (citeerrnum>0) EOUT << "dil2al: " << citeerrnum << " apparent citations without HRef encountered in convert_item_content_to_TeX(), continuing\n";
684         //      - convert paragraph and line-break codes
685         itemcontent.gsub("\n<P>\n","\n\n");
686         itemcontent.gsub("<P>","\n");
687         itemcontent.gsub(BigRegex("\\([^\n]\\)[\n]?[<][Bb][Rr][>]"),"_1\\\\",'_');
688 //*** the following two lines can be removed when Thesis Log has been converted to the Task Log format
689         itemcontent.gsub(BigRegex("[<]!--[      ]*entry Begin[  ]*--[>][^]]+[]][        ]*[<]/FONT[>]"),"");
690         itemcontent.gsub(BigRegex("[<]!--[      ]*chunk End[    ]*--[>][        ]*[<][Ii][>][^<]+[<]/[Ii][>]"),"");
691 //*** possibly remove the following conversions
692         //      - convert text attribute codes
693         itemcontent.gsub(BigRegex("[<]\\([Bb]\\|[Ss][Tt][Rr][Oo][Nn][Gg]\\)[>]"),"{\\bf ");
694         itemcontent.gsub(BigRegex("[<]\\([Ii]\\|[Ee][Mm]\\)[>]"),"{\\em ");
695         itemcontent.gsub(BigRegex("[<]/\\([Bb]\\|[Ss][Tt][Rr][Oo][Nn][Gg]\\|[Ii]\\|[Ee][Mm]\\)[>]"),"}");
696 //*** possibly remove conversions above
697         //      - remove remaining HTML tags
698         itemcontent.gsub(BigRegex("[<][^>]*[>]"),"");
699         //      - convert HTML character codes
700         itemcontent.gsub("&lt;","<");
701         itemcontent.gsub("&gt;",">");
702         itemcontent.gsub("&amp;","\\&");
703         //      - escape LaTeX special characters
704         itemcontent.gsub(BigRegex("\\([^\\]\\)\\([#&_%]\\)"),"_1\\_2",'_');
705 //*** convert GESNlib variable names to GESN convention standard labels as found in nse.label-equivalence.tex
706 //*** could do that to the source once instead
707         // insure lines are at most around 1000 characters long
708         Text_limit_line_length(itemcontent,1000,1500);
709 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!copy_until_line@{copy\_\-until\_\-line}}
\index{copy_until_line@{copy\_\-until\_\-line}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int copy\_\-until\_\-line (ifstream $\ast$ {\em lf}, ofstream $\ast$ {\em of}, const char $\ast$ {\em pattern}, char $\ast$ {\em lbuf}, int {\em llen})}\label{dil2al_8hh_a246}




Definition at line 2248 of file utilities.cc.

References EOUT.

Referenced by create\_\-new\_\-DIL(), make\_\-note(), and send\_\-dil\_\-to\_\-DIL().



\footnotesize\begin{verbatim}2248                                                                                                {
2249 // returns 1 if line was encountered, 0 if not, and <0 for errors
2250 // the line containing pattern is not copied, but is returned in lbuf
2251         regex_t re;
2252         int mres;
2253         if (!lf) {
2254                 EOUT << "dil2al: input file not open in copy_until_line()\n";
2255                 return -1;
2256         }
2257         if (!of) {
2258                 EOUT << "dil2al: output file not open in copy_until_line()\n";
2259                 return -1;
2260         }
2261         if (regcomp(&re,pattern, REG_EXTENDED|REG_NOSUB) != 0) {
2262                 EOUT << "dil2al: Unable to compile regular expression in copy_until_line()\n";
2263                 return -2;
2264         }
2265         mres = 1;
2266         cout << "dil2al WARNING: copy_until_line(<from>,<to>," << pattern << ",<lbuf>,<llen>) may be broken as EOF is not detected when line length exceeds llen=" << llen << ", this code should use BigRegex functions instead!\n";
2267         while (mres!=0) {
2268                 if (lf->eof()) {
2269                         regfree(&re);
2270                         return 0;
2271                 }
2272                 lf->getline(lbuf,llen);
2273                 mres = regexec(&re,lbuf, (size_t) 0, NULL, 0);
2274                 if ((mres != 0) && (mres != REG_NOMATCH)) {
2275                         EOUT << "dil2al: Internal error while matching in copy_until_line()\n";
2276                         regfree(&re);
2277                         return -3;
2278                 }
2279                 if (mres!=0) (*of) << lbuf << endl;
2280         }
2281         regfree(&re);
2282         return 1;
2283 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!create_new_DIL@{create\_\-new\_\-DIL}}
\index{create_new_DIL@{create\_\-new\_\-DIL}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool create\_\-new\_\-DIL ({\bf String} {\em dilfile})}\label{dil2al_8hh_a299}




Definition at line 409 of file diladmin.cc.

References backup\_\-and\_\-rename(), copy\_\-until\_\-line(), EOUT, RELLISTSDIR, substring\_\-from\_\-line(), and VOUT.

Referenced by dil2al\_\-commands(), and send\_\-dil\_\-to\_\-DIL().



\footnotesize\begin{verbatim}409                                     {
410         const int LLEN = 10240;
411         char lbuf[LLEN];
412         String dilid[2], dilfilename, diltitle;
413         // get name of DIL file regardless of whether it was a relative or absolute path
414         if (!substring_from_line("([^/]+)$",2,dilid,(const char *) dilfile)) {
415                 EOUT << "dil2al: Unable to parse name from DIL file path in create_new_DIL()\n";
416                 return false;
417         } else dilfilename = dilid[1];
418         dilfile=basedir+RELLISTSDIR+dilfilename;
419         if (verbose) VOUT << "Creating new DIL file " << dilfile << '\n';
420         ifstream df(dilfile);
421         if (df) {
422                 df.close();
423                 cout << "DIL file " << dilfilename << " already exists, overwrite? (y/N) ";
424                 cin.getline(lbuf,LLEN);
425                 if ((lbuf[0]!='y') && (lbuf[0]!='Y')) return false;
426         }
427         ofstream ndf(dilfile);
428         if (ndf) {
429                 if (verbose) VOUT << "Initializing new DIL file\n";
430                 cout << "DIL title for " << dilfilename << ": ";
431                 cin.getline(lbuf,LLEN); diltitle = lbuf;
432                 ndf << "<HTML>\n<HEAD>\n<TITLE>DIL: " << diltitle << "</TITLE>\n";
433                 ndf << "</HEAD>\n<BODY BGCOLOR=\"#000000\" TEXT=\"#F0E0A0\" LINK=\"#AFAFFF\" VLINK=\"#7F7FFF\">\n";
434                 ndf << "<H1><FONT COLOR=\"#00FF00\">DIL: " << diltitle << "</FONT></H1>\n\n";
435                 cout << "DIL keywords and relevance, e.g. neuron (1.0), synapse (1.0): ";
436                 cin.getline(lbuf,LLEN);
437                 ndf << "<B>Topic Keywords, k_{top} (and relevance in [0,1]):</B> " << lbuf << "\n<P>\n\n";
438                 ndf << "<TABLE WIDTH=\"100%\" CELLPADDING=3 BORDER=2>\n<!-- dil2al: DIL begin -->\n\n<!-- dil2al: DIL end -->\n</TABLE>\n\n\n";
439                 ndf << "<LI><A HREF=\"detailed-items-by-ID.html\">Detailed Items by ID</A>\n<LI><A HREF=\"../lists.html#DIL\">Topical Detailed Items Lists</A>\n<P>\n";
440                 ndf << "<HR>~/doc/<A HREF=\"../maincont.html\">html</A>/<A HREF=\"../lists.html\">lists</A>/"
441                         << dilfilename << " <FONT COLOR=\"#AFAFAF\"><I>&nbsp;&nbsp;&nbsp;(created " << curdate << ", Randal A. Koene)</I></FONT>\n\n</BODY>\n";
442                 ndf.close();
443         } else {
444                 EOUT << "dil2al: Unable to create file " << dilfile << " in create_new_DIL()\n";
445                 return false;
446         }
447         // Add DIL title and reference to list.html
448         df.open(listfile);
449         if (!df) {
450                 EOUT << "dil2al: Unable to open " << listfile << " in create_new_DIL()\n";
451                 return false;
452         }
453         ndf.open(listfile+".new");
454         if (!ndf) {
455                 EOUT << "dil2al: Unable to create " << listfile << ".new in create_new_DIL()\n";
456                 return false;
457         }
458         if (verbose) VOUT << "Adding new DIL to " << listfile << '\n';
459         if (copy_until_line(&df,&ndf,"<H1><A NAME=\"DIL\">",lbuf,LLEN)<=0) {
460                 EOUT << "dil2al: No DIL header ``<H1><A NAME=\"DIL\">'' found in create_new_DIL()\n";
461                 return false;
462         }
463         ndf << lbuf << endl;
464         if (copy_until_line(&df,&ndf,"</UL>",lbuf,LLEN)<=0) {
465                 EOUT << "dil2al: No DIL list end ``</UL>'' found in create_new_DIL()\n";
466                 return false;
467         }
468         ndf << "<LI><A HREF=\"" << RELLISTSDIR << dilfilename << "\">" << diltitle << "</A>\n";
469         ndf << lbuf << endl;
470         ndf << df.rdbuf();
471         df.close();
472         ndf.close();
473         if (!backup_and_rename(listfile,"lists index")) return false;
474         return true;
475 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!D2A_get_tag@{D2A\_\-get\_\-tag}}
\index{D2A_get_tag@{D2A\_\-get\_\-tag}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int D2A\_\-get\_\-tag ({\bf String} \& {\em d2astr}, int {\em strloc}, {\bf String} {\em d2atag}, {\bf String} \& {\em tagtext})}\label{dil2al_8hh_a249}




Definition at line 2396 of file utilities.cc.

References String::at(), EOUT, String::index(), Big\-Regex::match\_\-info(), and String::SEARCH\_\-END.

Referenced by Assess\_\-Paper\_\-Correction\_\-Time().



\footnotesize\begin{verbatim}2396                                                                               {
2397 // searches for a dil2al standardized tag with the specific regex
2398 // id d2atag and returns the corresponding specific information
2399 // in tagtext, as well as the position in d2astr immediately
2400 // following the tag
2401         BigRegex tm('@'+d2atag+":\\([^@]*\\)@");
2402         if ((strloc=d2astr.index(tm,String::SEARCH_END,strloc))>=0) {
2403                 int s,l;
2404                 if (!tm.match_info(s,l,1)) return -1;
2405                 if (l==0) EOUT << "dil2al: Warning - Non-specific tag at " << s << " in D2A_get_tag(), continuing\n";
2406                 tagtext = d2astr.at(s,l);
2407         }
2408         return strloc;
2409 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!date_string@{date\_\-string}}
\index{date_string@{date\_\-string}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} date\_\-string ()}\label{dil2al_8hh_a220}




Definition at line 1852 of file utilities.cc.

References time\_\-stamp().

Referenced by dil2al\_\-commands(), and main().



\footnotesize\begin{verbatim}1852                      {
1853         return time_stamp("%Y%m%d");
1854 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!decide_add_TL_chunk@{decide\_\-add\_\-TL\_\-chunk}}
\index{decide_add_TL_chunk@{decide\_\-add\_\-TL\_\-chunk}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} decide\_\-add\_\-TL\_\-chunk ({\bf String} \& {\em tl}, int \& {\em tlinsertloc}, bool {\em comparetimes}, bool {\em createifgreater} = {\bf true})}\label{dil2al_8hh_a328}




Definition at line 971 of file tladmin.cc.

References add\_\-TL\_\-chunk\_\-or\_\-entry(), add\_\-TL\_\-section(), ANSI\_\-BOLD\_\-OFF, ANSI\_\-BOLD\_\-ON, Big\-Regex\_\-freq(), EOUT, locate\_\-most\_\-recent\_\-TL\_\-chunk(), TCS\_\-ASK, TCS\_\-CURRENT, TCS\_\-NEW, time\_\-stamp\_\-diff(), TSS\_\-ASK, and TSS\_\-NEW.

Referenced by chunk\_\-controller(), and process\_\-note\_\-TL().



\footnotesize\begin{verbatim}971                                                                                                            {
972 // Add a Task Log chunk based on strategies and time since creation
973 // of most recent chunk
974 // time-based decisions can be either
975 // create-if-greater-than-chunksize-plus-slack or
976 // create-unless-smaller-than-chunksize
977 // initialize tlinsertloc with -1 to search from end of Task Log
978 // tlinsertloc is updated for use when adding entry to Task Log
979 // returns chunkid
980         // find most recent TL chunk (immediately preceding @INSERT-TL-NOTE@ if present)
981         const int LLEN = 10240;
982         char lbuf[LLEN];
983         String chunkid; bool newchunk = !createifgreater;
984         if ((tlinsertloc = locate_most_recent_TL_chunk(tl,tlinsertloc,&chunkid))<0) return String("");
985         if (chunkid=="") newchunk=true;
986         else {
987                 // compare chunk time stamp with curtime
988 #ifdef DEBUG
989                 cout << "decision chunkid = " << chunkid << "\ncurtime = " << curtime << '\n';
990 #endif
991                 if (createifgreater) {
992                         // test if curtime > chunk_creation_time+timechunksize+timechunkslack
993                         if ((comparetimes) && ((time_stamp_diff(chunkid,curtime)/60)>(timechunksize+timechunkslack))) {
994                                 if (timechunkoverstrategy==TCS_NEW) newchunk=true;
995                                 else if (timechunkoverstrategy==TCS_ASK) {
996                                         if (useansi) cout << ANSI_BOLD_ON; // bold on
997                                         cout << "\nDifference between time stamp of current Task Log chunk and current time is\ngreater than " << (timechunksize+timechunkslack) << " minutes. Create new Task Log chunk? (y/N) ";
998                                         if (useansi) cout << ANSI_BOLD_OFF; // bold off
999                                         cin.getline(lbuf,LLEN);
1000                                         if ((lbuf[0]=='y') || (lbuf[0]=='Y')) newchunk=true;
1001                                 }
1002                         }
1003                 } else {
1004                         // test if curtime == chunk_creation_time, e.g. created during make_note() opportunity in chunk_controller()
1005                         if (chunkid==curtime) newchunk=false;
1006                         else {
1007                                 // test if curtime < chunk_creation_time+timechunksize
1008                                 if ((comparetimes) && ((time_stamp_diff(chunkid,curtime)/60)<timechunksize)) {
1009                                         if (timechunkunderstrategy==TCS_CURRENT) newchunk=false;
1010                                         else if (timechunkunderstrategy==TCS_ASK) {
1011                                                 if (useansi) cout << ANSI_BOLD_ON; // bold on
1012                                                 cout << "\nDifference between time stamp of current Task Log chunk and current time is\nless than " << timechunksize << " minutes. Create new Task Log chunk anyway? (y/N) ";
1013                                                 if (useansi) cout << ANSI_BOLD_OFF; // bold off
1014                                                 cin.getline(lbuf,LLEN);
1015                                                 if ((lbuf[0]!='y') && (lbuf[0]!='Y')) newchunk=false;
1016                                         }
1017                                 }
1018                         }
1019                 }
1020         }
1021         if (newchunk) {
1022                 bool newsection = false;
1023                 // if TL contains more than sectionsize chunks consider starting a new section
1024                 int numchunks = BigRegex_freq(tl,"[<]!--[       ]+chunk Begin[  ]+--[>]");
1025                 if (numchunks>=sectionsize) {
1026                         if (sectionstrategy==TSS_NEW) newsection = true;
1027                         else if (sectionstrategy==TSS_ASK) {
1028                                 if (useansi) cout << ANSI_BOLD_ON; // bold on
1029                                 cout << "\nThere are " << numchunks << " chunks in this Task Log section. Create new section? (y/N) ";
1030                                 if (useansi) cout << ANSI_BOLD_OFF; // bold off
1031                                 cin.getline(lbuf,LLEN);
1032                                 if ((lbuf[0]=='y') || (lbuf[0]=='Y')) newsection=true;
1033                         }
1034                 }
1035                 if (newsection) {
1036                         // add a new section to the Task Log
1037                         if (!add_TL_section(tl)) {
1038                                 EOUT << "dil2al: Unable to add new Task Log section in decide_add_TL_chunk()\n";
1039                                 return String("");
1040                         }
1041                 }
1042                 // add a new chunk to the Task Log
1043                 if ((chunkid = add_TL_chunk_or_entry(tl,chunkid,true,chunkid,tlinsertloc))=="") {
1044                         EOUT << "dil2al: Unable to add new Task Log chunk in decide_add_TL_chunk()\n";
1045                         return String("");
1046                 }
1047         }
1048         return chunkid;
1049 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!Diagnostic@{Diagnostic}}
\index{Diagnostic@{Diagnostic}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool Diagnostic ({\bf String} {\em diagnosticstr})}\label{dil2al_8hh_a211}




Definition at line 348 of file dil2al.cc.

References Detailed\_\-Items\_\-List::Binary\_\-Cache\_\-Diagnostic().

Referenced by dil2al\_\-commands().



\footnotesize\begin{verbatim}348                                       {
349   // run a self-diagnostic test
350   if (diagnosticstr=="cache") {
351     Detailed_Items_List dilist;
352     return dilist.Binary_Cache_Diagnostic();
353   }
354   return false;
355 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!DIL_entry_target_date_qsort_compare@{DIL\_\-entry\_\-target\_\-date\_\-qsort\_\-compare}}
\index{DIL_entry_target_date_qsort_compare@{DIL\_\-entry\_\-target\_\-date\_\-qsort\_\-compare}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int DIL\_\-entry\_\-target\_\-date\_\-qsort\_\-compare (const void $\ast$ {\em vde1}, const void $\ast$ {\em vde2})}\label{dil2al_8hh_a212}




Definition at line 1774 of file utilities.cc.

References MAXTIME\_\-T.

Referenced by Detailed\_\-Items\_\-List::Sort\_\-by\_\-Target\_\-Date().



\footnotesize\begin{verbatim}1774                                                                               {
1775 // used with qsort() (<stdlib.h>)
1776 // Treats unspecified self-referential target dates as MAXTIME
1777 // for the ordering of the corresponding DIL entry  - and avoids
1778 // the accompanying warning messages.
1779 // (This is useful when groups of DIL entries with desired
1780 // target dates are sorted, in which some DIL entries are marked
1781 // with -2 codes).
1782 // Note: ISO C++ is strict about providing the correct function
1783 // declaration in cases such as the call to qsort(). This function
1784 // was therefore rewritten from the original declaration,
1785 // DIL_entry_target_date_qsort_compare(DIL_entry ** de1, DIL_entry ** de2)
1786 // - please keep in mind that the elements are of type DIL_entry **,
1787 // i.e. arrays/pointers of pointers to objects.
1788         DIL_entry ** de1 = (DIL_entry **) vde1;
1789         DIL_entry ** de2 = (DIL_entry **) vde2;
1790         time_t t1 = MAXTIME_T, t2 = MAXTIME_T;
1791         if (*de1) t1 = (*de1)->Propagated_Target_Date(false);
1792         if (*de2) t2 = (*de2)->Propagated_Target_Date(false);
1793         if (t1==t2) return 0;
1794         if (t1<t2) return -1;
1795         return 1;
1796 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!DIL_Hierarchy_cmd@{DIL\_\-Hierarchy\_\-cmd}}
\index{DIL_Hierarchy_cmd@{DIL\_\-Hierarchy\_\-cmd}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool DIL\_\-Hierarchy\_\-cmd ({\bf String} {\em dilidstr}, int {\em maxdepth} = 50)}\label{dil2al_8hh_a315}




Definition at line 1545 of file diladmin.cc.

References String::after(), String::before(), String::del(), String::empty(), String::from(), String::length(), Tabbed\_\-DIL\_\-Hierarchy(), Tabbed\_\-FORM\_\-DIL\_\-Hierarchy(), Tabbed\_\-HTML\_\-DIL\_\-Hierarchy(), VOUT, and write\_\-file\_\-from\_\-String().

Referenced by dil2al\_\-commands(), and extract\_\-DIL\_\-IDs\_\-from\_\-form().



\footnotesize\begin{verbatim}1545                                                            {
1546 // visualize a DIL hierarchy
1547 #ifdef DEBUG_HIERARCHY_EXPRESSIONS
1548   VOUT << "&&& DIL_Hierarchy_cmd: dilidstr = " << dilidstr << '\n';
1549 #endif
1550   String hierarchyfile("");
1551   // 1. Get optional @f@ hierarchyfile reference
1552   if ((dilidstr.length()>=2) && (dilidstr[0]=='@')) {
1553     dilidstr.del(0,1);
1554     hierarchyfile = dilidstr.before('@');
1555     dilidstr = dilidstr.after('@');
1556   }
1557 #ifdef DEBUG_HIERARCHY_EXPRESSIONS
1558   VOUT << "&&& DIL_Hierarchy_cmd: hierarchyfile = " << hierarchyfile << " dilidstr = " << dilidstr << '\n';
1559 #endif
1560   // 2. Get optional type identifier
1561   if ((dilidstr.length()>=4) && (String(dilidstr.before(4))=="FORM")) {
1562     dilidstr = dilidstr.from(4);
1563 #ifdef DEBUG_HIERARCHY_EXPRESSIONS
1564     VOUT << "&&& DIL_Hierarchy_cmd: type is FORM, dilidstr = " << dilidstr << '\n';
1565 #endif
1566     if ((calledbyforminput) && (hierarchyfile.empty())) VOUT << "</PRE><!-- "; // clean up HTML output (dil2al processing output can still be inspected by looking at the HTML source)
1567     dilidstr = Tabbed_FORM_DIL_Hierarchy(dilidstr,maxdepth);
1568     // *** If I want to give hierarchy.html a proper head and tail then I
1569     //     can detect "if ((!hierarchyfile.empty()) && (!dilidstr.empty()))"
1570     //     here and prepend the head and append the tail to dilidstr if true.
1571   } else if ((dilidstr.length()>4) && (String(dilidstr.before(4))=="HTML")) {
1572     dilidstr = dilidstr.from(4);
1573     dilidstr = Tabbed_HTML_DIL_Hierarchy(dilidstr,maxdepth);
1574   } else dilidstr = Tabbed_DIL_Hierarchy(dilidstr,maxdepth);
1575   if (dilidstr.empty()) return false;
1576   if (!hierarchyfile.empty()) {
1577     VOUT << "Writing DIL Hierarchy to file " << hierarchyfile << " (<A HREF=\"file://" << hierarchyfile << "\">" << hierarchyfile << "</A>\n";
1578     return write_file_from_String(hierarchyfile,dilidstr,"DIL Hierarchy");
1579   }
1580   VOUT << dilidstr;
1581   return true;
1582 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!DIL_Required_Task_Chunks@{DIL\_\-Required\_\-Task\_\-Chunks}}
\index{DIL_Required_Task_Chunks@{DIL\_\-Required\_\-Task\_\-Chunks}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}long$\ast$ DIL\_\-Required\_\-Task\_\-Chunks ({\bf DIL\_\-entry} $\ast$$\ast$ {\em dep}, int {\em deplen})}\label{dil2al_8hh_a289}




Definition at line 273 of file alcomp.cc.

References DIL\_\-ID::chars(), DIL\_\-entry::Completion\_\-State(), EOUT, and DIL\_\-entry::Time\_\-Required().

Referenced by generate\_\-AL().



\footnotesize\begin{verbatim}273                                                               {
274 // returns an array with the number of task chunks
275 // required to complete the DIL entries in the array
276 // dep with length deplen
277   long * req = new long[deplen];
278   float completion;
279   long c_size = ((long) timechunksize)*60;
280   for (int i=0; i<deplen; i++) {
281     req[i] = dep[i]->Time_Required();
282     completion = dep[i]->Completion_State();
283     if (completion<0.0) completion = 1.0; // negative completion values have special meaning but do imply that the task is no longer scheduled to be completed
284     if (completion>1.0) {
285       EOUT << "dil2al: Completion ratio exceeds 1.0 for DIL#";
286       if (calledbyforminput) EOUT << "<A HREF=\"" << idfile << '#' << dep[i]->chars() << "\">";
287       EOUT << dep[i]->chars();
288       if (calledbyforminput) EOUT << "</A>";
289       EOUT << " in DIL_Required_Task_Chunks(), continuing\n";
290       req[i] = 0;
291       continue;
292     }
293     completion = ceil(((double) req[i])*(1.0-completion)); // determine remaining time required
294     req[i] = (long) completion;
295     if (req[i] % c_size) req[i] = (req[i]/c_size) + 1;
296     else req[i] /= c_size;
297   }
298   return req;
299 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!double2time@{double2time}}
\index{double2time@{double2time}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}time\_\-t double2time (double {\em t})}\label{dil2al_8hh_a225}




Definition at line 1893 of file utilities.cc.

Referenced by DIL\_\-entry::Get\_\-Entry\_\-Parameters().



\footnotesize\begin{verbatim}1893                              {
1894         struct tm td;
1895         td.tm_sec = 0; // seconds not explicit
1896         td.tm_min = (int) fmod(t,100.0); t /= 100.0;
1897         td.tm_hour = (int) fmod(t,100.0); t /= 100.0;
1898         td.tm_mday = (int) fmod(t,100.0); t /= 100.0;
1899         td.tm_mon = ((int) fmod(t,100.0))-1; t /= 100.0;
1900         td.tm_year = ((int) t)-1900;
1901         td.tm_wday = 0;
1902         td.tm_yday = 0;
1903         td.tm_isdst = 0;
1904         return mktime(&td);
1905 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!Elipsis_At@{Elipsis\_\-At}}
\index{Elipsis_At@{Elipsis\_\-At}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Elipsis\_\-At ({\bf String} \& {\em s}, int {\em maxsize})}\label{dil2al_8hh_a277}




Definition at line 2634 of file utilities.cc.

References String::before(), and String::length().

Referenced by AL\_\-Passed\_\-Target\_\-Dates(), generate\_\-AL(), Active\_\-List::generate\_\-focused\_\-AL(), generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-Superiors(), Active\_\-List::generate\_\-wide\_\-AL(), update\_\-main\_\-ALs(), DIL\_\-Visualize\_\-with\_\-HTML\_\-Tabs::Visualize\_\-Element(), and DIL\_\-Visualize\_\-with\_\-FORM\_\-Tabs::Visualize\_\-Element().



\footnotesize\begin{verbatim}2634                                         {
2635 // returns the length of the resulting string
2636         if (s.length()>maxsize) {
2637                 s = s.before(maxsize);
2638                 s = s.before(BigRegex("[        \n.,;:]"),-1);
2639                 s += "...";
2640         }
2641         return s.length();
2642 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!extract_DIL_IDs_from_form@{extract\_\-DIL\_\-IDs\_\-from\_\-form}}
\index{extract_DIL_IDs_from_form@{extract\_\-DIL\_\-IDs\_\-from\_\-form}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool extract\_\-DIL\_\-IDs\_\-from\_\-form ({\bf String\-List} $\ast$ {\em qlist} = NULL)}\label{dil2al_8hh_a310}




Definition at line 1342 of file diladmin.cc.

References String\-List::concatenate(), String::contains(), DIL\_\-Hierarchy\_\-cmd(), Big\-Regex::sublen(), Big\-Regex::subpos(), URI\_\-unescape(), VOUT, and write\_\-file\_\-from\_\-String().

Referenced by Detect\_\-Form\_\-Input().



\footnotesize\begin{verbatim}1342                                                           {
1343   // Form interface that extracts DIL IDs that correspond to checked
1344   // checkboxes in any form.
1345   // Known variable names in form: dil2al, DILIDCHKBX<DIL_ID>, processcmd,
1346   // maxdepth, hierarchyfile.
1347   if (!qlist) return false;
1348   const BigRegex dilidchkbx("^DILIDCHKBX\\([0-9]+[.][0-9]+\\)=");
1349   StringList dilids; int dilidsnum = 0;
1350   // Find checked checkboxes that contain DIL IDs
1351   int qnum = qlist->length()-1; // *** empty element at end of StringList
1352   for (int i = 0; i<qnum; i++) {
1353     // *** Beware: The same caveat about the assumed length of DIL IDs applies
1354     //     as in the modify_DIL_group_target_dates_cmd() function above.
1355 #ifdef DEBUGTIER2
1356     cout << '$' << (*qlist)[i] << '\n';
1357 #endif
1358     if ((*qlist)[i].contains(dilidchkbx)) {
1359       String chkbxid = (*qlist)[i].at(dilidchkbx.subpos(1),dilidchkbx.sublen(1));
1360       String chkbxval = (*qlist)[i].after('=');
1361       if (chkbxval=="extract") {
1362         dilids[dilidsnum] = chkbxid;
1363         dilidsnum++;
1364       }
1365     }
1366   }
1367   // Check if extract or make new hierarchy
1368   int processcmdidx = qlist->contains("processcmd");
1369   if (processcmdidx>0) if (String((*qlist)[processcmdidx].after('='))=="newhierarchy") {
1370     int depthidx = qlist->contains("maxdepth"), maxdepth = 50;
1371     if (depthidx>0) maxdepth = atol((const char *) String((*qlist)[depthidx].after('=')));
1372     int hierarchyfileidx = qlist->contains("hierarchyfile"); String hierarchyfile("");
1373     if (hierarchyfileidx>0) hierarchyfile = '@'+String((*qlist)[hierarchyfileidx].after('='))+'@';
1374     int expressionsidx = qlist->contains("expressions"); String expressions("");
1375     if (expressionsidx>0) expressions = '#'+URI_unescape(String((*qlist)[expressionsidx].after('=')));
1376     int contentfileidx = qlist->contains("contentfile"); String contentfile("");
1377     if (contentfileidx>0) contentfile = 'c'+String((*qlist)[contentfileidx].after('='));
1378     return DIL_Hierarchy_cmd(hierarchyfile+"FORM"+dilids.concatenate('+')+contentfile+expressions,maxdepth);
1379   }
1380   // Write the DIL IDs to the dilref file
1381   if (dilidsnum==0) return false;
1382   VOUT << dilids.concatenate("\n");
1383   String dilidsstr;
1384   for (int i = 0; i<dilidsnum; i++) dilidsstr += "Current URL      file://"+idfile+'#'+dilids[i]+'\n';
1385   return write_file_from_String(dilref,dilidsstr,"Checked DIL IDs");
1386 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!extract_paper_novelties@{extract\_\-paper\_\-novelties}}
\index{extract_paper_novelties@{extract\_\-paper\_\-novelties}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool extract\_\-paper\_\-novelties ({\bf String} {\em fname}, {\bf String} {\em paperplanurl}, ostream \& {\em ostr})}\label{dil2al_8hh_a345}




Definition at line 19 of file tlfilter.cc.

References \_\-BIGSTRING\_\-ITERATOR, String::after(), String::at(), EOUT, String::gsub(), String::index(), read\_\-file\_\-into\_\-String(), relurl(), RX\_\-Search\_\-Safe(), Big\-Regex::sublen(), and Big\-Regex::subpos().

Referenced by cmdline\_\-extract\_\-paper\_\-novelties().



\footnotesize\begin{verbatim}19                                                                                 {
20 // searches a document for <A NAME="NOVELTY-some-id">[<B>N</B>]</A>/<!-- @NOVELTY-some-id@ -->
21 // tags and returns the items between the tags
22         String fcont;
23         if (!read_file_into_String(fname,fcont)) {
24                 EOUT << "dil2al: Unable to read file " << fname << " in extract_paper_novelties()\n";
25                 return false;
26         }
27         _BIGSTRING_ITERATOR i=-1;
28         while ((i=fcont.index(BigRegex("[<]A[   ]+[Nn][Aa][Mm][Ee][     ]*=[    ]*\"NOVELTY-[^\"]*\"[>]"),i+1))>=0) {
29                 _BIGSTRING_ITERATOR ii = fcont.index("\">",i); // find end of ID
30                 if (ii>=0) {
31                         String nid;
32                         nid = fcont.at(i,ii-i);
33                         nid = nid.after("\"",-1);
34                         ii = fcont.index("</A>",ii); // find start of content
35                         if (ii>=0) {
36                                 BigRegex en("[<]!--[    ]+@"+RX_Search_Safe(nid)+"@[    ]+\\([^>]*\\)--[>]");
37                                 _BIGSTRING_ITERATOR iii = fcont.index(en,ii); // get end marker
38                                 if (iii>=0) {
39                                         String cstr, istr, lstr, sstr;
40                                         if (en.sublen(1)>0) { // extract possible qualifying and quantifying information
41                                                 String qqinfo = fcont.at(en.subpos(1),en.sublen(1));
42                                                 const BigRegex qqi("@CONTEXT:[  ]*\\([^@]*\\)@[         ]*@IMP:[        ]*\\([^@]*\\)@[         ]*@LEN:[        ]*\\([^@]*\\)@[         ]*@SECTION:[    ]*\\([^@]*\\)@");
43                                                 if (qqinfo.index(qqi)>=0) {
44                                                         cstr = qqinfo.at(qqi.subpos(1),qqi.sublen(1));
45                                                         istr = qqinfo.at(qqi.subpos(2),qqi.sublen(2));
46                                                         lstr = qqinfo.at(qqi.subpos(3),qqi.sublen(3));
47                                                         sstr = qqinfo.at(qqi.subpos(4),qqi.sublen(4));
48                                                 }
49                                         }
50                                         String ncont;
51                                         ncont = fcont.at(ii+4,iii-(ii+4)); // get content
52                                         ncont.gsub(BigRegex("[<][^>]*[>]"),""); // clean up content
53                                         String fshortname = fname.after("/",-1);
54                                         if (fshortname == "") fshortname = fname;
55                                         ostr << "<LI>" << ncont << " [<A HREF=\"" << relurl(paperplanurl,fname) << '#' << nid << "\">" << fshortname << '#' << nid << "</A>]<BR>\n"; // return content
56 //*** selection criteria suggestions can be automatically generated (see DIL#20000310091924.1)
57                                         ostr << "(<B>Context</B>: " << cstr << ", <B>Importance</B>: " << istr << ", <B>Length</B>: " << lstr << ", <B>Section</B>: " << sstr << ")\n"; // add selection criteria
58                                 }
59                         }
60                 }
61         } // else may already have HREF reference to paper in which it is included
62         return true;
63 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!extract_paper_plan_to_paper@{extract\_\-paper\_\-plan\_\-to\_\-paper}}
\index{extract_paper_plan_to_paper@{extract\_\-paper\_\-plan\_\-to\_\-paper}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool extract\_\-paper\_\-plan\_\-to\_\-paper ({\bf String} {\em ppname}, {\bf String} {\em pout}, {\bf String} {\em pprevious})}\label{dil2al_8hh_a359}




Definition at line 1069 of file ppfilter.cc.

References absurl(), String::after(), String::at(), backup\_\-and\_\-rename(), String::before(), String::del(), EOUT, extract\_\-hierarchy\_\-depth\_\-decrease\_\-to\_\-paper(), extract\_\-hierarchy\_\-depth\_\-increase\_\-to\_\-paper(), extract\_\-novelty\_\-item\_\-to\_\-paper(), extract\_\-required\_\-item\_\-to\_\-paper(), String::from(), get\_\-Paper\_\-Plans\_\-Section\_\-IDs(), String::gsub(), String::index(), String\-List::iselement(), Novelty\_\-Marker\_\-List::iselement(), String::length(), Novelty\_\-Marker::NM\_\-NOVELTY\_\-ITEM, Novelty\_\-Marker::NM\_\-REQUIRED\_\-ITEM, Novelty\_\-Marker::NM\_\-TCH\_\-DEPTH\_\-DEC, Novelty\_\-Marker::NM\_\-TCH\_\-DEPTH\_\-INC, read\_\-file\_\-into\_\-String(), relurl(), String::SEARCH\_\-END, String::upcase, and VOUT.

Referenced by cmdline\_\-extract\_\-paper\_\-plan\_\-to\_\-paper().



\footnotesize\begin{verbatim}1069                                                                                {
1070 // uses information in a paper plan to generate paper outline and content
1071 // (see DIL#20000315155709.1)
1072 // preparation:
1073 // - a sorted paper plan including required items
1074 // - an optional previous (version of the) paper, containing
1075 //   stylistically rewritten items or arbitrary ``protected'' text
1076 //   for inclusion in the paper draft
1077         const BigRegex fighererx("[\\][A-Za-z]*figurehere[{]");
1078         String pptext, pprevtext, ostrtext, _figcaps, _figps, * figcaps = NULL, * figps = NULL;
1079         if (!read_file_into_String(ppname,pptext)) return false;
1080         if (pprevious!="") if (!read_file_into_String(pprevious,pprevtext)) return false; // safe in case new paper draft would overwrite pprevious
1081         ofstream ostr(pout+".new");
1082         if (!ostr) {
1083                 EOUT << "dil2al: Unable to create " << pout << ".new in extract_paper_plan_to_paper()\n";
1084                 return false;
1085         }
1086         include_article_head_template(pout,ostrtext,pprevtext);
1087         // determine if FIGURE CAPTIONS and FIGURE PSCONVERSIONS sections are present
1088         if (ostrtext.contains("@Begin FIGURE CAPTIONS@")) figcaps = &_figcaps;
1089         if (ostrtext.contains("@Begin FIGURE PSCONVERSIONS@")) figps = &_figps;
1090         // read all Novelty items from paper plan into list
1091         Novelty_Marker_List nml; int nmend = 0, nmnum = 0, hdepth = 0;
1092         if ((nmend = pptext.index(BigRegex("[<]A[       ]*[Nn][Aa][Mm][Ee][     ]*=[    ]*\"tch\""),nmend))<0) {
1093                 EOUT << "dil2al: No Topical Context Hierarchy found in Paper Plan in extract_paper_plan_to_paper()\n";
1094                 return false;
1095         }
1096 #ifdef DEBUG_PPEXTRACT
1097         cout << "Paper Plan text length = " << pptext.length() << " Novelty Markers at positions: ";
1098 #endif
1099         while ((nmend = nml[nmnum].Get_Novelty_from_Paper_Plan(pptext,nmend,hdepth))>=0) {
1100 #ifdef DEBUG_PPEXTRACT
1101                 if (nmnum>0) cout << ',';
1102                 cout << nmend;
1103 #endif
1104                 hdepth = nml[nmnum].hierdepth; // track Topical Context Hierarchy depth
1105                 if (hdepth<0) break;
1106                 if (nml[nmnum].source!="") nml[nmnum].source = absurl(ppname,nml[nmnum].source);
1107 #ifdef DEBUG_PPEXTRACT
1108                 if (nml[nmnum].source!="") cout << '(' << nml[nmnum].source << ')';
1109                 else cout << '(' << nml[nmnum].context[0] << ')';
1110 #endif
1111                 nmnum++;
1112         }
1113 #ifdef DEBUG_PPEXTRACT
1114         cout << '\n';
1115 #endif
1116         StringList contextconcats; LongList ccranks;
1117         nml.Get_Context_Ranks(contextconcats,ccranks);
1118         if (verbose) VOUT << nmnum << " Novelty Items, Topic Openings and Closings\n";
1119         // read Section IDs
1120         StringList ppsectionids, ppsectiontitles, ppsectiontemplates;
1121         if (!get_Paper_Plans_Section_IDs(ppsectionids,ppsectiontitles,ppsectiontemplates)) return false;
1122         // test for unknown section IDs in Novelty Items
1123         for (int i = 0; i<nmnum; i++) if (nml[i].nmtype==Novelty_Marker::NM_NOVELTY_ITEM)
1124                 for (int s = 0; s<nml[i].section.length(); s++) if (ppsectionids.iselement(nml[i].section[s])<0)
1125                         EOUT << "dil2al: Unknown section type `" << nml[i].section[s] << "' for " << nml[i].id << " in extract_paper_plan_to_paper(), continuing as is\n";
1126 //*** generate tentative Abstract, as specified in
1127 //*** DIL#20000315155709.1
1128 //*** use information about paper type to modify main template or section templates
1129 //*** according to background template
1130         // per section
1131         int secidx, srcfnum = 0; StringList srcf, srcfname; String requireditems,sectiontemplate;
1132         for (secidx=0; secidx<ppsectionids.length(); secidx++) if (ppsectionids[secidx]!="ABS") {
1133 #ifdef DEBUG_PPEXTRACT
1134                 cout << 'I'; cout.flush();
1135 #endif
1136                 // get section title
1137                 String sectitle = ppsectiontitles[secidx];
1138                 sectitle.upcase();
1139                 if (verbose) VOUT << "Generating paper outline section " << sectitle << '\n';
1140                 include_article_section_head_template(ppsectiontemplates[secidx],sectiontemplate,ostrtext,pprevtext);
1141                 // parse items in section
1142                 String refurl = relurl(pout,ppname);
1143                 for (int i=0; i<nmnum; i++)
1144 #ifdef DEBUG_PPEXTRACT
1145                 { cout << 'J'; cout.flush();
1146 #endif
1147                  if ((nml[i].nmtype==Novelty_Marker::NM_TCH_DEPTH_INC)
1148                   || (nml[i].nmtype==Novelty_Marker::NM_TCH_DEPTH_DEC)
1149                   || (nml[i].section.iselement(ppsectionids[secidx])>=0)) {
1150                         if (nml[i].nmtype==Novelty_Marker::NM_REQUIRED_ITEM) extract_required_item_to_paper(ostrtext,refurl,nml[i],sectitle,requireditems,pprevtext);
1151                         else if (nml[i].nmtype==Novelty_Marker::NM_TCH_DEPTH_INC) extract_hierarchy_depth_increase_to_paper(ostrtext,nml[i],contextconcats,ccranks,sectitle,srcf,srcfname,srcfnum,pprevtext);
1152                         else if (nml[i].nmtype==Novelty_Marker::NM_TCH_DEPTH_DEC) extract_hierarchy_depth_decrease_to_paper(ostrtext,nml[i],sectitle,srcf,srcfname,srcfnum,pprevtext);
1153                         else if (nml[i].nmtype==Novelty_Marker::NM_NOVELTY_ITEM) extract_novelty_item_to_paper(ostrtext,figcaps,figps,nml[i],sectitle,srcf,srcfname,srcfnum,pout,pprevtext);
1154                         else EOUT << "dil2al: Unknown Novelty_Marker::nmtype in extract_paper_plan_to_paper(), continuing as is\n";
1155                 }
1156                 // close section
1157 #ifdef DEBUG_PPEXTRACT
1158                 } cout << 'L'; cout.flush();
1159 #endif
1160                 include_article_section_tail_template(sectiontemplate,ostrtext,pprevtext);
1161         }
1162 #ifdef DEBUG_PPEXTRACT
1163         cout << 'K'; cout.flush();
1164 #endif
1165         include_article_tail_template(pout,ostrtext,pprevtext);
1166         // add FIGURE CAPTIONS and FIGURE PSCONVERSIONS sections if present
1167         if (figcaps!=NULL) ostrtext.gsub(BigRegex("@Begin FIGURE CAPTIONS@[^\n]*\n"),"@Begin FIGURE CAPTIONS@\n"+_figcaps);
1168         if (figps!=NULL) ostrtext.gsub(BigRegex("@Begin FIGURE PSCONVERSIONS@[^\n]*\n"),"@Begin FIGURE PSCONVERSIONS@\n"+_figps);
1169         // add \figureloose commands
1170         int ofigidx;
1171         if ((ofigidx = ostrtext.index(fighererx))>=0) {
1172                 // find loose figures location in outline and copy to there
1173                 int iloosefigidx, ifigend; String ostrtail;
1174                 if (((iloosefigidx = ostrtext.index(BigRegex("\n%[      ]*@Begin FIGURES AT END@"),-1))>=0)
1175                  && ((ifigend = ostrtext.index(BigRegex("\n%[   ]*@End FIGURES AT END@[^\n]*\n"),String::SEARCH_END,-1))>=0)) {
1176                         ostrtail = ostrtext.from(ifigend);
1177                         ostrtext = ostrtext.before(iloosefigidx);
1178                 } else {
1179                         if ((iloosefigidx = ostrtext.index("\\end{document}",-1))>=0) {
1180                                 ostrtail = ostrtext.from(iloosefigidx);
1181                                 ostrtext = ostrtext.before(iloosefigidx);
1182                         } else {
1183                                 EOUT << "dil2al: No \\end{document} found in outline in extract_paper_plan_to_paper(), continuing as is\n";
1184                                 ostrtail = "";
1185                         }
1186                 }
1187                 // copy \figurehere data to \figureloose commands
1188                 ostrtext += "\n% @Begin FIGURES AT END@\n\n";
1189                 while (ofigidx>=0) {
1190                         String figdata;
1191                         if ((ifigend=TeX_get_command(ostrtext,ofigidx,figdata))>=0) {
1192                                 figdata.gsub(BigRegex("^\\([\\][A-Za-z]*\\)figurehere[{]"),"_1figureloose{",'_');
1193                                 ostrtext += figdata + "\n\n";
1194                         } else {
1195                                 EOUT << "dil2al: Incomplete figure command found for " << ostrtext.sub(fighererx,0) << " in extract_paper_plan_to_paper(), continuing as is\n";
1196                                 ifigend = ofigidx+1;
1197                         }
1198                         ofigidx = ostrtext.index(fighererx,ifigend);
1199                 }
1200                 ostrtext += "% @End FIGURES AT END@\n"+ostrtail;
1201         }
1202         // include protected text
1203         include_protected_text(ostrtext,pprevtext);
1204         // TeX format corrections, safeguards for TeX compilation
1205         TeX_format_corrections(ostrtext,true);
1206 //*** add new Context items to contexts file here (DIL#20010412121145.1)
1207 cerr << "Add automatic call to add Context items to contexts file here (DIL#20010412121145.1)...\n";
1208         ostr << ostrtext; // write paper draft file
1209         ostr.close();
1210 #ifndef DEBUG_DO_NOT_CREATE_NEW_OUTLINE
1211         if (!backup_and_rename(pout,"Paper Draft")) return false;
1212         // find required items list in paper plan, create if not found
1213         if (requireditems.length()>0) {
1214                 int riidx;
1215                 if ((riidx = pptext.index(BigRegex("[<]!--[     ]*@Begin REQUIRED ITEMS@[       ]*--[>]\n"),String::SEARCH_END))<0) {
1216                         // create list of required items
1217                         if ((riidx = pptext.index(BigRegex("\\([<][Pp][>][      ]*\n[<][Hh][Rr][>].*\\)?[<]/[Bb][Oo][Dd][Yy][>]")))<0)
1218                                 EOUT << "dil2al: Unable to create list of required items in extract_paper_plan_to_paper(), continuing as is\n";
1219                         else {
1220                                 String pptextrest = pptext.at(riidx,pptext.length()-riidx);
1221                                 pptext = pptext.before(riidx)
1222                                                 + "<H2><A HNAME=\"required-items\">Required Items</A></H2>\n\n<UL>\n<!-- @Begin REQUIRED ITEMS@ -->\n<!-- @End REQUIRED ITEMS@ -->\n</UL>\n\n"
1223                                                 + pptextrest;
1224                                 riidx += 92; // move index to start of <!-- @End REQUIRED ITEMS@ --> tag
1225                         }
1226                 }
1227                 if (riidx>=0) {
1228                         // update required items list
1229                         int riend;
1230                         if ((riend = pptext.index(BigRegex("[<]!--[     ]*@End REQUIRED ITEMS@[         ]*--[>]"),riidx))<0) {
1231                                 EOUT << "dil2al: Missing @End REQUIRED ITEMS@ tag in extract_paper_plan_to_paper(), placing tag\n";
1232                                 String pptextrest = pptext.at(riidx,pptext.length()-riidx);
1233                                 pptext = pptext.before(riidx) + "<!-- @End REQUIRED ITEMS@ -->\n" + pptextrest;
1234                                 riend = riidx;
1235                         }
1236                         String pptextrest = pptext.at(riend,pptext.length()-riend);
1237                         pptext = pptext.before(riidx) + requireditems + pptextrest;
1238                         // store, backup and rename updated paper plan
1239                         ostr.open(ppname+".new");
1240                         if (!ostr) {
1241                                 EOUT << "dil2al: Unable to create " << ppname << ".new to update required items list in extract_paper_plan_to_paper(), continuing as is\n";
1242                                 return false;
1243                         }
1244                         ostr << pptext;
1245                         if (!backup_and_rename(ppname,"Paper Plan"))
1246                                 EOUT << "dil2al: Unable to update required items list extract_paper_plan_to_paper(), continuing as is\n";
1247                 }
1248         } else if (verbose) VOUT << "No Required items to list\n";
1249         return true;
1250 #endif
1251 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!file_is_directory@{file\_\-is\_\-directory}}
\index{file_is_directory@{file\_\-is\_\-directory}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool file\_\-is\_\-directory ({\bf String} {\em filepath})}\label{dil2al_8hh_a232}




Definition at line 1988 of file utilities.cc.

References EOUT.

Referenced by Get\_\-Target\_\-Directory(), search\_\-cmd(), and Target\_\-Access::set\_\-target().



\footnotesize\begin{verbatim}1988                                         {
1989         struct stat fs;
1990         if (stat(filepath,&fs)!=0) {
1991                 if (verbose) EOUT << "dil2al: Error reading file attributes of " << filepath << "in file_is_directory()\n";
1992                 return false;
1993         }
1994         return S_ISDIR(fs.st_mode);
1995 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!file_is_regular@{file\_\-is\_\-regular}}
\index{file_is_regular@{file\_\-is\_\-regular}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool file\_\-is\_\-regular ({\bf String} {\em filepath})}\label{dil2al_8hh_a230}




Definition at line 1970 of file utilities.cc.

References EOUT.



\footnotesize\begin{verbatim}1970                                       {
1971         struct stat fs;
1972         if (stat(filepath,&fs)!=0) {
1973                 if (verbose) EOUT << "dil2al: Error reading file attributes of " << filepath << " in file_is_regular()\n";
1974                 return false;
1975         }
1976         return S_ISREG(fs.st_mode);
1977 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!file_is_regular_or_symlink@{file\_\-is\_\-regular\_\-or\_\-symlink}}
\index{file_is_regular_or_symlink@{file\_\-is\_\-regular\_\-or\_\-symlink}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool file\_\-is\_\-regular\_\-or\_\-symlink ({\bf String} {\em filepath})}\label{dil2al_8hh_a231}




Definition at line 1979 of file utilities.cc.

References EOUT.

Referenced by Get\_\-Target\_\-Directory().



\footnotesize\begin{verbatim}1979                                                  {
1980         struct stat fs;
1981         if (stat(filepath,&fs)!=0) {
1982                 if (verbose) EOUT << "dil2al: Error reading file attributes of " << filepath << "in file_is_regular_or_symlink()\n";
1983                 return false;
1984         }
1985         return (S_ISREG(fs.st_mode) || (S_ISLNK(fs.st_mode)));
1986 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!filter_TL_by_AL@{filter\_\-TL\_\-by\_\-AL}}
\index{filter_TL_by_AL@{filter\_\-TL\_\-by\_\-AL}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool filter\_\-TL\_\-by\_\-AL ()}\label{dil2al_8hh_a342}




Definition at line 6 of file tlfilter.cc.



\footnotesize\begin{verbatim}6                        {
7 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!financial_monthly@{financial\_\-monthly}}
\index{financial_monthly@{financial\_\-monthly}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool financial\_\-monthly ()}\label{dil2al_8hh_a370}




Definition at line 263 of file finances.cc.

References Financial\_\-Monthly\_\-Root::add(), PLLRoot$<$ PLLType $>$::head(), PLL\_\-LOOP\_\-FORWARD, Financial\_\-Monthly\_\-Root::put\_\-results(), read\_\-financial\_\-notes\_\-file(), and VOUT.

Referenced by formalizer\_\-commands().



\footnotesize\begin{verbatim}263                          {
264   // Compute results from <A HREF="../../doc/html/financial-notes.html">financial-notes.html</A>.
265   PLLRoot<Financial_Note> fnotes; String finnotestop, finnotesend;
266   if (!read_financial_notes_file(fnotes,finnotestop,finnotesend)) return false;
267   // compute sums of categorized expenses that have not previously been handled
268   Financial_Monthly_Root fmonthly;
269   if (verbose) VOUT << "If you wish to rely on monthly results from the Financial Notes, please\nverify that all non-variable expenses listed in bank statements are\naccounted for in the Financial Notes.\n\n";
270   PLL_LOOP_FORWARD(Financial_Note,fnotes.head(),1) {
271     if (!e->Handled()) fmonthly.add(*e);
272   }
273   VOUT << fmonthly.put_results();
274 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!financial_notes@{financial\_\-notes}}
\index{financial_notes@{financial\_\-notes}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool financial\_\-notes ()}\label{dil2al_8hh_a369}




Definition at line 117 of file finances.cc.

References confirmation(), String::del(), String::empty(), String::length(), Financial\_\-Note::link\_\-sorted(), read\_\-financial\_\-notes\_\-file(), time\_\-stamp\_\-time\_\-date(), VOUT, and write\_\-financial\_\-notes\_\-file().

Referenced by formalizer\_\-commands().



\footnotesize\begin{verbatim}117                        {
118   // Edit notes in <A HREF="../../doc/html/financial-notes.html">financial-notes.html</A>.
119   PLLRoot<Financial_Note> fnotes; String finnotestop, finnotesend;
120   if (!read_financial_notes_file(fnotes,finnotestop,finnotesend)) return false;
121   // add new notes (currently just by hand)
122   Financial_Note * f;
123   time_t d; double e; bool h; String dstr(curdate), t, n, c;
124   const int LLEN = 10240;
125   char lbuf[LLEN];
126   d = time_stamp_time_date(dstr+"0000");
127   while (1) {
128     VOUT << "date [" << dstr << "] (done=exit): ";
129     cin.getline(lbuf,LLEN); n = lbuf;
130     if (!n.empty()) {
131       if (n=="done") break;
132       dstr = n;
133       n += "0000"; n.del(12,n.length()-12);
134       d = time_stamp_time_date(n);
135     }
136     VOUT << "expense: ";
137     cin.getline(lbuf,LLEN);
138     e = atof(lbuf);
139     VOUT << "type [variable]: ";
140     cin.getline(lbuf,LLEN); t = lbuf;
141     if (t.empty()) t = "variable";
142     if (t==String("variable")) h = true;
143     else h = !confirmation("handled [n]: ",'y');
144     VOUT << "note: ";
145     cin.getline(lbuf,LLEN); n = lbuf;
146     VOUT << "comment: ";
147     cin.getline(lbuf,LLEN); c = lbuf;
148     f = new Financial_Note(d,e,t,h,n,c);
149     f->link_sorted(fnotes);
150   }
151   // write financial notes file
152   return write_financial_notes_file(fnotes,finnotestop,finnotesend);
153 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!find_delimiter@{find\_\-delimiter}}
\index{find_delimiter@{find\_\-delimiter}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int find\_\-delimiter ({\bf String} \& {\em str}, int {\em startpos}, int {\em lenlimit}, char {\em delimiter} = '$\backslash$n')\hspace{0.3cm}{\tt  [inline]}}\label{dil2al_8hh_a242}




Definition at line 2158 of file utilities.cc.

References String::index().

Referenced by Detailed\_\-Items\_\-List::Get\_\-Project\_\-Data().



\footnotesize\begin{verbatim}2158                                                                                            {
2159         int delimpos = str.index(delimiter,startpos);
2160         if (delimpos>=lenlimit) return -1;
2161         return delimpos;
2162 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!find_in_line@{find\_\-in\_\-line}}
\index{find_in_line@{find\_\-in\_\-line}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int find\_\-in\_\-line (ifstream $\ast$ {\em lf}, const char $\ast$ {\em pattern}, int {\em nsub}, {\bf String} $\ast$ {\em dilid}, const char $\ast$ {\em before}, char $\ast$ {\em lbuf}, int {\em llen})}\label{dil2al_8hh_a247}




Definition at line 2285 of file utilities.cc.

References EOUT.

Referenced by add\_\-new\_\-to\_\-DIL(), get\_\-active\_\-DIL\_\-IDs(), and select\_\-TL\_\-AL\_\-refs().



\footnotesize\begin{verbatim}2285                                                                                                                             {
2286 // takes an open ifstream and searches for the regex pattern with nsub subexpressions
2287 // before a line with the ``before'' pattern (NULL = EOF)
2288 // returns substrings in dilid and the return value
2289 // 1 (found ``pattern''), 0 (found ``before''), -1 (EOF),
2290 // -2 (wrong #substrings), -3 (regex error) -4 (file not open)
2291         const int SLEN = 1024;
2292         char sbuf[SLEN];
2293         regex_t re,be;
2294         regmatch_t * rm;
2295         int mres;
2296         bool done;
2297         if (*lf) {
2298                 if (nsub) rm = new regmatch_t[nsub];
2299                 else rm = NULL;
2300                 if (regcomp(&re,pattern, REG_EXTENDED) != 0) {
2301                         EOUT << "dil2al: Unable to compile ``pattern'' regular expression in find_in_line()\n";
2302                         return -3;
2303                 }
2304                 if (before) {
2305                         if (regcomp(&be,before, REG_EXTENDED|REG_NOSUB) != 0) {
2306                                 regfree(&re);
2307                                 EOUT << "dil2al: Unable to compile ``before'' regular expression in find_in_line()\n";
2308                                 return -3;
2309                         }
2310                 }
2311                 done = false;
2312                 while (!done) {
2313                         if (lf->eof()) { mres = 2; done=true; }
2314                         else {
2315                                 lf->getline(lbuf,llen);
2316                                 if (before) mres = regexec(&be,lbuf, (size_t) 0, NULL, 0);
2317                                 if ((before) && (mres != 0) && (mres != REG_NOMATCH)) {
2318                                         EOUT << "dil2al: Internal error while matching ``before'' in find_in_line()\n";
2319                                         mres = 4; done = true;
2320                                 } else {
2321                                         if ((before) && (mres==0)) { mres = 1; done = true; }
2322                                         else {
2323                                                 mres = regexec(&re,lbuf, (size_t) nsub, rm, 0);
2324                                                 if ((mres != 0) && (mres != REG_NOMATCH)) {
2325                                                         EOUT << "dil2al: Internal error while matching ``pattern'' in find_in_line()\n";
2326                                                         mres = 4; done = true;
2327                                                 } else {
2328                                                         if (!mres) {
2329                                                                 done = true;
2330                                                                 if (nsub) {
2331                                                                         if (rm[nsub-1].rm_so==-1) {
2332                                                                                 EOUT << "dil2al: Wrong number of substring matches in find_in_line()\n";
2333                                                                                 mres = 3;
2334                                                                         } else {
2335                                                                                 for (int i=0; i<nsub; i++) {
2336                                                                                         strncpy(sbuf,&lbuf[rm[i].rm_so],rm[i].rm_eo-rm[i].rm_so);
2337                                                                                         sbuf[rm[i].rm_eo-rm[i].rm_so]='\0';
2338                                                                                         dilid[i] = sbuf;
2339                                                                                 }
2340                                                                         }
2341                                                                 }
2342                                                         }
2343                                                 }
2344                                         }
2345                                 }
2346                         }
2347                 }
2348                 regfree(&re);
2349                 regfree(&be);
2350                 if (nsub) delete[] rm;
2351                 return (-mres) + 1;
2352         } else {
2353                 EOUT << "dil2al: file not open in find_in_line()\n";
2354                 return -4;
2355         }
2356 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!find_line@{find\_\-line}}
\index{find_line@{find\_\-line}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool find\_\-line (ifstream $\ast$ {\em lf}, const char $\ast$ {\em pattern}, char $\ast$ {\em lbuf}, int {\em llen})}\label{dil2al_8hh_a245}




Definition at line 2217 of file utilities.cc.

References EOUT.

Referenced by add\_\-new\_\-to\_\-DIL(), get\_\-active\_\-DIL\_\-IDs(), get\_\-topic\_\-keywords(), make\_\-note(), Topical\_\-DIL\_\-Files::Refresh(), select\_\-TL\_\-AL\_\-refs(), and select\_\-TL\_\-DIL\_\-refs().



\footnotesize\begin{verbatim}2217                                                                            {
2218 // takes an open ifstream and searches for the regex pattern
2219         regex_t re;
2220         int mres;
2221         if (*lf) {
2222                 if (regcomp(&re,pattern, REG_EXTENDED|REG_NOSUB) != 0) {
2223                         EOUT << "dil2al: Unable to compile regular expression in find_line()\n";
2224                         return false;
2225                 }
2226                 mres = 1;
2227                 while (mres!=0) {
2228                         if (lf->eof()) {
2229                                 regfree(&re);
2230                                 return false;
2231                         }
2232                         lf->getline(lbuf,llen);
2233                         mres = regexec(&re,lbuf, (size_t) 0, NULL, 0);
2234                         if ((mres != 0) && (mres != REG_NOMATCH)) {
2235                                 EOUT << "dil2al: Internal error while matching in find_line()\n";
2236                                 regfree(&re);
2237                                 return false;
2238                         }
2239                 }
2240                 regfree(&re);
2241                 return true;
2242         } else {
2243                 EOUT << "dil2al: file not open in find_line()\n";
2244                 return false;
2245         }
2246 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!generate_AL@{generate\_\-AL}}
\index{generate_AL@{generate\_\-AL}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool generate\_\-AL ({\bf DIL\_\-entry} $\ast$$\ast$ {\em dep}, {\bf DIL\_\-entry} $\ast$ {\em superior} = NULL)}\label{dil2al_8hh_a292}




Definition at line 985 of file alcomp.cc.

References Active\_\-List::Add\_\-Passed\_\-Target\_\-Date(), Active\_\-List::Add\_\-Target\_\-Date(), Active\_\-List::AL\_\-Head(), AL\_\-PREPARATION\_\-DELAY, Active\_\-List::AL\_\-Tail(), Active\_\-List::allocate(), Active\_\-List::allocate\_\-with\_\-value(), Active\_\-List::available\_\-before(), DIL\_\-ID::chars(), AL\_\-Day::Day\-Date(), AL\_\-Day::Day\-Maxt(), AL\_\-Day::Day\-Start(), Active\_\-List::deavail, DEFAULTALCUMULATIVEREQHEADER, DEFAULTALCUMULATIVEREQTAIL, DIL\_\-Topical\_\-List::dil, DIL\_\-Required\_\-Task\_\-Chunks(), Elipsis\_\-At(), EOUT, Active\_\-List::expand(), filetitle\_\-t::file, Active\_\-List::filestr(), PLLHandle$<$ DIL\_\-entry $>$::fulllength(), generate\_\-EPS\_\-cells(), Active\_\-List::generate\_\-focused\_\-AL(), Active\_\-List::generate\_\-wide\_\-AL(), Active\_\-List::Get\_\-Avail\_\-TC(), AL\_\-TC::Get\_\-DE(), Active\_\-List::get\_\-supstr(), Get\_\-Worked\_\-Estimate(), String::gsub(), HTML\_\-put\_\-form\_\-checkbox(), HTML\_\-put\_\-form\_\-text(), HTML\_\-put\_\-href(), HTML\_\-put\_\-table\_\-cell(), HTML\_\-put\_\-table\_\-row(), HTML\_\-remove\_\-tags(), DIL\_\-entry::Is\_\-Dependency\_\-Of(), Active\_\-List::length(), PLLHandle$<$ AL\_\-TC $>$::Next(), PLL\_\-LOOP\_\-FORWARD, RELLISTSDIR, relurl(), Active\_\-List::remove\_\-unused\_\-TCs(), Active\_\-List::set\_\-TC\_\-values(), DIL\_\-entry::Target\_\-Date(), Time(), time\_\-stamp(), filetitle\_\-t::title, DIL\_\-entry::Topics(), update\_\-main\_\-ALs(), VOUT, and write\_\-file\_\-from\_\-String().

Referenced by select\_\-TL\_\-DIL\_\-refs(), stop\_\-TL\_\-chunk(), and update\_\-DIL\_\-to\_\-AL().



\footnotesize\begin{verbatim}985                                                                 {
986 // create AL from sorted array of DIL entries
987 // if superior == NULL then the AL spans all DIL categories
988 // if generatealtcs == 0, a complete AL will be computed, for
989 // the completion of all DIL entries that are dependencies of
990 // superior
991 // if generatealmaxt > 0, the AL will be computed up to the
992 // limit date specified
993 // if generatealtcs > 0, the AL will be computed for that
994 // number of Task Chunks
995         // check parameters
996         if (!dep) {
997                 EOUT << "dil2al: Missing sorted DIL pointer in generate_AL()\n";
998                 return false;
999         }
1000         if (!dep[0]) {
1001                 EOUT << "dil2al: Empty DIL in generate_AL()\n";
1002                 return false;
1003         }
1004         if (generatealtcs<0) {
1005                 EOUT << "dil2al: Invalid AL interval size (" << generatealtcs << ") requested in generate_AL()\n";
1006                 return false;
1007         }
1008         // prepare DIL entry data
1009         int deplen = dep[0]->fulllength(); // *** if you supply a custom list of sorted entries, supply the length of the list as well
1010         long * req = DIL_Required_Task_Chunks(dep,deplen);
1011         // allocate desired AL interval
1012         // Note: If there is ever a need for intervals beginning
1013         // at other times than the current time, that can be
1014         // accomplished easily by setting curtime to the desired
1015         // start of the interval.
1016         time_t algenhpd = ((time_t) algenregular)*3600; // seconds per day (before any expansion)
1017         if (!superior) algenhpd = ((time_t) algenall)*3600;
1018         else { // detect specific hpd for superior
1019                 // *** (search up or down?)
1020                 EOUT << "dil2al: Search for superior-specific hours-per-day parmameter not yet implemented in generate_AL()\n";
1021         }
1022         Get_Worked_Estimate(); // estimated time already worked on current day
1023 #ifdef DIAGNOSTIC_OUTPUT
1024         EOUT << "alworked = " << alworked << '\n';
1025 #endif
1026         #define LOCAL_CLEAN_EXIT { delete[] req; return false; }
1027         Active_List al(req,deplen,algenhpd,superior);
1028 #ifdef DIAGNOSTIC_OUTPUT
1029         EOUT << "allength = " << al.length() << '\n';
1030 #endif
1031         if (al.length()<1) LOCAL_CLEAN_EXIT
1032         // distribute task chunks per DIL entry with target date within AL interval
1033         VOUT << "Distributing task chunks per DIL entry over " << al.length() << " AL task chunks\n";
1034         float sumval=1.0, uval; double cumreq = 0.0, groupreq = 0.0; int groupnum = 0;
1035         String cumreqstr, rowreqstr, entryexcerptcell, dstfile, relidfile; time_t grouptd = -1;
1036         if (alshowcumulativereq) { // cumulative required time file header
1037                 cumreqstr = DEFAULTALCUMULATIVEREQHEADER;
1038                 cumreqstr.gsub("@SUP@",al.get_supstr());
1039                 cumreqstr.gsub("@EPSHRS@",String((double) alepshours,"%5.2f"));
1040                 cumreqstr.gsub("@FORMMETHOD@",htmlformmethod);
1041                 cumreqstr.gsub("@FORMACTION@",htmlforminterface);
1042                 dstfile = basedir+RELLISTSDIR+al.filestr()+".ctr.html";
1043                 relidfile = relurl(dstfile,idfile);
1044         }
1045         time_t t_current = Time(NULL) + AL_PREPARATION_DELAY; // expected time upon completion of AL generation
1046         time_t t_start = al.AL_Head()->DayDate()+al.AL_Head()->DayStart(); // AL start
1047         time_t t_limit = al.AL_Tail()->DayDate()+al.AL_Tail()->DayMaxt(); // AL limit
1048         srand(t_current);
1049         if (superior) { // *** DIL entry specific AL
1050                 EOUT << "dil2al: Actual dependency check for DIL entry specific AL not yet implemented in generate_AL()\n";
1051         }
1052         int i, cnt = 0;
1053         VOUT << "DEs : "; VOUT.flush(); DIL_entry * prevde; // use prevde, since dep[i-1] can point to DIL entry that does not satisfy the conditionals below
1054         #define GENERATE_AL_DEPLOOP_CONTINUE prevde = dep[i]; continue
1055         for (i=0; ((i<deplen) && (dep[i]->Target_Date()<t_limit)); i++) if ((req[i]>0) && (dep[i]->Is_Dependency_Of(superior))) { // non-completed DIL entries
1056 #ifdef DIAGNOSTIC_OUTPUT
1057                 EOUT << dep[i]->chars() << " (" << req[i] << ") :\n";
1058 #endif
1059                 if (alshowcumulativereq) { // compute cumulative required time
1060                         DIL_Topical_List * dtl = dep[i]->Topics(0);
1061                         time_t curtd = dep[i]->Target_Date();
1062                         if (grouptd>=0) { // if first row of form
1063                                 if (curtd==grouptd) rowreqstr += HTML_put_table_cell("","@GROUPTREQ@")+HTML_put_table_cell("",HTML_put_form_checkbox(String("TDCHKBX")+prevde->chars(),"noupdate@GROUPCHECKED@","")
1064                                         +HTML_put_form_text(String("TD")+prevde->chars(),"@GROUPEPSTD@",12)); // if in same group, add @place holders@ to row
1065                                 else { // if not in same group complete group data up to previous entry (prevde)
1066                                         generate_EPS_cells(grouptd,cumreqstr,rowreqstr,groupreq,cumreq,t_current,*prevde);
1067                                         groupnum++;
1068                                 }
1069                                 // *** optionally remove the following cell once T_{pref} is used
1070                                 //     to determine preferable shifts
1071                                 rowreqstr += entryexcerptcell;
1072                                 cumreqstr += HTML_put_table_row("",rowreqstr)+'\n';
1073                         }
1074                         grouptd = curtd;
1075                         groupreq += (double) req[i];
1076                         cumreq += (double) req[i];
1077                         rowreqstr = HTML_put_table_cell("",dec(groupnum))+
1078                                           HTML_put_table_cell("",HTML_put_href((relidfile+'#')+dep[i]->chars(),"DIL#" + String(dep[i]->chars())))+
1079                                           HTML_put_table_cell("",HTML_put_href((relurl(dstfile,dtl->dil.file)+'#')+dep[i]->chars(),dtl->dil.title)+" [<A HREF=\"file:///cgi-bin/dil2al?dil2al=MEI&DILID="+dep[i]->str()+"\">edit</A>]")+
1080                                           HTML_put_table_cell("",time_stamp("%Y%m%d%H%M",curtd))+
1081                                           HTML_put_table_cell("",String((((double) req[i])*((double) timechunksize))/60.0,"%6.2f"))+
1082                                           HTML_put_table_cell("",String((cumreq*((double) timechunksize))/60.0,"%6.2f"));
1083                         if (dep[i]->Entry_Text()) entryexcerptcell = (*dep[i]->Entry_Text());
1084                         else entryexcerptcell = "(Missing Text Content)";
1085                         HTML_remove_tags(entryexcerptcell);
1086                         Elipsis_At(entryexcerptcell,alcumtimereqexcerptlength);
1087                         entryexcerptcell = HTML_put_table_cell("",entryexcerptcell);
1088                 }
1089                 if (dep[i]->Target_Date()<t_start) { // skip DIL entries with target date prior to current time
1090                         al.Add_Passed_Target_Date(dep[i]); // add to list of passed target date DIL entries
1091                         VOUT << "dil2al: Warning - Target Date of DIL entry ";
1092                         if (calledbyforminput) VOUT << "<A HREF=\"" << idfile << '#' << dep[i]->chars() << "\">";
1093                         VOUT << dep[i]->chars();
1094                         if (calledbyforminput) VOUT << "</A>";
1095                         VOUT << " precedes current time\n";
1096                         GENERATE_AL_DEPLOOP_CONTINUE;
1097                 }
1098                 al.Add_Target_Date(dep[i]); // add target date reference
1099                 // *** simplify the below by making member functions
1100                 //     that do things like take req[i], automatically
1101                 //     check if expansion is allowed, do the work, and
1102                 //     return the remainder for req[i]
1103                 long expandn = req[i] - al.available_before(dep[i]->Target_Date()); // also sets al.deavail
1104                 if ((expandn>0) && (alautoexpand)) {
1105                         VOUT << "Expanded for DIL entry #" << dep[i]->chars() << " (" << expandn << ")\n";
1106                         if ((expandn -= al.expand(expandn,dep[i]->Target_Date()))!=0) {
1107                                 VOUT << "DIL entry #";
1108                                 if (calledbyforminput) VOUT << "<A HREF=\"" << idfile << '#' << dep[i]->chars() << "\">";
1109                                 VOUT << dep[i]->chars();
1110                                 if (calledbyforminput) VOUT << "</A>";
1111                                 VOUT << " tasks cannot be completed before " << time_stamp("%Y%m%d%H%M",dep[i]->Target_Date()) << "(required: " << req[i] << ", available: " << al.deavail <<  ")\n";
1112                         }
1113                 }
1114                 // *** currently only linear distribution function available
1115                 if ((sumval=al.set_TC_values())>0.0) {
1116                         // randomly allocate TCs for this DIL entry
1117                         while ((req[i]>0) && (al.deavail>0)) {
1118                                 uval = sumval*(((float) rand()) / ((float) RAND_MAX));
1119                                 uval = al.allocate_with_value(uval,dep[i]);
1120                                 if (uval>0.0) {
1121                                         sumval -= uval;
1122                                         req[i]--;
1123 #ifdef DIAGNOSTIC_OUTPUT
1124                                         PLL_LOOP_FORWARD(AL_Day,al.AL_Head(),1) {
1125                                                 EOUT << '|';
1126                                                 if (e->TC_Head()) { 
1127                                                         for (AL_TC * etc = e->TC_Head(); (etc); etc = etc->Next())
1128                                                                 if (etc->Get_DE()) EOUT << 'x'; else EOUT << '_';
1129                                                 }
1130                                         }
1131                                         EOUT << '\n';
1132 #endif
1133                                 }
1134                         }
1135                 } else {
1136                         if (sumval==0.0) VOUT << "No task chunks available for DIL entry #" << dep[i]->chars() << " before target date " << time_stamp("%Y%m%d%H%M",dep[i]->Target_Date()) << "(required: " << req[i] << ", available: " << al.deavail <<  ")\n";
1137                         else EOUT << "dil2al: Negative sum of values for DIL entry #" << dep[i]->chars() << " in generate_AL(), continuing\n";
1138                 }
1139                 prevde = dep[i];
1140                 cnt++;
1141 #ifdef DEBUG
1142                 if ((i%10)==0) { VOUT << '>'; VOUT.flush(); }
1143 #endif
1144         }
1145         VOUT << "Scheduled DIL entries with target date in requested range: " << cnt << '\n';
1146         if (alshowcumulativereq) { // cumulative required time file tail
1147                 String cumreqtail(DEFAULTALCUMULATIVEREQTAIL);
1148                 cumreqtail.gsub("@SUP@",al.get_supstr());
1149                 cumreqtail.gsub("@ALFILE@",al.filestr());
1150                 cumreqtail.gsub("@ALDATE@",time_stamp("%c"));
1151                 generate_EPS_cells(grouptd,cumreqstr,rowreqstr,groupreq,cumreq,t_current,*prevde); // final call to complete grouop data for all entries
1152                 rowreqstr += entryexcerptcell;
1153                 cumreqstr += HTML_put_table_row("",rowreqstr)+'\n' + cumreqtail;
1154                 write_file_from_String(dstfile,cumreqstr,"AL Cumulative Time Required");
1155         }
1156 #ifdef DIAGNOSTIC_OUTPUT
1157         EOUT << "*\n";
1158 #endif
1159         // randomly pick tasks that could not be allocated entirely before their target dates
1160         AL_TC * atc = al.Get_Avail_TC(0);
1161         int j, k = 1; cnt = 0;
1162         while (k>=0) {
1163                 // random DIL entry
1164                 j = (int) (((float) i)*((float) rand()) / ((float) RAND_MAX));
1165                 if (j>=i) j=i-1;
1166                 if (j<0) break; // i==0
1167                 // find nearest DIL entry requiring task chunks
1168                 // Note: current order of search gives partially
1169                 // allocated DIL entries priority over DIL entries
1170                 // with target dates prior to current time
1171                 for (k = j; ((k<i) && (req[k]<=0)); k++);
1172                 if (k>=i) for (k = (j-1); ((k>=0) && (req[k]<=0)); k--);
1173                 // allocate earliest available task chunk in AL
1174                 if (k>=0) {
1175                         if (al.allocate(dep[k])) {
1176                                 req[k]--;
1177 #ifdef DIAGNOSTIC_OUTPUT
1178                                 PLL_LOOP_FORWARD(AL_Day,al.AL_Head(),1) {
1179                                         EOUT << '|';
1180                                         if (e->TC_Head()) { 
1181                                                 for (AL_TC * etc = e->TC_Head(); (etc); etc = etc->Next())
1182                                                         if (etc->Get_DE()) EOUT << 'x'; else EOUT << '_';
1183                                         }
1184                                 }
1185                                 EOUT << '\n';
1186 #endif
1187                         } else break;
1188                 }
1189 #ifdef DEBUG
1190                 if ((cnt%10)==0) { VOUT << '+'; VOUT.flush(); }
1191 #endif
1192                 cnt++;
1193         }
1194         VOUT << "Scheduled tasks that could not be completed before target dates: " << cnt << '\n';
1195 #ifdef DIAGNOSTIC_OUTPUT
1196         EOUT << "*\n";
1197 #endif
1198         // randomly pick tasks that have target dates exceeding the AL interval
1199         int remlen = deplen - i;
1200         k = 0; cnt = 0;
1201         while (k<deplen) {
1202                 // random DIL entry
1203                 j = (int) (((float) remlen)*((float) rand()) / ((float) RAND_MAX));
1204                 if (j>=remlen) j=remlen-1;
1205                 if (j<0) break;
1206                 j += i;
1207                 // find nearest DIL entry requiring task chunks
1208                 for (k = j; ((k>=i) && (req[k]<=0)); k--);
1209                 if (k<i) for (k = (j+1); ((k<deplen) && (req[k]<=0)); k++);
1210                 // allocate earliest available task chunk in AL
1211                 if (k<deplen) {
1212                         if (al.allocate(dep[k])) {
1213                                 req[k]--;
1214 #ifdef DIAGNOSTIC_OUTPUT
1215                                 PLL_LOOP_FORWARD(AL_Day,al.AL_Head(),1) {
1216                                         EOUT << '|';
1217                                         if (e->TC_Head()) { 
1218                                                 for (AL_TC * etc = e->TC_Head(); (etc); etc = etc->Next())
1219                                                         if (etc->Get_DE()) EOUT << 'x'; else EOUT << '_';
1220                                         }
1221                                 }
1222                                 EOUT << '\n';
1223 #endif
1224                         } else break;
1225                 }
1226 #ifdef DEBUG
1227                 if ((cnt%10)==0) { VOUT << '"'; VOUT.flush(); }
1228 #endif
1229         }
1230         VOUT << "Scheduled tasks for DIL entries with target dates beyond requested range: " << cnt << '\n';
1231         // clean up by removing unused TCs
1232 #ifdef DIAGNOSTIC_OUTPUT
1233         PLL_LOOP_FORWARD(AL_Day,al.AL_Head(),1) for (AL_TC * etc = e->TC_Head(); (etc); etc=etc->Next()) if (!etc->Get_DE()) cerr << '?'; cerr << '\n';
1234 #endif
1235         al.remove_unused_TCs();
1236         // create visible AL
1237         if (!al.generate_focused_AL(superior,algenhpd)) LOCAL_CLEAN_EXIT
1238         if (!al.generate_wide_AL(superior)) LOCAL_CLEAN_EXIT
1239         // update DIL, AL, TL main page
1240         if (!update_main_ALs(superior)) LOCAL_CLEAN_EXIT
1241         // clean up
1242         delete[] req;
1243         return true;
1244 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!generate_AL_entry@{generate\_\-AL\_\-entry}}
\index{generate_AL_entry@{generate\_\-AL\_\-entry}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} generate\_\-AL\_\-entry ({\bf String} {\em dilid}, bool {\em ishighestpriority} = {\bf false})}\label{dil2al_8hh_a284}




Definition at line 28 of file alcomp.cc.

References String::after(), String::at(), String::before(), EOUT, String::gsub(), String::index(), String::length(), read\_\-file\_\-into\_\-String(), and RELLISTSDIR.

Referenced by dil2al\_\-commands().



\footnotesize\begin{verbatim}28                                                                        {
29   // Note: This is currently called only when dil2al is run with the
30   // command line argument -a. This function generates an entry for manual
31   // modification of an AL.
32         String idstr;
33         if (!read_file_into_String(idfile,idstr)) return String("");
34         int idindex;
35         idindex = idstr.index(BigRegex("[<]TD[^>]*[>][  ]*[<]A[         ]+[^>]*[Nn][Aa][Mm][Ee][        ]*=[    ]*\""+dilid));
36         if (idindex<0) {
37                 EOUT << "dil2al: Unable to find " << dilid << " in " << idfile << " in generate_AL_entry()\n";
38                 return String("");
39         }
40         String topdil;
41         topdil = idstr.at(BigRegex("[<]TD[^>]*[>][      ]*[<]A[         ]+[^>]*[Hh][Rr][Ee][Ff][        ]*=[    ]*\"[^\"]+"+dilid),idindex+1);
42         if (topdil=="") {
43                 EOUT << "dil2al: Unable to find full reference to " << dilid << " in generate_AL_entry()\n";
44                 return String("");
45         }
46         topdil = topdil.after(BigRegex("[<]TD[^>]*[>][  ]*[<]A[         ]+[^>]*[Hh][Rr][Ee][Ff][        ]*=[    ]*\""));
47         String topdilfile = topdil;
48         topdil = basedir+RELLISTSDIR+topdilfile.before("#");
49         if (!read_file_into_String(topdil,idstr)) return String("");
50         idindex = idstr.index(BigRegex("[<]TD[^>]*[>][  ]*[<]A[         ]+[^>]*[Nn][Aa][Mm][Ee][        ]*=[    ]*\""+dilid));
51         if (idindex<0) {
52                 EOUT << "dil2al: Unable to find " << dilid << " in " << topdil << " in generate_AL_entry()\n";
53                 return String("");
54         }
55         idindex = idstr.index(BigRegex("[<]TR[^>]*[>]"),idindex+1);
56         if (idindex<0) return String("");
57         idindex = idstr.index(BigRegex("[<]TD[^>]*[>]"),idindex+1);
58         if (idindex<0) return String("");
59         topdil = idstr.at(BigRegex("[<]TD[^>]*[>]...[^\n]*"),idindex);
60         if (topdil=="") return String("");
61         topdil = topdil.after(BigRegex("[<]TD[^>]*[>]"));
62         topdil.gsub(BigRegex("[<][^>]+[>]"),"");
63         if (topdil.length()>100) {
64                 topdil = topdil.before(100);
65                 topdil = topdil.before(BigRegex("[      \n.,;:]"),-1);
66                 topdil += "...";
67         }
68         idstr = "<TR";
69         if (ishighestpriority) idstr += " BGCOLOR=\"#3F5F00\"";
70         idstr += "><TD>[<A HREF=\""+topdilfile+"\"><B>"+dilid+"</B></A>][<A HREF=\"file:///cgi-bin/dil2al?dil2al=MEI&DILID="+dilid+"\">edit</A>]\n"+topdil;
71         return idstr;
72 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!generate_AL_full_entry@{generate\_\-AL\_\-full\_\-entry}}
\index{generate_AL_full_entry@{generate\_\-AL\_\-full\_\-entry}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} generate\_\-AL\_\-full\_\-entry ({\bf String} {\em dilid}, int {\em chunkfreq})}\label{dil2al_8hh_a283}




Definition at line 23 of file alcomp.cc.

References res.

Referenced by dil2al\_\-commands().



\footnotesize\begin{verbatim}23                                                            {
24         String res("<LI><A HREF=\"detailed-items-by-ID.html#"+dilid+"\">"+dilid+"</A> ("+dec(chunkfreq)+")\n");
25         return res;
26 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!generate_Figures_Directory_entry@{generate\_\-Figures\_\-Directory\_\-entry}}
\index{generate_Figures_Directory_entry@{generate\_\-Figures\_\-Directory\_\-entry}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} generate\_\-Figures\_\-Directory\_\-entry ({\bf String} {\em figid})}\label{dil2al_8hh_a347}




Definition at line 8 of file ppfilter.cc.

References String::after(), String::before(), String::del(), relurl(), and res.

Referenced by dil2al\_\-commands().



\footnotesize\begin{verbatim}8                                                       {
9         String figlabel, figtype,res;
10         figlabel = figid.before('.',-1);
11         figtype = figid.after('.',-1);
12         figid = figlabel; figlabel.del(BigRegex("^.*/"));
13         figid = relurl(figuresdirectory,figid);
14         res = "<LI><!-- @Begin FIGURE DATA: [fig:"+figlabel+"] "+figid+".eps@ -->\n";
15         res += "[<!-- @Figure label@ -->fig:"+figlabel+"]<BR>\n";
16         if (figtype!="eps") res += "(*)";
17         res += "Figure: <A HREF=\""+figid+".eps\"><!-- @Figure file@ -->"+figid+".eps</A><BR>\n";
18         if (figtype!="fig") res += "(*)";
19         res += "Source: <A HREF=\""+figid+".fig\"><!-- @Figure source@ -->"+figid+".fig</A><BR>\n";
20         if (figtype!="ps") res += "(*)";
21         res += "PostScript: <A HREF=\""+figid+".ps\"><!-- @Figure PostScript@ -->"+figid+".ps</A><BR>\n";
22         res += "Caption: <!-- @Figure caption@ --><BR>\nPSfrag conversions: <PRE><!-- @Begin Figure psconversions@ -->\n<!-- @End Figure psconversions@ --></PRE>\n";
23         res += "Created with:\n<!-- @End FIGURE DATA@ -->\n\n";
24         return res;
25 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!generate_modify_element_FORM_interface@{generate\_\-modify\_\-element\_\-FORM\_\-interface}}
\index{generate_modify_element_FORM_interface@{generate\_\-modify\_\-element\_\-FORM\_\-interface}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool generate\_\-modify\_\-element\_\-FORM\_\-interface ({\bf String\-List} $\ast$ {\em qlist} = NULL)}\label{dil2al_8hh_a302}




Definition at line 705 of file diladmin.cc.

References DIL\_\-entry::elbyid(), generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-entry\_\-content(), generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-entry\_\-parameters(), Detailed\_\-Items\_\-List::Get\_\-All\_\-DIL\_\-ID\_\-File\_\-Parameters(), Detailed\_\-Items\_\-List::Get\_\-All\_\-Topical\_\-DIL\_\-Parameters(), PLLRoot$<$ DIL\_\-entry $>$::head(), Detailed\_\-Items\_\-List::list, DIL\_\-ID::valid(), and VOUT.

Referenced by Detect\_\-Form\_\-Input().



\footnotesize\begin{verbatim}705                                                                        {
706 // generates an HTML FORM interface that enables modification of elements
707 // of a DIL entry. The DIL entry is given by a DILID variable in qlist.
708   int dilididx = qlist->contains("DILID");
709   if (dilididx<0) return false;
710   DIL_ID dilid((*qlist)[dilididx].after('='));
711   if (!dilid.valid()) return false;
712   if (calledbyforminput) VOUT << "</PRE><!-- "; // clean up HTML output (dil2al processing output can still be inspected by looking at the HTML source)
713   Detailed_Items_List dilist;
714   if (dilist.Get_All_DIL_ID_File_Parameters()<0) return false;
715   if (!dilist.list.head()) return false;
716   if (dilist.Get_All_Topical_DIL_Parameters(true)<0) return false;
717   DIL_entry * de = dilist.list.head()->elbyid(dilid);
718   if (!de) return false;
719   VOUT << "<!-- comment out process output -->\n";
720   generate_modify_element_FORM_interface_DIL_entry_content(de);
721   VOUT << "<P>&nbsp;<P>\n<HR>\n<P>\n";
722   generate_modify_element_FORM_interface_DIL_entry_parameters(de); //,dilist);
723   VOUT << "<P>&nbsp;<P>\n";
724   return true;
725 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!generate_tag@{generate\_\-tag}}
\index{generate_tag@{generate\_\-tag}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} generate\_\-tag ({\bf String} \& {\em tagid})}\label{dil2al_8hh_a210}




Definition at line 357 of file dil2al.cc.

References res.

Referenced by Assess\_\-Paper\_\-Correction\_\-Time(), dil2al\_\-commands(), and send\_\-dil\_\-to\_\-DIL().



\footnotesize\begin{verbatim}357                                     {
358         const int NUMTAGS = 8, TAGIDSSIZE= 6, TAGSTRSIZE = 300;
359         const char tagids[NUMTAGS][TAGIDSSIZE] = {"CR","GUIDE","LSTY","CHL","CHM","OUTL","EMBH","DESUP"};
360         const char tagstr[NUMTAGS][TAGSTRSIZE] = {"<A NAME=\"TAGname\"><!-- @CRef@ -->TAGanchor</A>",
361                                                                                 "<A NAME=\"TAGname\"><!-- @guideline@ -->TAGanchor</A>",
362                                                                                 "% @LaTeX STYLE REQUIRED: <A HREF=\"relstylepath\">style.sty</A>@",
363                                                                                 "% @Begin CHECKLIST: LISTcaption@\n\\checklist{LISTcaption}{\n% --><TABLE BORDER=\"1\"><CAPTION><B>LISTcaption</B></CAPTION><!--\n}\n% @End CHECKLIST: LISTcaption@ --></TABLE><!--",
364                                                                                 "% @Begin CHECKMARK: MARKtype MARKanchor@\n\\checkmark{0}{MARKtext} (MARKanchor)\\\\\n% --><TR><TD><INPUT TYPE=checkbox NAME=\"MARKtype\" VALUE=\"MARKanchor\"> MARKtext (<A HREF=\"relmarkpath\">MARKanchor</A>)</TD></TR><!--\n% @End CHECKMARK: MARKtype MARKanchor@",
365                                                                                 "% @Begin OUTLINE: Context@\n\\outlinenote{OutlineData}\n% @End OUTLINE: Context@",
366                                                                                 "% @EMBEDDED HTML: HTMLtext@",
367                                                                                 "@DIL Entry Superior: <A HREF=\"#SUPid\">SUPid</A> (SIrel,SIuimp,SIimp,SItd,SIurg,SIpri)@"};
368         if (tagid=="") {
369                 String res;
370                 for (int i = 0; i<NUMTAGS; i++) res += String(tagids[i])+" => "+String(tagstr[i])+'\n';
371                 return res;
372         }
373         for (int i=0; i<NUMTAGS; i++) if (tagid==tagids[i]) return String(tagstr[i]);
374         return String("");
375 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!generate_TL_chunk_header@{generate\_\-TL\_\-chunk\_\-header}}
\index{generate_TL_chunk_header@{generate\_\-TL\_\-chunk\_\-header}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} generate\_\-TL\_\-chunk\_\-header ({\bf String} {\em nametag}, {\bf String} {\em newalref}, {\bf String} {\em altitle}, {\bf String} {\em alhead}, {\bf String} {\em newdilref}, {\bf String} {\em diltitle}, {\bf String} {\em dilhead}, int {\em generateparts} = 0)}\label{dil2al_8hh_a318}




Definition at line 52 of file tladmin.cc.

References String::after().

Referenced by add\_\-TL\_\-chunk\_\-or\_\-entry(), and initialize\_\-new\_\-DIL\_\-TL().



\footnotesize\begin{verbatim}52                                                                                                                                                                           {
53 // generatparts = 0 both parts, -1 begin part, 1 end part
54 #ifdef DEBUG
55         cout << "Generating TL chunk header with tag = " << nametag << ", AL = " << newalref << ", DIL entry = " << newdilref << '\n';
56 #endif
57         String chunkheader;
58         if (generateparts<=0) {
59                 chunkheader = "<!-- chunk Begin --><TR><TD><FONT COLOR=\"#FFFFFF\"><A NAME=\""+nametag+"\"><B>"+nametag+"</B></A>\n<!-- chunk AL --><A HREF=\""+newalref+"\">"+altitle+"</A> (";
60                 if (alhead!="") chunkheader += "<A HREF=\""+alhead+"\">previous</A>/next)\n<!-- chunk Context -->";
61                 else chunkheader += "previous/next)\n<!-- chunk Context -->";
62                 if (newdilref[0]=='!') chunkheader += newdilref.after("!")+" (";
63                 else chunkheader += "<A HREF=\""+newdilref+"\">"+diltitle+" "+newdilref.after("#")+"</A> (";
64                 if (dilhead!="") chunkheader +=  "<A HREF=\""+dilhead+"\">previous</A>/next)</FONT>\n<P>\n\n";
65                 else chunkheader += "previous/next)</FONT>\n<P>\n\n";
66         }
67         if (generateparts>=0) {
68                 chunkheader += "<!-- chunk End --></TD></TR>\n\n";
69         }
70         return chunkheader;             
71 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!generate_TL_entry_header@{generate\_\-TL\_\-entry\_\-header}}
\index{generate_TL_entry_header@{generate\_\-TL\_\-entry\_\-header}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} generate\_\-TL\_\-entry\_\-header ({\bf String} {\em nametag}, {\bf String} {\em newalref}, {\bf String} {\em altitle}, {\bf String} {\em alhead}, {\bf String} {\em newdilref}, {\bf String} {\em diltitle}, {\bf String} {\em dilhead})}\label{dil2al_8hh_a319}




Definition at line 73 of file tladmin.cc.

References String::after().

Referenced by add\_\-TL\_\-chunk\_\-or\_\-entry(), and initialize\_\-new\_\-DIL\_\-TL().



\footnotesize\begin{verbatim}73                                                                                                                                                    {
74         String entryheader;
75         entryheader = "<!-- entry Begin --><FONT COLOR=\"#FFFFFF\">[<A NAME=\""+nametag+"\"><B>"+nametag.after(".")+"</B></A>";
76         if ((newalref[0]!='*') || (newdilref[0]!='*')) {
77                 entryheader += " -\n<!-- entry AL -->";
78                 if (newalref[0]!='*') {
79                         entryheader += "<A HREF=\""+newalref+"\">"+altitle+"</A> (";
80                         if (alhead!="") entryheader += "<A HREF=\""+alhead+"\">previous</A>/next)\n<!-- entry Context -->";
81                         else entryheader += "previous/next)\n<!-- entry Context -->";
82                 } else entryheader += "\n<!-- entry Context -->";
83                 if (newdilref[0]!='*') {
84                         if (newdilref[0]=='!') entryheader += newdilref.after("!")+" (";
85                         else entryheader += "<A HREF=\""+newdilref+"\">"+diltitle+" "+newdilref.after("#")+"</A> (";
86                         if (dilhead!="") entryheader +=  "<A HREF=\""+dilhead+"\">previous</A>/next)]</FONT>\n<BR>\n";
87                         else entryheader += "previous/next)]</FONT>\n<BR>\n";
88                 } else entryheader += "]</FONT>\n<BR>\n";
89         } else entryheader += "]</FONT>\n"; //*** add "<BR>\n" here?
90         return entryheader;
91 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!generate_TL_keyword_index@{generate\_\-TL\_\-keyword\_\-index}}
\index{generate_TL_keyword_index@{generate\_\-TL\_\-keyword\_\-index}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool generate\_\-TL\_\-keyword\_\-index ()}\label{dil2al_8hh_a343}




Definition at line 9 of file tlfilter.cc.



\footnotesize\begin{verbatim}9                                  {
10 // keywords can be created with a special tag that you insert anywhere
11 // in a task log entry, or anywhere in HTML or TeX documents or source code or
12 // plain text, plus in the dil2al configuration file
13 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!get_active_DIL_IDs@{get\_\-active\_\-DIL\_\-IDs}}
\index{get_active_DIL_IDs@{get\_\-active\_\-DIL\_\-IDs}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool get\_\-active\_\-DIL\_\-IDs ({\bf String\-List} \& {\em idfileids}, unsigned long $\ast$ {\em resnumidfileids} = NULL)}\label{dil2al_8hh_a297}




Definition at line 231 of file diladmin.cc.

References EOUT, find\_\-in\_\-line(), find\_\-line(), pattern\_\-in\_\-line(), and res.

Referenced by add\_\-new\_\-to\_\-DIL(), and get\_\-new\_\-DIL\_\-ID().



\footnotesize\begin{verbatim}231                                                                                         {
232 // obtains all DIL IDs from the DIL-by-ID file
233 // optionally adds the number of IDs found to resnumidfileids
234         const int LLEN = 10240;
235         char lbuf[LLEN];
236         String dilid[2];
237         unsigned long numidfileids = 0;
238         int res;
239         ifstream df(idfile);
240         if (df) {
241                 if (!find_line(&df,"[<]!-- *dil2al: *DIL ID *begin *--[>]",lbuf,LLEN)) {
242                         EOUT << "dil2al: Tag <!-- dil2al: DIL ID begin --> not found in " << idfile << "in get_active_DIL_IDs()\n";
243                         return false;
244                 }
245                 do {
246                         if ((res=find_in_line(&df,"[<]TR[>]",0,NULL,"[<]!-- *dil2al: *DIL ID *end *--[>]",lbuf,LLEN))==1) {
247                                 res = find_in_line(&df,"[<]TD[^>]*[>][<]A +NAME=\"([.0-9]+)\"",2,dilid,"[<]TR[>]|[<]!-- *dil2al: *DIL ID *end *--[>]",lbuf,LLEN);
248                                 if (res<-1) return false;
249                                 idfileids[numidfileids++] = dilid[1];
250                         } else {
251                                 if (res>=-1) res=-1;
252                                 else return false;
253                         }
254                 } while ((res>0) || ((res==0) && (!pattern_in_line("[<]!-- *dil2al: *DIL ID *end *--[>]",lbuf))));
255                 df.close();
256         } else {
257                 EOUT << "dil2al: Unable to open DIL ID file " << idfile << "in get_active_DIL_IDs()\n";
258                 return false;
259         }
260         if (resnumidfileids) (*resnumidfileids) += numidfileids;
261         return true;
262 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!get_AL_entry@{get\_\-AL\_\-entry}}
\index{get_AL_entry@{get\_\-AL\_\-entry}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int get\_\-AL\_\-entry ({\bf String} \& {\em alstr}, int {\em alpos}, {\bf String} \& {\em rowcontent}, int \& {\em rowstart}, int \& {\em rowend})}\label{dil2al_8hh_a293}




Definition at line 1246 of file alcomp.cc.

References String::contains(), HTML\_\-get\_\-table\_\-cell(), and HTML\_\-get\_\-table\_\-row().

Referenced by remove\_\-AL\_\-TC().



\footnotesize\begin{verbatim}1246                                                                                                {
1247 // gets an entry from an AL table and returns whether that row
1248 // is a Day (0) or a TC (1), returns -1 if row cannot be obtained
1249         String params, cellcontent;
1250         if ((rowend=HTML_get_table_row(alstr,alpos,params,rowcontent,&rowstart))<0) return -1;
1251         if (HTML_get_table_cell(rowcontent,0,params,cellcontent)<0) return -1;
1252         if (cellcontent.contains(BigRegex("[<]!--[      ]+@select_TL_DIL_refs:[         ]+SKIP ROW@[    ]+--[>][^(]*Day"))) return 0;
1253         return 1;
1254 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!get_double@{get\_\-double}}
\index{get_double@{get\_\-double}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}double get\_\-double ({\bf String} {\em valstr}, double {\em defval} = 0.0, bool $\ast$ {\em gotdouble} = NULL)}\label{dil2al_8hh_a281}




Definition at line 2685 of file utilities.cc.

References String::empty(), and String::matches().

Referenced by modify\_\-element\_\-through\_\-FORM\_\-interface(), and modify\_\-element\_\-through\_\-FORM\_\-interface\_\-DIL\_\-Superiors().



\footnotesize\begin{verbatim}2685                                                                                {
2686   // attempts to extract a double variable value from a string
2687   // if no double variable value is found then the value defval is assigned
2688   bool gotdoubledummy;
2689   if (!gotdouble) gotdouble = &gotdoubledummy;
2690   if (valstr.empty()) { (*gotdouble) = false; return defval; }
2691   if (((*gotdouble)=valstr.matches(BRXdouble))==true) return atof((const char *) valstr);
2692   else return defval;
2693 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!get_figure_data@{get\_\-figure\_\-data}}
\index{get_figure_data@{get\_\-figure\_\-data}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void get\_\-figure\_\-data ({\bf String} \& {\em figfile}, {\bf String} \& {\em figlabel}, {\bf String} \& {\em figcaption}, {\bf String} \& {\em figintext}, {\bf String} \& {\em psconversions}, {\bf String\-List} \& {\em srcf}, {\bf String\-List} \& {\em srcfname}, int \& {\em srcfnum})}\label{dil2al_8hh_a348}




Definition at line 27 of file ppfilter.cc.



\footnotesize\begin{verbatim}27                                                                                                                                                                                     {
28 // obtains missing figure data from the Figures Directory
29 // this function can be called with data in either figfile or figlabel
30         const BigRegex figintextrx("%[  ]*@Begin INTEXT@[ \t\n]*\\(.*\\)%[      ]*@End INTEXT@");
31         int srcidx;
32         if ((srcidx = get_file_in_list(figuresdirectory,srcf,srcfname,srcfnum))<0)
33                 EOUT << "dil2al: Some figure data may be missing in get_figure_data(), continuing as is\n";
34         else {
35                 // find figure data
36                 String findid;
37                 if (!figfile.empty()) findid = relurl(figuresdirectory,figfile);
38                 else if (!figlabel.empty()) findid = figlabel;
39                 else EOUT << "dil2al: No figure file or label, some figure data may be missing in get_figure_data(), continuing as is\n";
40                 if (!findid.empty()) {
41                         int figididx;
42                         if ((figididx = srcf[srcidx].index(BigRegex("[<]!--[    ]@Begin FIGURE DATA:[^@]*"+RX_Search_Safe(findid)+"[^@]*@[      ]*--[>]")))<0) {
43                                 EOUT << "dil2al: Figure " << findid << " not found in get_figure_data(), continuing as is\n";
44                                 if (!figfile.empty()) figfile = findid;
45                                 if (figlabel.empty()) {
46                                         figlabel = figfile.after('/',-1);
47                                         if (figlabel.empty()) figlabel = figfile;
48                                         if (figlabel.index('.',-1)>=0) figlabel = figlabel.before('.',-1);
49                                         figlabel.prepend("fig:");
50                                 }
51                         } else {
52                                 int figidend;
53                                 if ((figidend = srcf[srcidx].index(BigRegex("[<]!--[    ]*@End FIGURE DATA@[    ]*--[>]"),figididx))<0)
54                                         EOUT << "dil2al: Figure " << findid << " End marker missing in get_figure_data(), continuing as is\n";
55                                 else {
56                                         String figdata = srcf[srcidx].at(figididx,figidend-figididx);
57                                         // get figure label
58                                         figlabel = figdata.at(BigRegex("[<]!--[         ]*@Figure label@[       ]*--[>][        ]*[^]<  \n]+"));
59                                         figlabel = figlabel.after(BigRegex("[<]!--[     ]*@Figure label@[       ]*--[>][        ]*"));
60                                         // get figure file
61                                         figfile = figdata.at(BigRegex("[<]!--[  ]*@Figure file@[        ]*--[>][        ]*[^<   \n]+"));
62                                         figfile = figfile.after(BigRegex("[<]!--[       ]*@Figure file@[        ]*--[>][        ]*"));
63                                         int fci = figdata.index(BigRegex("[<]!--[       ]*@Figure caption@[     ]*--[>][        ]*"),String::SEARCH_END);
64                                         // get figure caption
65                                         figcaption = ""; figintext = "";
66                                         if (fci<0) EOUT << "dil2al: Figure " << findid << " ``@Figure caption@'' marker missing in get_figure_data(), continuing as is\n";
67                                         else {
68                                                 int fce = figdata.index(BigRegex("[<][Bb][Rr][>][ \t\n]*PSfrag"),fci);
69                                                 if (fce<0) EOUT << "dil2al: Figure " << findid << " ``<BR>\\nPSfrag'' caption end code missing in get_figure_data(), continuing as is\n";
70                                                 else {
71                                                         figcaption = figdata.at(fci,fce-fci);
72                                                         if (figcaption.index(figintextrx)>=0) { // identify ``INTEXT'' figure descriptions
73                                                                 figintext = "% @Begin INTEXT@\n" + figcaption.sub(figintextrx,1) + "% @End INTEXT@\n"; // place new markers to ensure line ends
74                                                                 fci = figintextrx.subpos(0); fce = figintextrx.subpos(0)+figintextrx.sublen(0);
75                                                                 if (fci>0) if (figcaption.elem(fci-1)=='\n') fci--;
76                                                                 if (fce<figcaption.length()) if (figcaption.elem(fce)=='\n') fce++;
77                                                                 figcaption.del(fci,fce-fci);
78                                                         }
79                                                         // remove troublesome characters from figure caption (cannot use the convert_item_content_to_TeX() function,
80                                                         // since content is already assumed to be in TeX format with codes such as $math-stuff$
81                                                         if (figcaption.gsub(BigRegex("\\([^\\]\\)[%<>]"),"_1X",'_')>0) if (verbose) VOUT << "TeX Correction: Changed special characters in figure caption to `X'\n";
82                                                         if (figcaption.gsub(BigRegex("^[%<>]"),"X")>0) if (verbose) VOUT << "TeX Correction: Changed special characters in figure caption to `X'\n";
83                                                 }
84                                         }
85                                         // get PS conversions
86                                         int pscidx;
87                                         if ((pscidx = figdata.index(BigRegex("[<]!--[   ]*@Begin Figure psconversions@[         ]*--[>][        ]*"),String::SEARCH_END))>=0) {
88                                                 int pscend;
89                                                 if ((pscend = figdata.index(BigRegex("[<]!--[   ]*@End Figure psconversions@[   ]*--[>]"),pscidx))>=0)
90                                                         psconversions = figdata.at(pscidx,pscend-pscidx);
91                                                         if (psconversions=="\n") psconversions = "";
92                                         }
93                                 }
94                         }
95                 }
96         }
97         if (figfile.empty()) figfile = homedir+"doc/tex/common-eps/placeholder.eps";
98         if (figlabel.empty()) figlabel = "fig:unknown";
99         if (figcaption.empty()) figcaption = "\\relax";
100         if (psconversions.empty()) psconversions = "\\relax";
101 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!get_file_in_list@{get\_\-file\_\-in\_\-list}}
\index{get_file_in_list@{get\_\-file\_\-in\_\-list}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int get\_\-file\_\-in\_\-list ({\bf String} \& {\em fname}, {\bf String\-List} \& {\em srcf}, {\bf String\-List} \& {\em srcfname}, int \& {\em srcfnum})}\label{dil2al_8hh_a208}




Definition at line 6 of file ppfilter.pre-blank.cc.

References EOUT, String\-List::iselement(), and read\_\-file\_\-into\_\-String().

Referenced by extract\_\-hierarchy\_\-depth\_\-decrease\_\-to\_\-paper(), extract\_\-hierarchy\_\-depth\_\-increase\_\-to\_\-paper(), extract\_\-recursively(), Text\_\-File\_\-Buffers::File\-Index(), Detailed\_\-Items\_\-List::Get\_\-All\_\-DIL\_\-ID\_\-File\_\-Parameters(), Detailed\_\-Items\_\-List::Get\_\-All\_\-Topical\_\-DIL\_\-Parameters(), get\_\-figure\_\-data(), and update\_\-DIL\_\-entry\_\-elements().



\footnotesize\begin{verbatim}6                                                                                              {
7 // load a file if it is not already in a list of file-strings
8         int srcidx;
9         if ((srcidx = srcfname.iselement(fname))<0) {
10                 if (!read_file_into_String(fname,srcf[srcfnum])) {
11                         EOUT << "dil2al: Unable to load source document " << fname << " in get_file_in_list()\n";
12                         return -1;
13                 }
14                 srcfname[srcfnum] = fname;
15                 srcidx = srcfnum;
16                 srcfnum++;
17         }
18         return srcidx;
19 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!get_most_recent_TC_AL@{get\_\-most\_\-recent\_\-TC\_\-AL}}
\index{get_most_recent_TC_AL@{get\_\-most\_\-recent\_\-TC\_\-AL}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} get\_\-most\_\-recent\_\-TC\_\-AL ({\bf String} \& {\em tl})}\label{dil2al_8hh_a320}




Definition at line 96 of file tladmin.cc.

References String::at(), String::del(), String::prepend(), and RELLISTSDIR.

Referenced by select\_\-TL\_\-AL\_\-refs(), select\_\-TL\_\-DIL\_\-refs(), and stop\_\-TL\_\-chunk().



\footnotesize\begin{verbatim}96                                           {
97 // returns the AL reference of the most recent task chunk
98         String curAL;
99         curAL = tl.at(BigRegex("[<]!-- chunk AL [^(]*"),-1);
100         curAL.del(BigRegex("[<]!-- chunk AL -->[^\"]*\""));
101         curAL.del(BigRegex("\".*"));
102         curAL.prepend(basedir+RELLISTSDIR);
103         return curAL;
104 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!get_most_recent_TC_DE@{get\_\-most\_\-recent\_\-TC\_\-DE}}
\index{get_most_recent_TC_DE@{get\_\-most\_\-recent\_\-TC\_\-DE}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} get\_\-most\_\-recent\_\-TC\_\-DE ({\bf String} \& {\em tl})}\label{dil2al_8hh_a321}




Definition at line 106 of file tladmin.cc.

References String::at(), String::del(), and String::gsub().

Referenced by select\_\-TL\_\-DIL\_\-refs(), and stop\_\-TL\_\-chunk().



\footnotesize\begin{verbatim}106                                           {
107 // returns the DIL entry reference of the most recent task chunk
108         String curDE;
109         curDE = tl.at(BigRegex("[<]!-- chunk Context --[>][^\n][^(]*("),-1);
110         curDE.del(BigRegex("[<]!-- chunk Context --[>]"));
111         curDE.del(BigRegex("[<]A [^>]*[Hh][Rr][Ee][Ff][         ]*=[^\"]*\""));
112         curDE.gsub("\">",":");
113         curDE.del(BigRegex("\\([<][^>]*[>]\\)?[         ]*("));
114         return curDE;
115 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!get_new_DIL_ID@{get\_\-new\_\-DIL\_\-ID}}
\index{get_new_DIL_ID@{get\_\-new\_\-DIL\_\-ID}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} get\_\-new\_\-DIL\_\-ID ()}\label{dil2al_8hh_a301}




Definition at line 553 of file diladmin.cc.

References EOUT, get\_\-active\_\-DIL\_\-IDs(), String\-List::get\_\-Next(), and time\_\-stamp().

Referenced by dil2al\_\-commands(), and initialize\_\-new\_\-DIL\_\-TL().



\footnotesize\begin{verbatim}553                         {
554 // generates a new DIL ID based on the current time
555 // and the next single decimal available with that
556 // time stamp (in the unlikely event that there are
557 // already 9 items with that time stamp, it will
558 // try an ID based on another time stamp)
559         // obtain all existing DIL IDs
560         StringList idfileids;
561         unsigned long numidfileids = 0;
562         if (!get_active_DIL_IDs(idfileids,&numidfileids)) {
563                 EOUT << "dil2al: Unable to obtain DIL IDs from " << idfile << '\n';
564                 return "";
565         }
566         // generate a new time stamped DIL ID
567         String newdilid;
568         for (int loopescape=60; (loopescape); loopescape--) { 
569                 String idtimestamp = time_stamp("%Y%m%d%H%M%S");
570                 // try ID decimal indices
571                 for (char decimalindex = '1'; decimalindex <= '9'; decimalindex++) {
572                         newdilid = idtimestamp + '.' + decimalindex;
573                         for (StringList * idfileentry = &idfileids; (idfileentry); idfileentry=idfileentry->get_Next()) {
574                                 if (newdilid==(*idfileentry)[0]) {
575                                         newdilid="";
576                                         break;
577                                 }
578                         }
579                         if (newdilid!="") break;
580                 }
581                 if (newdilid!="") break;
582                 if (loopescape>1) {
583 // #ifdef SYSV
584 //                      poll((struct poll *) 0, (size_t) 0, 1000); /* 1000 msec */
585 // #else
586                         sleep(1); /* usleep(1000000L); 1000000 microsec */
587 // #endif
588                 }
589         }
590         return newdilid;
591 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!get_Paper_Plans_Section_IDs@{get\_\-Paper\_\-Plans\_\-Section\_\-IDs}}
\index{get_Paper_Plans_Section_IDs@{get\_\-Paper\_\-Plans\_\-Section\_\-IDs}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool get\_\-Paper\_\-Plans\_\-Section\_\-IDs ({\bf String\-List} \& {\em ppsectionids}, {\bf String\-List} \& {\em ppsectiontitles}, {\bf String\-List} \& {\em ppsectiontemplates})}\label{dil2al_8hh_a349}




Definition at line 103 of file ppfilter.cc.



\footnotesize\begin{verbatim}103                                                                                                                            {
104 /* obtain registered IDs of paper Sections as
105    listed in the
106    <A HREF="../../doc/html/lists/paper-plans.html#PST">
107    Paper Plans
108    </A> file */
109         String ppfstr;
110         if (!read_file_into_String(paperplansfile,ppfstr)) return false;
111         int pstidx;
112         if ((pstidx = ppfstr.index(BigRegex("[<]A[      ]+[Nn][Aa][Mm][Ee][     ]*=[    ]*\"PST\"")))<0) {
113                 EOUT << "dil2al: Unable to find Paper Section Titles in Paper Plans document in get_Paper_Plans_Section_IDs()\n";
114                 return false;
115         }
116         if ((pstidx = ppfstr.index("<UL>",pstidx))<0) {
117                 EOUT << "dil2al: Section IDs list not found in Paper Plans document in get_Paper_Plans_Section_IDs()\n";
118                 return false;
119         }
120         int pstend = ppfstr.index("</UL>",pstidx);
121         int pstnum = 0;
122         String pstid, psttitle, psttemplate;
123         while ((pstidx = ppfstr.index("<LI>",pstidx+1))>=0) {
124                 if ((unsigned int) pstidx < (unsigned int) pstend) {
125                         if ((pstid = ppfstr.at(BigRegex("[[]\\([<][^>]*[>]\\)?[^]]+"),pstidx))!="") {
126                                 pstid.del("["); pstid.gsub(BigRegex("[<][^>]*[>]"),""); pstid.gsub(BigRegex("[  ]+"),"");
127                                 if ((psttitle = ppfstr.at(BigRegex("[]][^\n]+"),pstidx))!="") {
128                                         psttitle = psttitle.after(BigRegex("[]][        ]*"));
129                                         psttemplate = psttitle.after(BigRegex("[<]A[    ]+[^>]*[Hh][Rr][Ee][Ff][        ]*=[    ]*\""));
130                                         psttemplate = psttemplate.before("\"");
131                                         if (psttemplate!="") psttemplate = absurl(paperplansfile,psttemplate);
132                                         psttitle.gsub(BigRegex("[<][^>]*[>]"),"");
133                                         psttitle.del(BigRegex("[        ]*$"));
134                                         psttitle.upcase();
135                                         ppsectionids[pstnum] = pstid;
136                                         ppsectiontitles[pstnum] = psttitle;
137                                         ppsectiontemplates[pstnum] = psttemplate;
138                                         pstnum++;
139                                 }
140                         }
141                 } else break;
142         }
143         return true;
144 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!Get_Target_Directory@{Get\_\-Target\_\-Directory}}
\index{Get_Target_Directory@{Get\_\-Target\_\-Directory}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}unsigned long Get\_\-Target\_\-Directory ({\bf String\-List} \& {\em targets}, unsigned long {\em i}, {\bf String} {\em dirpath})}\label{dil2al_8hh_a363}




Definition at line 470 of file search.cc.

References String::del(), EOUT, file\_\-is\_\-directory(), file\_\-is\_\-regular\_\-or\_\-symlink(), String::lastchar(), String::length(), String\-List::length(), and Directory\_\-Access::read().

Referenced by Get\_\-Target\_\-Regex(), and Target\_\-Access::make\_\-local\_\-copy\_\-of\_\-directory().



\footnotesize\begin{verbatim}470                                                                                           {
471         // add filenames from a directory to the list of targets
472         // returns the number of targets added
473         unsigned long num;
474         // get directory content
475         String t;
476         if (dirpath.lastchar()=='/') dirpath.del((int) (dirpath.length()-1),1);
477         Directory_Access da(dirpath);
478         num = da.read(t);
479         if (num<0) {
480                 EOUT << "dil2al: Unable to read directory " << dirpath << '\n';
481                 return 0;
482         }
483         t.del(0,1); // remove first separator character
484         StringList df(t,'/'); String f;
485         // add verified files to targets list and adjust num as needed
486         for (unsigned long j = 0; j<(df.length()-1); j++) {
487                 f = dirpath+'/'+df[j];
488                 if (file_is_regular_or_symlink(f)) {
489                         targets[i] = f;
490                         i++;
491                 } else if (followlinks>0) { // can enable recursive searching of directories
492                         if ((file_is_directory(f)) && (df[j]!=".") && (df[j]!="..")) {
493                                 targets[i] = f;
494                                 i++;
495                         } else num --;
496                 } else num--;
497         }
498         return num;
499 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!Get_Target_Regex@{Get\_\-Target\_\-Regex}}
\index{Get_Target_Regex@{Get\_\-Target\_\-Regex}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}unsigned long Get\_\-Target\_\-Regex ({\bf String\-List} \& {\em targets}, unsigned long {\em i}, {\bf String} {\em dirpath})}\label{dil2al_8hh_a364}




Definition at line 501 of file search.cc.

References String::before(), String::contains(), String::del(), EOUT, Get\_\-Target\_\-Directory(), String::length(), String\-List::length(), String::matches(), String::sub(), and Big\-Regex::subpos().

Referenced by search\_\-cmd().



\footnotesize\begin{verbatim}501                                                                                       {
502         // add filenames from a directory to the list of targets that match a regex
503         // returns the number of targets added
504         // the regex is provided as "@regex-pattern@" following the directory, '@' need not be escaped
505         StringList d;
506         BigRegex trx("@[^/]+@$");
507         // get regex
508         if (!dirpath.contains(trx)) {
509                 EOUT << "dil2al: No regex pattern in " << dirpath << " in Get_Target_Regex()\n";
510                 return 0;
511         }
512         String fileregex = dirpath.sub(trx,0); fileregex.del(0,1); fileregex.del((int) (fileregex.length()-1),1);
513         // get directory content
514         unsigned long num = Get_Target_Directory(d,0,dirpath.before(trx.subpos()));
515         // add files that match the regex to targets list and ajust num as needed
516         String filename; BigRegex frx(fileregex);
517         for (unsigned long j = 0; j<d.length(); j++) {
518                 filename = d[j].from(trx.subpos());
519                 if (filename.matches(frx)) {
520                         targets[i] = d[j];
521                         i++;
522                 } else num--;
523         }
524         return num;
525 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!get_TL_head@{get\_\-TL\_\-head}}
\index{get_TL_head@{get\_\-TL\_\-head}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} get\_\-TL\_\-head ()}\label{dil2al_8hh_a316}




Definition at line 6 of file tladmin.cc.

References EOUT, res, and VOUT.

Referenced by add\_\-TL\_\-chunk\_\-or\_\-entry(), add\_\-TL\_\-section(), chunk\_\-controller(), make\_\-note(), and process\_\-note().



\footnotesize\begin{verbatim}6                      {
7 // resolves the TL symbolic link to the TL head file
8         if (taskloghead!="") return taskloghead;
9         const int LLEN = 10240;
10         char lbuf[LLEN];
11         int res;
12         if ((res=readlink(tasklog,lbuf,LLEN))<0) {
13                 EOUT << "dil2al: Unable to read Task Log symbolic link\n" << tasklog << " in get_TL_head()\n";
14                 return String("");
15         } else {
16                 lbuf[res]='\0';
17                 if (lbuf[0]=='/') taskloghead=lbuf;
18                 else {
19                         taskloghead = tasklog;
20                         taskloghead.gsub(BigRegex("[^/]*$"),"");
21                         taskloghead += lbuf;
22                 }
23                 if (verbose) VOUT << "Task Log symbolic link resolved to " << taskloghead << '\n';
24                 return taskloghead;
25         }
26 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!get_topic_keywords@{get\_\-topic\_\-keywords}}
\index{get_topic_keywords@{get\_\-topic\_\-keywords}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int get\_\-topic\_\-keywords ()}\label{dil2al_8hh_a282}




Definition at line 6 of file alcomp.cc.

References EOUT, and find\_\-line().



\footnotesize\begin{verbatim}6                          {
7         const int LLEN = 10240;
8         char lbuf[LLEN];
9         ifstream dilfile;
10         for (int i=0; i<numDILs; i++) {
11                 dilfile.open(*(dil[i]));
12                 if (dilfile) {
13                         if (!find_line(&dilfile,"Topic Keywords",lbuf,LLEN)) {
14                                 EOUT << "dil2al: Missing topic keywords in " << *(dil[i]) << " in get_topic_keywords()\n";
15                                 return 0;
16                         }
17                         dilfile.close();
18                 }
19         }
20         return 1;
21 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!Get_Worked_Estimate@{Get\_\-Worked\_\-Estimate}}
\index{Get_Worked_Estimate@{Get\_\-Worked\_\-Estimate}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Get\_\-Worked\_\-Estimate ()}\label{dil2al_8hh_a290}




Definition at line 301 of file alcomp.cc.

References ACW\_\-ASK, ACW\_\-TIME, ACW\_\-TL, EOUT, and time\_\-stamp\_\-time\_\-of\_\-day().

Referenced by generate\_\-AL().



\footnotesize\begin{verbatim}301                            {
302 // update alworked (in seconds)
303         if (alworked<0) { // (alworked>=0) if given on command line
304                 time_t tod;
305                 switch (alcurdayworkedstrategy) {
306                         case ACW_TIME: // estimate according to current time
307                                 tod = time_stamp_time_of_day(curtime);
308                                 tod -= alworkdaystart;
309                                 if (tod<0) alworked = 0; else alworked = tod;
310                                 break;
311                         case ACW_TL: // *** obtain an estimate from task log entries
312                                 EOUT << "dil2al: ACW_TL option not yet implemented in Get_Worked_Estimate(), setting to 0\n";
313                                 alworked = 0;
314                                 break;
315                         case ACW_ASK: // *** ask for estimate
316                                 EOUT << "dil2al: ACW_ASK option not yet implemented in Get_Worked_Estimate(), setting to 0\n";
317                                 alworked = 0;
318                                 break;
319                         default: alworked = 0;
320                 }
321         }
322 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_get_href@{HTML\_\-get\_\-href}}
\index{HTML_get_href@{HTML\_\-get\_\-href}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int HTML\_\-get\_\-href ({\bf String} \& {\em htmlstr}, int {\em strloc}, {\bf String} \& {\em hrefurl}, {\bf String} \& {\em hreftext}, int $\ast$ {\em hrefstart} = NULL)}\label{dil2al_8hh_a257}




Definition at line 2483 of file utilities.cc.

References String::at(), EOUT, String::index(), Big\-Regex::match\_\-info(), and String::SEARCH\_\-END.

Referenced by generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-entry\_\-content(), Detailed\_\-Items\_\-List::Get\_\-All\_\-DIL\_\-ID\_\-File\_\-Parameters(), Plan\_\-entry\_\-content::Parse\_\-Entry\_\-Content(), remove\_\-AL\_\-TC(), select\_\-TL\_\-DIL\_\-refs(), and update\_\-main\_\-ALs().



\footnotesize\begin{verbatim}2483                                                                                                              {
2484 // *** warning, this function can't deal properly yet with HREFs that contain
2485 //     HTML font formatting commands (e.g. <B>) in the reference text!
2486         const BigRegex h("[<][Aa][      ]+[^>]*[Hh][Rr][Ee][Ff][        ]*=[    ]*\"\\([^\"]*\\)\"[^>]*[>]\\([^<]*\\)[<]/[Aa][  ]?[^>]*[>]");
2487         if ((strloc=htmlstr.index(h,String::SEARCH_END,strloc))>=0) {
2488                 int s,l;
2489                 if (hrefstart) {
2490                   if (!h.match_info(s,l,0)) return -1;
2491                   else *hrefstart = s;
2492                 }
2493                 if (!h.match_info(s,l,1)) return -1;
2494                 if (l==0) {
2495                         EOUT << "dil2al: Missing HREF URL at " << s << " in HTML_get_href()\n";
2496                         return -1;
2497                 }
2498                 hrefurl = htmlstr.at(s,l);
2499                 if (!h.match_info(s,l,2)) return -1;
2500                 if (l==0) EOUT << "dil2al: Warning - Invisible HREF anchor at " << s << " in HTML_get_href(), continuing\n";
2501                 hreftext = htmlstr.at(s,l);
2502         }
2503         return strloc;
2504 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_get_list@{HTML\_\-get\_\-list}}
\index{HTML_get_list@{HTML\_\-get\_\-list}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int HTML\_\-get\_\-list ({\bf String} \& {\em htmlstr}, int {\em strloc}, {\bf String} \& {\em listparams}, {\bf String} \& {\em listcontent}, int $\ast$ {\em liststart} = NULL)}\label{dil2al_8hh_a255}




Definition at line 2469 of file utilities.cc.

References HTML\_\-get\_\-tagged\_\-environment().

Referenced by Plan\_\-entry\_\-content::Parse\_\-Entry\_\-Content(), and update\_\-main\_\-ALs().



\footnotesize\begin{verbatim}2469                                                                                                                    {
2470         const BigRegex lm("[<][UuOo][Ll]");
2471         const BigRegex l("\\([<]/[UuOo][Ll]\\|[<]/[Tt][Aa][Bb][Ll][Ee]\\|[<]/[Bb][Oo][Dd][Yy]\\|[<]/[Hh][Tt][Mm][Ll]\\)");
2472         const BigRegex le("[<]/[UuOo][Ll][^>][>]"); 
2473         return HTML_get_tagged_environment(lm,l,le,htmlstr,strloc,listparams,listcontent,liststart);
2474 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_get_list_item@{HTML\_\-get\_\-list\_\-item}}
\index{HTML_get_list_item@{HTML\_\-get\_\-list\_\-item}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int HTML\_\-get\_\-list\_\-item ({\bf String} \& {\em htmlstr}, int {\em strloc}, {\bf String} \& {\em itemparams}, {\bf String} \& {\em itemcontent}, int $\ast$ {\em itemstart} = NULL)}\label{dil2al_8hh_a256}




Definition at line 2476 of file utilities.cc.

References HTML\_\-get\_\-tagged\_\-environment().

Referenced by Plan\_\-entry\_\-content::Parse\_\-Entry\_\-Content(), and update\_\-main\_\-ALs().



\footnotesize\begin{verbatim}2476                                                                                                                         {
2477         const BigRegex im("[<][Ll][Ii]");
2478         const BigRegex i("\\([<]/?[Ll][Ii]\\|[<]/[UuOo][Ll]\\|[<]/[Tt][Aa][Bb][Ll][Ee]\\|[<]/[Bb][Oo][Dd][Yy]\\|[<]/[Hh][Tt][Mm][Ll]\\)");
2479         const BigRegex ie("[<]/[Ll][Ii][^>][>]");
2480         return HTML_get_tagged_environment(im,i,ie,htmlstr,strloc,itemparams,itemcontent,itemstart);
2481 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_get_marker@{HTML\_\-get\_\-marker}}
\index{HTML_get_marker@{HTML\_\-get\_\-marker}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int HTML\_\-get\_\-marker ({\bf String} \& {\em htmlstr}, int {\em strloc}, {\bf String} \& {\em marker}, bool {\em locate} = {\bf true})}\label{dil2al_8hh_a250}




Definition at line 2411 of file utilities.cc.

References String::at(), String::index(), String::length(), and Big\-Regex::match\_\-info().

Referenced by HTML\_\-get\_\-tagged\_\-environment().



\footnotesize\begin{verbatim}2411                                                                                       {
2412         const BigRegex m("[<][^>]+[>]");
2413         // find start of marker
2414         if (locate) {
2415                 if ((strloc=htmlstr.index(m,strloc))<0) return -1;
2416                 // get marker
2417                 int s,l;
2418                 m.match_info(s,l,0);
2419                 marker = htmlstr.at(s,l);
2420                 return strloc+l;
2421         }
2422         // get marker
2423         marker = htmlstr.at(m,strloc); // assumes marker starts at strloc
2424         return strloc+marker.length();
2425 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_get_name@{HTML\_\-get\_\-name}}
\index{HTML_get_name@{HTML\_\-get\_\-name}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int HTML\_\-get\_\-name ({\bf String} \& {\em htmlstr}, int {\em strloc}, {\bf String} \& {\em nametag}, {\bf String} \& {\em nametext})}\label{dil2al_8hh_a258}




Definition at line 2506 of file utilities.cc.

References String::at(), EOUT, String::index(), Big\-Regex::match\_\-info(), and String::SEARCH\_\-END.

Referenced by Detailed\_\-Items\_\-List::Get\_\-All\_\-Topical\_\-DIL\_\-Parameters(), and update\_\-main\_\-ALs().



\footnotesize\begin{verbatim}2506                                                                                      {
2507         const BigRegex n("[<][Aa][      ]+[^>]*[Nn][Aa][Mm][Ee][        ]*=[    ]*\"\\([^\"]*\\)\"[^>]*[>]\\([^<]*\\)[<]/[Aa][  ]?[^>]*[>]");
2508         if ((strloc=htmlstr.index(n,String::SEARCH_END,strloc))>=0) {
2509                 int s,l;
2510                 if (!n.match_info(s,l,1)) return -1;
2511                 if (l==0) {
2512                         EOUT << "dil2al: Missing NAME tag at " << s << " in HTML_get_name()\n";
2513                         return -1;
2514                 }
2515                 nametag = htmlstr.at(s,l);
2516                 if (!n.match_info(s,l,2)) return -1;
2517                 if (l==0) EOUT << "dil2al: Warning - Invisible NAME anchor at " << s << " in HTML_get_name(), continuing\n";
2518                 nametext = htmlstr.at(s,l);
2519         }
2520         return strloc;
2521 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_get_table_cell@{HTML\_\-get\_\-table\_\-cell}}
\index{HTML_get_table_cell@{HTML\_\-get\_\-table\_\-cell}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int HTML\_\-get\_\-table\_\-cell ({\bf String} \& {\em htmlstr}, int {\em strloc}, {\bf String} \& {\em cellparams}, {\bf String} \& {\em cellcontent}, int $\ast$ {\em cellstart} = NULL)}\label{dil2al_8hh_a253}




Definition at line 2455 of file utilities.cc.

References HTML\_\-get\_\-tagged\_\-environment().

Referenced by Financial\_\-Note::get(), get\_\-AL\_\-entry(), Detailed\_\-Items\_\-List::Get\_\-All\_\-DIL\_\-ID\_\-File\_\-Parameters(), Detailed\_\-Items\_\-List::Get\_\-All\_\-Topical\_\-DIL\_\-Parameters(), select\_\-TL\_\-DIL\_\-refs(), and update\_\-DIL\_\-entry\_\-elements().



\footnotesize\begin{verbatim}2455                                                                                                                          {
2456         const BigRegex cm("[<][Tt][Dd]");
2457         const BigRegex c("\\([<]/?[Tt][DdRr]\\|[<]/[Tt][Aa][Bb][Ll][Ee]\\|[<]/[Bb][Oo][Dd][Yy]\\|[<]/[Hh][Tt][Mm][Ll]\\)");
2458         const BigRegex ce("[<]/[Tt][Dd][^>]*[>]");
2459         return HTML_get_tagged_environment(cm,c,ce,htmlstr,strloc,cellparams,cellcontent,cellstart);
2460 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_get_table_row@{HTML\_\-get\_\-table\_\-row}}
\index{HTML_get_table_row@{HTML\_\-get\_\-table\_\-row}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int HTML\_\-get\_\-table\_\-row ({\bf String} \& {\em htmlstr}, int {\em strloc}, {\bf String} \& {\em rowparams}, {\bf String} \& {\em rowcontent}, int $\ast$ {\em rowstart} = NULL)}\label{dil2al_8hh_a254}




Definition at line 2462 of file utilities.cc.

References HTML\_\-get\_\-tagged\_\-environment().

Referenced by Financial\_\-Note::get(), get\_\-AL\_\-entry(), Detailed\_\-Items\_\-List::Get\_\-All\_\-Topical\_\-DIL\_\-Parameters(), and Detailed\_\-Items\_\-List::Write\_\-to\_\-File().



\footnotesize\begin{verbatim}2462                                                                                                                      {
2463         const BigRegex rm("[<][Tt][Rr]");
2464         const BigRegex r("\\([<]/?[Tt][Rr]\\|[<]/[Tt][Aa][Bb][Ll][Ee]\\|[<]/[Bb][Oo][Dd][Yy]\\|[<]/[Hh][Tt][Mm][Ll]\\)");
2465         const BigRegex re("[<]/[Tt][Rr][^>][>]");
2466         return HTML_get_tagged_environment(rm,r,re,htmlstr,strloc,rowparams,rowcontent,rowstart);
2467 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_get_tagged_environment@{HTML\_\-get\_\-tagged\_\-environment}}
\index{HTML_get_tagged_environment@{HTML\_\-get\_\-tagged\_\-environment}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int HTML\_\-get\_\-tagged\_\-environment (const {\bf Big\-Regex} \& {\em begintag}, const {\bf Big\-Regex} \& {\em endmatch}, const {\bf Big\-Regex} \& {\em endtag}, {\bf String} \& {\em htmlstr}, int {\em strloc}, {\bf String} \& {\em envparams}, {\bf String} \& {\em envcontent}, int $\ast$ {\em envstart} = NULL)}\label{dil2al_8hh_a252}




Definition at line 2433 of file utilities.cc.

References String::at(), HTML\_\-get\_\-marker(), String::index(), String::length(), and String::SEARCH\_\-END.

Referenced by HTML\_\-get\_\-list(), HTML\_\-get\_\-list\_\-item(), HTML\_\-get\_\-table\_\-cell(), and HTML\_\-get\_\-table\_\-row().



\footnotesize\begin{verbatim}2433                                                                                                                                                                                                              {
2434 // searches for an environment beginning with a tag matching begintag,
2435 // determines the environment end according to possible matches in endmatch,
2436 // returns tag parameters in envparams, environment contents in envcontent,
2437 // optionally returns the start of the environment in envstart, and
2438 // returns the position directly after the environment and a potential
2439 // endtag
2440         // find start of environment
2441         if ((strloc=htmlstr.index(begintag,strloc))<0) return -1;
2442         if (envstart) (*envstart) = strloc;
2443         // get environment tag parameters
2444         if ((strloc=HTML_get_marker(htmlstr,strloc,envparams,false))<0) return -1;
2445         // get environment content
2446         int envend = htmlstr.index(endmatch,strloc);
2447         if (envend<0) envend = htmlstr.length();
2448         envcontent = htmlstr.at(strloc,envend-strloc);
2449         // skip possible end tag
2450         int envendtagend = htmlstr.index(endtag,String::SEARCH_END,envend);
2451         if (envendtagend>=0) envend = envendtagend;
2452         return envend;
2453 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_marker_arguments@{HTML\_\-marker\_\-arguments}}
\index{HTML_marker_arguments@{HTML\_\-marker\_\-arguments}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} HTML\_\-marker\_\-arguments ({\bf String} \& {\em marker})}\label{dil2al_8hh_a251}




Definition at line 2427 of file utilities.cc.

References String::before(), String::from(), String::length(), and res.

Referenced by Detailed\_\-Items\_\-List::Write\_\-to\_\-File().



\footnotesize\begin{verbatim}2427                                               {
2428         const BigRegex a("[     ]");
2429         String res = marker.from(a); if (res.length()>=1) res = res.before((int) res.length()-1);
2430         return res;
2431 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_put_form@{HTML\_\-put\_\-form}}
\index{HTML_put_form@{HTML\_\-put\_\-form}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} HTML\_\-put\_\-form ({\bf String} {\em formmethod}, {\bf String} {\em formaction}, {\bf String} {\em formcontent})}\label{dil2al_8hh_a269}




Definition at line 2593 of file utilities.cc.

Referenced by AL\_\-Passed\_\-Target\_\-Dates().



\footnotesize\begin{verbatim}2593                                                                                {
2594         return "<FORM METHOD="+formmethod+" ACTION=\""+formaction+"\">"+formcontent+"</FORM>";
2595 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_put_form_checkbox@{HTML\_\-put\_\-form\_\-checkbox}}
\index{HTML_put_form_checkbox@{HTML\_\-put\_\-form\_\-checkbox}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} HTML\_\-put\_\-form\_\-checkbox ({\bf String} {\em checkboxname}, {\bf String} {\em checkboxvalue}, {\bf String} {\em checkboxtext}, bool {\em checked} = {\bf false})}\label{dil2al_8hh_a274}




Definition at line 2617 of file utilities.cc.

References HTML\_\-put\_\-form\_\-input().

Referenced by AL\_\-Passed\_\-Target\_\-Dates(), generate\_\-AL(), and generate\_\-EPS\_\-cells().



\footnotesize\begin{verbatim}2617                                                                                                                     {
2618         String checkedstr;
2619         if (checked) checkedstr = "\" checked"; else checkedstr = "\"";
2620         return HTML_put_form_input("checkbox","name=\""+checkboxname+"\" value=\""+checkboxvalue+checkedstr)+' '+checkboxtext;
2621 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_put_form_input@{HTML\_\-put\_\-form\_\-input}}
\index{HTML_put_form_input@{HTML\_\-put\_\-form\_\-input}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} HTML\_\-put\_\-form\_\-input ({\bf String} {\em inputtype}, {\bf String} {\em inputargs})}\label{dil2al_8hh_a270}




Definition at line 2597 of file utilities.cc.

References String::length().

Referenced by AL\_\-Passed\_\-Target\_\-Dates(), HTML\_\-put\_\-form\_\-checkbox(), HTML\_\-put\_\-form\_\-radio(), HTML\_\-put\_\-form\_\-reset(), HTML\_\-put\_\-form\_\-submit(), and HTML\_\-put\_\-form\_\-text().



\footnotesize\begin{verbatim}2597                                                                {
2598         String inputstr("<INPUT type=\""+inputtype+'"');
2599         if (inputargs.length()>0) return inputstr+' '+inputargs+'>';
2600         else return inputstr+'>';
2601 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_put_form_radio@{HTML\_\-put\_\-form\_\-radio}}
\index{HTML_put_form_radio@{HTML\_\-put\_\-form\_\-radio}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} HTML\_\-put\_\-form\_\-radio ({\bf String} {\em radioname}, {\bf String} {\em radiovalue}, {\bf String} {\em radiotext}, bool {\em checked} = {\bf false})}\label{dil2al_8hh_a273}




Definition at line 2611 of file utilities.cc.

References HTML\_\-put\_\-form\_\-input().

Referenced by AL\_\-Passed\_\-Target\_\-Dates(), and generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-Superiors().



\footnotesize\begin{verbatim}2611                                                                                                         {
2612         String checkedstr;
2613         if (checked) checkedstr = "\" checked"; else checkedstr = "\"";
2614         return HTML_put_form_input("radio","name=\""+radioname+"\" value=\""+radiovalue+checkedstr)+' '+radiotext;
2615 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_put_form_reset@{HTML\_\-put\_\-form\_\-reset}}
\index{HTML_put_form_reset@{HTML\_\-put\_\-form\_\-reset}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} HTML\_\-put\_\-form\_\-reset ()}\label{dil2al_8hh_a272}




Definition at line 2607 of file utilities.cc.

References HTML\_\-put\_\-form\_\-input().

Referenced by AL\_\-Passed\_\-Target\_\-Dates().



\footnotesize\begin{verbatim}2607                              {
2608         return HTML_put_form_input("reset","");
2609 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_put_form_submit@{HTML\_\-put\_\-form\_\-submit}}
\index{HTML_put_form_submit@{HTML\_\-put\_\-form\_\-submit}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} HTML\_\-put\_\-form\_\-submit ({\bf String} {\em submittext})}\label{dil2al_8hh_a271}




Definition at line 2603 of file utilities.cc.

References HTML\_\-put\_\-form\_\-input().

Referenced by AL\_\-Passed\_\-Target\_\-Dates().



\footnotesize\begin{verbatim}2603                                                {
2604         return HTML_put_form_input("submit","value=\""+submittext+'"');
2605 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_put_form_text@{HTML\_\-put\_\-form\_\-text}}
\index{HTML_put_form_text@{HTML\_\-put\_\-form\_\-text}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} HTML\_\-put\_\-form\_\-text ({\bf String} {\em textname}, long {\em maxlen} = -1)}\label{dil2al_8hh_a276}




Definition at line 2630 of file utilities.cc.

Referenced by AL\_\-Passed\_\-Target\_\-Dates(), generate\_\-AL(), and generate\_\-EPS\_\-cells().



\footnotesize\begin{verbatim}2630                                                              {
2631         return HTML_put_form_text(textname,"",maxlen);
2632 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_put_form_text@{HTML\_\-put\_\-form\_\-text}}
\index{HTML_put_form_text@{HTML\_\-put\_\-form\_\-text}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} HTML\_\-put\_\-form\_\-text ({\bf String} {\em textname}, {\bf String} {\em textvalue}, long {\em maxlen} = -1)}\label{dil2al_8hh_a275}




Definition at line 2623 of file utilities.cc.



\footnotesize\begin{verbatim}2623                                                                                {
2624         textname += '"';
2625         if (textvalue.length()>0) textname += " value=\"" + textvalue + '"';
2626         if (maxlen>0) textname += " maxlength=" + String(maxlen);
2627         return HTML_put_form_input("text","name=\""+textname);
2628 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_put_href@{HTML\_\-put\_\-href}}
\index{HTML_put_href@{HTML\_\-put\_\-href}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} HTML\_\-put\_\-href ({\bf String} {\em hrefurl}, {\bf String} {\em hreftext})}\label{dil2al_8hh_a267}




Definition at line 2585 of file utilities.cc.

Referenced by AL\_\-Day\_\-Marker(), AL\_\-Passed\_\-Target\_\-Dates(), generate\_\-AL(), Active\_\-List::generate\_\-focused\_\-AL(), generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-entry\_\-content(), generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-entry\_\-parameters(), Active\_\-List::generate\_\-wide\_\-AL(), Target\_\-Access::make\_\-local\_\-copy\_\-of\_\-directory(), update\_\-main\_\-ALs(), DIL\_\-Visualize\_\-with\_\-HTML\_\-Tabs::Visualize\_\-Element(), DIL\_\-Visualize\_\-with\_\-FORM\_\-Tabs::Visualize\_\-Element(), and Detailed\_\-Items\_\-List::Write\_\-to\_\-File().



\footnotesize\begin{verbatim}2585                                                       {
2586         return "<A HREF=\""+hrefurl+"\">"+hreftext+"</A>";
2587 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_put_list@{HTML\_\-put\_\-list}}
\index{HTML_put_list@{HTML\_\-put\_\-list}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} HTML\_\-put\_\-list (char {\em listtype}, {\bf String} {\em htmlstr})}\label{dil2al_8hh_a265}




Definition at line 2577 of file utilities.cc.

References HTML\_\-put\_\-structure().

Referenced by update\_\-main\_\-ALs().



\footnotesize\begin{verbatim}2577                                                    {
2578         return HTML_put_structure(listtype+String("L"),"",htmlstr);
2579 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_put_list_item@{HTML\_\-put\_\-list\_\-item}}
\index{HTML_put_list_item@{HTML\_\-put\_\-list\_\-item}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} HTML\_\-put\_\-list\_\-item ({\bf String} {\em htmlstr}, bool {\em relaxedhtml} = {\bf false})}\label{dil2al_8hh_a266}




Definition at line 2581 of file utilities.cc.

References HTML\_\-put\_\-structure().

Referenced by Active\_\-List::generate\_\-wide\_\-AL(), and update\_\-main\_\-ALs().



\footnotesize\begin{verbatim}2581                                                                     {
2582         return HTML_put_structure("LI","",htmlstr,relaxedhtml);
2583 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_put_name@{HTML\_\-put\_\-name}}
\index{HTML_put_name@{HTML\_\-put\_\-name}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} HTML\_\-put\_\-name ({\bf String} {\em nametag}, {\bf String} {\em nametext})}\label{dil2al_8hh_a268}




Definition at line 2589 of file utilities.cc.

Referenced by Detailed\_\-Items\_\-List::Write\_\-to\_\-File().



\footnotesize\begin{verbatim}2589                                                       {
2590         return "<A NAME=\""+nametag+"\">"+nametext+"</A>";
2591 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_put_structure@{HTML\_\-put\_\-structure}}
\index{HTML_put_structure@{HTML\_\-put\_\-structure}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} HTML\_\-put\_\-structure ({\bf String} {\em tag}, {\bf String} {\em params}, {\bf String} {\em content}, bool {\em relaxedhtml} = {\bf false})}\label{dil2al_8hh_a262}




Definition at line 2561 of file utilities.cc.

References String::prepend().

Referenced by HTML\_\-put\_\-list(), HTML\_\-put\_\-list\_\-item(), HTML\_\-put\_\-table\_\-cell(), and HTML\_\-put\_\-table\_\-row().



\footnotesize\begin{verbatim}2561                                                                                                {
2562         params.prepend('<'+tag);
2563         params += '>'+content;
2564         if (relaxedhtml) return params;
2565         params += "</"+tag+">\n";
2566         return params;
2567 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_put_table_cell@{HTML\_\-put\_\-table\_\-cell}}
\index{HTML_put_table_cell@{HTML\_\-put\_\-table\_\-cell}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} HTML\_\-put\_\-table\_\-cell ({\bf String} {\em cellparams}, {\bf String} {\em cellcontent}, bool {\em relaxedhtml} = {\bf false})}\label{dil2al_8hh_a264}




Definition at line 2573 of file utilities.cc.

References HTML\_\-put\_\-structure().

Referenced by AL\_\-Day\_\-Marker(), generate\_\-AL(), generate\_\-EPS\_\-cells(), Active\_\-List::generate\_\-focused\_\-AL(), Financial\_\-Note::put(), update\_\-DIL\_\-entry\_\-elements(), and Detailed\_\-Items\_\-List::Write\_\-to\_\-File().



\footnotesize\begin{verbatim}2573                                                                                             {
2574         return HTML_put_structure("TD",cellparams,cellcontent,relaxedhtml);
2575 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_put_table_row@{HTML\_\-put\_\-table\_\-row}}
\index{HTML_put_table_row@{HTML\_\-put\_\-table\_\-row}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} HTML\_\-put\_\-table\_\-row ({\bf String} {\em rowparams}, {\bf String} {\em rowcontent}, bool {\em relaxedhtml} = {\bf false})}\label{dil2al_8hh_a263}




Definition at line 2569 of file utilities.cc.

References HTML\_\-put\_\-structure().

Referenced by AL\_\-Day\_\-Marker(), generate\_\-AL(), Active\_\-List::generate\_\-focused\_\-AL(), Financial\_\-Note::put(), remove\_\-AL\_\-TC(), and Detailed\_\-Items\_\-List::Write\_\-to\_\-File().



\footnotesize\begin{verbatim}2569                                                                                          {
2570         return HTML_put_structure("TR",rowparams,rowcontent,relaxedhtml);
2571 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_remove_comments@{HTML\_\-remove\_\-comments}}
\index{HTML_remove_comments@{HTML\_\-remove\_\-comments}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String}$\ast$ HTML\_\-remove\_\-comments ({\bf String} \& {\em htmlstr})}\label{dil2al_8hh_a260}




Definition at line 2530 of file utilities.cc.

References String::alloc(), String::at(), String::index(), String::length(), res, and String::SEARCH\_\-END.

Referenced by Detailed\_\-Items\_\-List::Get\_\-All\_\-DIL\_\-ID\_\-File\_\-Parameters(), and Plan\_\-entry\_\-content::Parse\_\-Entry\_\-Content().



\footnotesize\begin{verbatim}2530                                                 {
2531   int cidx, cend = 0; String res;
2532   res.alloc(htmlstr.length());
2533   while ((cidx=htmlstr.index("<!--",cend))>=0) {
2534     if (cidx>cend) res += htmlstr.at(cend,cidx-cend);
2535     if ((cend=htmlstr.index(BigRegex("--[       ]*[>]"),String::SEARCH_END,cidx))<0) cend=htmlstr.length();
2536   }
2537   cidx=htmlstr.length();
2538   if (cidx>cend) res += htmlstr.at(cend,cidx-cend);
2539   htmlstr = res;
2540   return &htmlstr;
2541 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_remove_tags@{HTML\_\-remove\_\-tags}}
\index{HTML_remove_tags@{HTML\_\-remove\_\-tags}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String}$\ast$ HTML\_\-remove\_\-tags ({\bf String} \& {\em htmlstr})}\label{dil2al_8hh_a261}




Definition at line 2555 of file utilities.cc.

References String::gsub().

Referenced by AL\_\-Passed\_\-Target\_\-Dates(), generate\_\-AL(), Active\_\-List::generate\_\-focused\_\-AL(), generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-Superiors(), Active\_\-List::generate\_\-wide\_\-AL(), Detailed\_\-Items\_\-List::Get\_\-All\_\-Topical\_\-DIL\_\-Parameters(), select\_\-TL\_\-DIL\_\-refs(), update\_\-DIL\_\-entry\_\-elements(), DIL\_\-Visualize\_\-with\_\-Tabs::Visualize\_\-Element(), DIL\_\-Visualize\_\-with\_\-HTML\_\-Tabs::Visualize\_\-Element(), and DIL\_\-Visualize\_\-with\_\-FORM\_\-Tabs::Visualize\_\-Element().



\footnotesize\begin{verbatim}2555                                             {
2556         const BigRegex m("[<][^>]+[>]");
2557         htmlstr.gsub(m,"");
2558         return &htmlstr;
2559 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!HTML_safe@{HTML\_\-safe}}
\index{HTML_safe@{HTML\_\-safe}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String}$\ast$ HTML\_\-safe ({\bf String} \& {\em textstr})}\label{dil2al_8hh_a259}




Definition at line 2523 of file utilities.cc.

References String::gsub().

Referenced by Search\_\-Result::HTML\_\-put\_\-text().



\footnotesize\begin{verbatim}2523                                      {
2524         textstr.gsub("&","&amp;");
2525         textstr.gsub("<","&lt;");
2526         textstr.gsub(">","&gt;");
2527         return &textstr;
2528 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!initialize_new_DIL_TL@{initialize\_\-new\_\-DIL\_\-TL}}
\index{initialize_new_DIL_TL@{initialize\_\-new\_\-DIL\_\-TL}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool initialize\_\-new\_\-DIL\_\-TL ({\bf String} {\em initializecmd}, bool {\em includeinput})}\label{dil2al_8hh_a248}




Definition at line 2358 of file utilities.cc.

References DIN, EOUT, generate\_\-TL\_\-chunk\_\-header(), generate\_\-TL\_\-entry\_\-header(), get\_\-new\_\-DIL\_\-ID(), and read\_\-data\_\-from\_\-stream().

Referenced by dil2al\_\-commands().



\footnotesize\begin{verbatim}2358                                                                     {
2359 // sends a DIL template with a new DIL ID, or a Task Log chunk or entry template to stdout
2360         if (initializecmd=="tc") { // initialize Task Log chunk
2361                 cout << generate_TL_chunk_header("{"+curtime+"}","{relative-active-list-url}","{Active List Title}","{#tag-previous-AL-head}","relative-DIL-url","DIL Title/Non-DIL Identifying Comment","#tag-previous-DIL-head",-1) << "<!-- edit items in ``{}'' brackets";
2362                 if (!includeinput) cout << " and add entries here";
2363                 cout << " then close chunk -->\n";
2364         } else if (initializecmd=="te") { // initialize Task Log entry
2365                 cout << generate_TL_entry_header("{"+curtime+"}.{1}","{relative-active-list-url}","{Active List Title}","{#tag-previous-AL-head}","relative-DIL-url","DIL Title/Non-DIL Identifying Comment","#tag-previous-DIL-head") << "<!-- edit items in ``{}'' brackets";
2366                 if (!includeinput) cout << " and add content here";
2367                 cout << " -->\n";
2368         } else { // initialize DIL entry
2369                 String newdilid = get_new_DIL_ID();
2370                 if (newdilid=="") {
2371                         EOUT << "dil2al: Unable to generate new DIL ID in initialize_new_DIL_TL()\n";
2372                         return false;
2373                 }
2374                 cout << "<TR BGCOLOR=\"#00005F\">\n<TD WIDTH=\"15%\"><A NAME=\""
2375                         << newdilid << "\" HREF=\"detailed-items-by-ID.html#"
2376                         << newdilid << "\">" << newdilid
2377                         << "</A>\n<TD><B>time started:</B> - <B>time required:</B> ?.?hrs <B>completion ratio:</B> 0.0 <B>valuation:</B> ?.?\n<TR>\n<TD COLSPAN=2>";
2378         }
2379         if (includeinput) {
2380                 const int LLEN = 10240;
2381                 char lbuf[LLEN];
2382                 String dentrybuf;
2383                 read_data_from_stream(DIN,dentrybuf,"@End of DIL entry@");
2384                 cout << dentrybuf;
2385         }
2386         if (initializecmd=="tc") { // Task Log chunk
2387                 cout << generate_TL_chunk_header("","","","","","","",1);
2388         } else if (initializecmd=="te") { // Task Log entry
2389                 cout << "<P>\n\n";
2390         } else { // DIL entry
2391                 cout << "\n\n";
2392         }
2393         return true;
2394 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!Int2HexStr@{Int2HexStr}}
\index{Int2HexStr@{Int2HexStr}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} Int2Hex\-Str (unsigned int {\em i})}\label{dil2al_8hh_a279}




Definition at line 2666 of file utilities.cc.

References String::prepend().



\footnotesize\begin{verbatim}2666                                   {
2667   // convert integer to hexadecimal string
2668   String s;
2669   if (i==0) s = "0";
2670   else {
2671     while (i>0) {
2672       int j = i % 16; i = i / 16;
2673       if (j<10) s.prepend(('0'+(char) j));
2674       else s.prepend(('A'+(char) (j-10)));
2675     }
2676   }
2677   return s;
2678 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!linear_day_distribution@{linear\_\-day\_\-distribution}}
\index{linear_day_distribution@{linear\_\-day\_\-distribution}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}float linear\_\-day\_\-distribution ({\bf AL\_\-Day} $\ast$ {\em ald}, time\_\-t {\em td})}\label{dil2al_8hh_a291}


\index{dil2al.hh@{dil2al.hh}!linear_distribution@{linear\_\-distribution}}
\index{linear_distribution@{linear\_\-distribution}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}float linear\_\-distribution (float {\em i}, float {\em i\_\-limit})}\label{dil2al_8hh_a288}




Definition at line 268 of file alcomp.cc.

Referenced by AL\_\-TC::AL\_\-TC(), and AL\_\-Day::set\_\-TC\_\-values().



\footnotesize\begin{verbatim}268                                                   {
269 // linearly distribute TC values (see TL#200006291007.2)
270         return 1.0 - (0.9*i/i_limit);
271 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!locate_most_recent_TL_chunk@{locate\_\-most\_\-recent\_\-TL\_\-chunk}}
\index{locate_most_recent_TL_chunk@{locate\_\-most\_\-recent\_\-TL\_\-chunk}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int locate\_\-most\_\-recent\_\-TL\_\-chunk ({\bf String} \& {\em tl}, int {\em seekfrom}, {\bf String} $\ast$ {\em chunkid})}\label{dil2al_8hh_a327}




Definition at line 944 of file tladmin.cc.

References String::at(), String::del(), EOUT, and String::index().

Referenced by decide\_\-add\_\-TL\_\-chunk(), and stop\_\-TL\_\-chunk().



\footnotesize\begin{verbatim}944                                                                              {
945 // seeks from seekfrom through the task log to find the
946 // most recent chunk, set seekfrom==-1 to search backwards
947 // from the end of the task log
948 // returns the starting location of the most recent chunk or the
949 // beginning of the section (-1 == not found)
950 // if chunkid!=NULL sets (*chunkid) to the chunk ID or to "" if
951 // the beginning of the section is returned
952 // requires a valid task log section in tl
953         int tlinsertloc;
954         if ((tlinsertloc = tl.index(BigRegex("[<]!--[   ]+chunk Begin[  ]+--[>]"),seekfrom))<0) {
955                 if (chunkid) (*chunkid) = ""; // no chunks in TL
956                 if ((tlinsertloc = tl.index(BigRegex("[<]!--[   ]+section Begin[        ]+--[>]")))<0) {
957                         // TL section not properly formatted
958                         EOUT << "dil2al: Section Begin not found in " << taskloghead << " in locate_most_recent_TL_chunk()\n";
959                         return -1;
960                 } 
961                 return tlinsertloc;
962         }
963         if (chunkid) {
964                 // get chunk time stamp at tlinsertloc
965                 (*chunkid) = tl.at(BigRegex("[<]TR[>][<]TD[>][<][^>]*=[^>]*[>][<]A[     ]+[Nn][Aa][Mm][Ee][     ]*=[    ]*\"[0-9]+"),tlinsertloc);
966                 chunkid->del(BigRegex("[<]TR[>][<]TD[>][<][^>]*=[^>]*[>][<]A[   ]+[Nn][Aa][Mm][Ee][     ]*=[    ]*\""));
967         }
968         return tlinsertloc;
969 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!Lock_File@{Lock\_\-File}}
\index{Lock_File@{Lock\_\-File}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool Lock\_\-File ({\bf String} {\em lockfile}, {\bf String} {\em msgstr})}\label{dil2al_8hh_a240}




Definition at line 1399 of file utilities.cc.

References EOUT, and prepare\_\-temporary\_\-file().

Referenced by Detailed\_\-Items\_\-List::Read\_\-from\_\-Binary\_\-Cache(), Detailed\_\-Items\_\-List::Read\_\-Topical\_\-from\_\-Binary\_\-Cache(), Detailed\_\-Items\_\-List::Write\_\-to\_\-Binary\_\-Cache(), and Detailed\_\-Items\_\-List::Write\_\-Topical\_\-to\_\-Binary\_\-Cache().



\footnotesize\begin{verbatim}1399                                                {
1400   // check for lock file
1401   struct stat statbuf;
1402   if (stat(lockfile,&statbuf)!=-1) EOUT << "dil2al: Warning - lock file " << lockfile <<  " in use by other process, waiting for release of lock in Lock_File()\n";
1403   while (stat(lockfile,&statbuf)!=-1) sleep(5);
1404   // lock and write to binary cache file
1405   return prepare_temporary_file(lockfile,msgstr);
1406 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!make_note@{make\_\-note}}
\index{make_note@{make\_\-note}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool make\_\-note ()}\label{dil2al_8hh_a338}




Definition at line 384 of file note.cc.

References String::after(), ANSI\_\-BOLD\_\-OFF, ANSI\_\-BOLD\_\-ON, ANSI\_\-UNDERLINE\_\-OFF, ANSI\_\-UNDERLINE\_\-ON, String::before(), copy\_\-until\_\-line(), String::del(), EOUT, find\_\-line(), get\_\-TL\_\-head(), String::gsub(), String::matches(), prepare\_\-temporary\_\-file(), String::prepend(), process\_\-note(), relurl(), res, time\_\-stamp(), and VOUT.

Referenced by chunk\_\-controller(), and dil2al\_\-commands().



\footnotesize\begin{verbatim}384                  {
385         const int LLEN = 65525; // was 10240
386         char lbuf[LLEN];
387         int q,res;
388         // open an editor for a plain text entry
389         String noteinit;
390         if (suggestnameref) {
391                 noteinit = "<A NAME=\"TL-ref-" + curtime + "\" HREF=\"@TLURL@#@TLNEXTENTRY@\">_</A>";
392                 if (verbose) VOUT << "Note: If destination is Task Log and suggested reference is not altered,\nthen " << noteinit << " will be cleaned up automatically.\n";
393         }
394         if (!prepare_temporary_file(notetmpfile,noteinit)) return false;
395         if (system(editor+" "+notetmpfile)<0) return false;
396         // refresh curtime to avoid misrepresentations due to constantly open note editing window
397         curtime = time_stamp("%Y%m%d%H%M");
398         // request destination of note
399         if (useansi) cout << ANSI_UNDERLINE_ON; // underline on
400         cout << "Destination of note (default = Task Log)\n";
401         if (useansi) cout << ANSI_UNDERLINE_OFF; // underline off
402         // get quick-chooser options from configuration file
403         for (int i=0; i<quicknotedstnum; i++) cout << i << ' ' << quicknotedsttitle[i] << quicknotedescr[i] << '\n';
404         if (useansi) cout << ANSI_BOLD_ON; // bold on
405         cout << "or enter file path: ";
406         if (useansi) cout << ANSI_BOLD_OFF; // bold off
407         cin.getline(lbuf,LLEN);
408         String notedst = lbuf;
409         if (notedst == "") {
410                 notedst = tasklog;
411                 cout << "notedst = " << notedst << '\n';
412                 if (suggestnameref) {
413                         // clean up unnecessary (self-)reference NAME tag
414                         ifstream ntf(notetmpfile);
415                         if (!ntf) EOUT << "dil2al: Unable to open " << notetmpfile << " for removal of spurious NAME tag in make_note(), continuing as is\n";
416                         else {
417                                 ofstream ntfnew(notetmpfile+".tlref_cleaned");
418                                 if (!ntfnew) {
419                                         EOUT << "dil2al: Unable to create " << notetmpfile << ".tlref_cleaned in make_note(), continuing as is\n";
420                                         ntf.close();
421                                 } else {
422                                         if ((res=copy_until_line(&ntf,&ntfnew,noteinit,lbuf,LLEN))==1) {
423                                                 String noteline(lbuf); noteline.del(noteinit);
424                                                 ntfnew << noteline << '\n';
425                                                 ntfnew << ntf.rdbuf();
426                                                 ntf.close(); ntfnew.close();
427                                                 if (rename(notetmpfile+".tlref_cleaned",notetmpfile)<0) EOUT << "dil2al: Unable to rename " << notetmpfile << ".tlref_cleaned to " << notetmpfile << "\nin make_note(), continuing as is\n";
428                                         } else {
429                                                 ntf.close(); ntfnew.close();
430                                                 if (res<0) EOUT << "dil2al: Unable to remove unnecessary NAME tag in make_note(), continuing as is\n";
431                                                 if (unlink(notetmpfile+".tlref_cleaned")<0) EOUT << "dil2al: Unable to remove " << notetmpfile << ".tlref_cleaned in make_note(), continuing as is\n";
432                                         }
433                                 }
434                         }
435                 }
436         } else {
437                 // default destination document title is file name
438                 String notedsttitle = notedst; notedsttitle.gsub(BigRegex(".*/"),"");
439                 // obtain quick-chooser destinations
440                 if (notedst.matches(BRXint)) {
441                         q = atoi((const char *) notedst);
442                         if ((q>=0) && (q<quicknotedstnum)) {
443                                 notedst = quicknotedst[q];
444                                 notedsttitle = quicknotedsttitle[q];
445                         } else {
446                                 EOUT << "dil2al: Selection " << q << " is not a predefined note destination\n";
447                                 return false;
448                         }
449                 }
450                 // if not task log, request task log reference line, suggest reference to note
451                 if (notedst[0]!='/') notedst.prepend(homedir);
452                 if (verbose) VOUT << "Note destination to process: " << notedst << '\n';
453                 String tlentryinit = "<A HREF=\""+relurl(get_TL_head(),notedst);
454                 ifstream ntf(notetmpfile);
455                 if (!ntf) { EOUT << "dil2al: Unable to open " << notetmpfile << " in make_note()\n"; return false; }
456                 // this NAME could be the suggested one, or one modified/set manually
457                 if (find_line(&ntf,"[<][Aa][    ]+[^>]*[Nn][As][Mm][Ee]=[       ]*\"[^>]+[>]",lbuf,LLEN)) {
458                         String tlref(lbuf); tlref = tlref.after(BigRegex("[<][Aa][      ]+[^>]*[Nn][As][Mm][Ee]=[       ]*\""));
459                         tlentryinit = tlentryinit + '#' +tlref.before("\"");
460                 }
461                 ntf.close();
462                 tlentryinit +="\">("+notedsttitle+")</A>";
463                 if (!prepare_temporary_file(tlentrytmpfile,tlentryinit)) return false;
464                 if (verbose) VOUT << "Task Log entry referring to note (if any)...\n";
465                 if (system(editor+" "+tlentrytmpfile)<0) return false;
466                 newTLID = ""; // clear to test if properly generated
467                 if (!process_note(tlentrytmpfile,tasklog)) return false;
468                 if (newTLID=="") {
469                         if (verbose) VOUT << "No new Task Log entry ID, perhaps entry was empty (removing @TLURL@ and\n@TLNEXTENTRY@ references)\n";
470                         // remove HREF="@TLURL@#@TLNEXTENTRY@" references from notedst
471                         ntf.open(notetmpfile);
472                         if (!ntf) EOUT << "dil2al: Unable to remove spurious @TLURL@ and @TLNEXTENTRY@ references in\nmake_note(), continuing as is\n";
473                         else {
474                                 ofstream ntfnew(notetmpfile+".tlurl_cleaned");
475                                 if (!ntfnew) EOUT << "dil2al: Unable to creaete " << notetmpfile << ".tlurl_cleaned in make_note(),\ncontinuing as is\n";
476                                 else {
477                                         while (ntf) {
478                                                 if ((res=copy_until_line(&ntf,&ntfnew,"@TLURL@|@TLNEXTENTRY@",lbuf,LLEN))==1) {
479                                                         tlentryinit = lbuf;
480                                                         tlentryinit.gsub(BigRegex("[<][Aa][     ]+[Hh][Rr][Ee][Ff][     ]*=[    ]*\"[^\"]*\\(@TLURL@\\|@TLNEXTENTRY@\\)[^\"]*\"[        ]*[>][^<]*[<]/[Aa][>]"),"");
481                                                         tlentryinit.gsub(BigRegex("[    ]+[Hh][Rr][Ee][Ff][     ]*=[    ]*\"[^\"]*\\(@TLURL@\\|@TLNEXTENTRY@\\)[^\"]*\"[        ]*"),"");
482                                                         ntfnew << tlentryinit << '\n';
483                                                 } else break;
484                                         }
485                                         ntfnew.close();
486                                         if (res<0) EOUT << "dil2al: Unable to remove spurious @TLURL@ and @TLNEXTENTRY@ references in\nmake_note(), continuing as is\n";
487                                         else if (rename(notetmpfile+".tlurl_cleaned",notetmpfile)<0) EOUT << "dil2al: Unable to rename " << notetmpfile << ".tlurl_cleaned to " << notetmpfile << "\nin make_note(), continuing as is\n";
488                                 }
489                                 ntf.close();
490                         }
491                 } else {
492                         // parse notedst to fill in @TLURL@ and @TLNEXTENTRY@
493                         ntf.open(notetmpfile);
494                         if (!ntf) EOUT << "dil2al: Unable to fill in @TLURL@ and @TLNEXTENTRY@ references in\nmake_note(), continuing as is\n";
495                         else {
496                                 ofstream ntfnew(notetmpfile+".tlurl");
497                                 if (!ntfnew) EOUT << "dil2al: Unable to create " << notetmpfile << ".tlurl in make_note(),\ncontinuing as is\n";
498                                 else {
499                                         String tlurl(relurl(notedst,get_TL_head()));
500                                         while (ntf) {
501                                                 if ((res=copy_until_line(&ntf,&ntfnew,"@TLURL@|@TLNEXTENTRY@",lbuf,LLEN))==1) {
502                                                         tlentryinit = lbuf;
503                                                         tlentryinit.gsub("@TLURL@",tlurl);
504                                                         tlentryinit.gsub("@TLNEXTENTRY@",newTLID);
505                                                         ntfnew << tlentryinit << '\n';
506                                                 } else break;
507                                         }
508                                         ntfnew.close();
509                                         if (res<0) EOUT << "dil2al: Unable to fill in @TLURL@ and @TLNEXTENTRY@ references in\nmake_note(), continuing as is\n";
510                                         else if (rename(notetmpfile+".tlurl",notetmpfile)<0) EOUT << "dil2al: Unable to rename " << notetmpfile << ".tlurl to " << notetmpfile << "\nin make_note(), continuing as is\n";
511                                 }
512                                 ntf.close();
513                         }
514                 }
515         }
516         return process_note(notetmpfile,notedst);
517 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!max_chunk_entry@{max\_\-chunk\_\-entry}}
\index{max_chunk_entry@{max\_\-chunk\_\-entry}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int max\_\-chunk\_\-entry ({\bf String} \& {\em tlchunk})}\label{dil2al_8hh_a317}




Definition at line 28 of file tladmin.cc.

References String::after(), String::before(), String::index(), and String::matches().

Referenced by add\_\-TL\_\-chunk\_\-or\_\-entry().



\footnotesize\begin{verbatim}28                                       {
29 // searches for the largest entry number in a Task Log chunk
30 // returns 0 if there are no entries
31 // note that this works even if the entries are not in order or entry numbers are missing
32 #ifdef DEBUG
33         cout << "TLCHUNK:\n" << tlchunk << '\n';
34 #endif
35         int maxentry = 0, entryindex = -1;
36         while ((entryindex = tlchunk.index(BigRegex("[<]!--[    ]*entry Begin[  ]*--[>]"),entryindex+1))>=0) {
37                 String entryid = tlchunk.before(BigRegex("[     ]*[<]/B[>]"),entryindex);
38                 entryid = entryid.after("<B>",-1);
39                 int entryidnum;
40                 if (entryid.matches(BRXint)) entryidnum = atoi((const char *) entryid);
41 #ifdef DEBUG
42                 cout << "entryid = " << entryid << "\nentryidnum = " << entryidnum << '\n';
43 #endif
44                 if (entryidnum>maxentry) maxentry = entryidnum;
45         }
46 #ifdef DEBUG
47         cout << "maxentry = " << maxentry << '\n';
48 #endif
49         return maxentry;
50 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!modify_DIL_entry_target_date@{modify\_\-DIL\_\-entry\_\-target\_\-date}}
\index{modify_DIL_entry_target_date@{modify\_\-DIL\_\-entry\_\-target\_\-date}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool modify\_\-DIL\_\-entry\_\-target\_\-date ({\bf DIL\_\-ID} {\em dilid}, time\_\-t {\em tdate})}\label{dil2al_8hh_a307}




Definition at line 1050 of file diladmin.cc.

References EOUT, PLLRoot$<$ DIL\_\-entry $>$::head(), Detailed\_\-Items\_\-List::list, PLL\_\-LOOP\_\-FORWARD, res, and Detailed\_\-Items\_\-List::Write\_\-to\_\-File().

Referenced by modify\_\-DIL\_\-group\_\-target\_\-dates(), and Modify\_\-Element().



\footnotesize\begin{verbatim}1050                                                               {
1051 // modify the target date of dilid in all self- or superior-
1052 // references (dilid can be initialized from a String) and
1053 // write to DIL ID file
1054 // Target dates are modified locally, without regard to target
1055 // dates of superiors. If no target date was previously given,
1056 // a set of parameters is created. The target date -1 indicates
1057 // that target dates should be set to "?", i.e. unspecified.
1058 // Modifications are made only if tdate differs from Target_Date().
1059 // (Note: Use `modify_DIL_group_target_date()' to update the
1060 // target date with minimal disturbances of relationships
1061 // between dependencies and superiors within a group of DIL
1062 // entries.)
1063         // modify dilid target dates
1064         Detailed_Items_List dilist;
1065         if (!modify_DIL_entry_target_date(dilid,tdate,dilist)) return false;
1066         // place new data and copy rest
1067 #ifdef VERBOSEDEBUG
1068         PLL_LOOP_FORWARD(DIL_entry,dilist.list.head(),1) {
1069                 EOUT << e->chars();
1070                 if (e->Projects(0)) EOUT << '\t' << e->Projects(0)->targetdate();
1071                 EOUT << '\n';
1072         }
1073 #endif
1074 #ifdef DEBUG
1075         bool res = dilist.Write_to_File();
1076         if (res) EOUT << "Modified DIL entry target date and stored to DIL ID file\n";
1077         return res;
1078 #else
1079         return dilist.Write_to_File();
1080 #endif
1081 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!modify_DIL_entry_target_date@{modify\_\-DIL\_\-entry\_\-target\_\-date}}
\index{modify_DIL_entry_target_date@{modify\_\-DIL\_\-entry\_\-target\_\-date}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool modify\_\-DIL\_\-entry\_\-target\_\-date ({\bf DIL\_\-ID} {\em dilid}, time\_\-t {\em tdate}, {\bf Detailed\_\-Items\_\-List} \& {\em dilist})}\label{dil2al_8hh_a306}




Definition at line 976 of file diladmin.cc.



\footnotesize\begin{verbatim}976                                                                                             {
977 // modify the target date of dilid in all self- or superior-
978 // references (dilid can be initialized from a String)
979 // Target dates are modified locally, without regard to target
980 // dates of superiors. If no target date was previously given,
981 // a set of parameters is created. The target date -1 indicates
982 // that target dates should be set to "?", i.e. unspecified.
983 // If dilist is empty, Get_All_DIL_ID_File_Parameters() is called.
984 // Modifications are made only if tdate differs from Target_Date().
985 // (Note: Use `modify_DIL_group_target_date()' to update the
986 // target date with minimal disturbances of relationships
987 // between dependencies and superiors within a group of DIL
988 // entries.)
989 // *** perhaps there should be a way to `force' modification if
990 //     it is used to ensure that the target date is local
991         // get DIL parameter sets
992         int entrynum;
993 #ifdef DEBUGTIER1
994         VOUT << "dil2al: [DEBUGTIER1] Modifying for DIL#" << dilid.chars() << " to tdate=" << tdate << " (" << time_stamp("%Y%m%d%H%M",tdate) << ")\n";
995 #endif
996         if (!dilist.list.head()) entrynum=dilist.Get_All_DIL_ID_File_Parameters();
997         else entrynum=dilist.list.length();
998         if (entrynum<=0) {
999                 EOUT << "No DIL entries found in " << idfile << " in modify_DIL_entry_target_date(), continuing as is\n";
1000                 return false;
1001         }
1002 #ifdef DEBUGTIER2
1003         VOUT << "dil2al: [DEBUGTIER2] Modification progress: 1";
1004 #endif
1005         // get first entry in list
1006         DIL_entry * de = dilist.list.head();
1007         // if (!de) return false; // should never happen when entrynum>0
1008         DIL_entry * did = de->elbyid(dilid);
1009         if (!did) {
1010                 EOUT << "DIL entry " << dilid << " not found in " << idfile << " in modify_DIL_entry_target_date(), continuing as is\n";
1011                 return false;
1012         }
1013 #ifdef DEBUGTIER2
1014         VOUT << ", 2";
1015 #endif
1016         if (did->Target_Date()!=tdate) { // modify only if different
1017                 if (!did->parameters) {
1018                         EOUT << "DIL entry " << dilid << " parameters not found in " << idfile << " in modify_DIL_entry_target_date(), continuing as is\n";
1019                         return false;
1020                 }
1021 #ifdef DEBUGTIER2
1022         VOUT << ", 3\n";
1023 #endif
1024                 // modify dilid target dates
1025                 if (did->Projects(0)) PLL_LOOP_FORWARD(DIL_AL_List,did->Projects(0),1) {
1026 #ifdef DEBUGTIER2
1027                         VOUT << "e->targetdate = tdate\n";
1028 #endif
1029                         if (!e->set_targetdate(tdate)) VOUT << "Unable to modify FIXED target date of ref.#" << dilid << "->#" << e->al.title << '\n';
1030                 } else if (tdate>=0) { // create self-reference for specified target date
1031                         // *** Modify this if the data format changes
1032 #ifdef DEBUGTIER2
1033                         VOUT << "did->parameters->project_append\n";
1034 #endif
1035                         did->parameters->project_append(idfile+String('#')+did->chars(),did->chars(),DILSUPS_REL_UNSPECIFIED,DILSUPS_UNB_UNSPECIFIED,DILSUPS_BND_UNSPECIFIED,tdate,0,DILSUPS_URG_UNSPECIFIED,DILSUPS_PRI_UNSPECIFIED);
1036                 }
1037 #ifdef DEBUGTIER1
1038                 VOUT << "dil2al: [DEBUGTIER1] Modification performed\n";
1039 #endif
1040         }
1041 #ifdef DEBUGTIER2
1042         else VOUT << ", target date already correct\n";
1043 #endif
1044 #ifdef DEBUG
1045         EOUT << "Modified DIL entry target date\n";
1046 #endif
1047         return true;
1048 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!modify_DIL_group_target_dates@{modify\_\-DIL\_\-group\_\-target\_\-dates}}
\index{modify_DIL_group_target_dates@{modify\_\-DIL\_\-group\_\-target\_\-dates}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool modify\_\-DIL\_\-group\_\-target\_\-dates ({\bf Detailed\_\-Items\_\-List} \& {\em dilgroup}, bool {\em minfragmentation} = {\bf true})}\label{dil2al_8hh_a308}




Definition at line 1083 of file diladmin.cc.

References DIL\_\-AL\_\-List::al, DIL\_\-ID::chars(), DIL\_\-Superiors, DILSUPS\_\-BND\_\-UNSPECIFIED, DILSUPS\_\-PRI\_\-UNSPECIFIED, DILSUPS\_\-REL\_\-UNSPECIFIED, DILSUPS\_\-UNB\_\-UNSPECIFIED, DILSUPS\_\-URG\_\-UNSPECIFIED, PLLRoot$<$ DIL\_\-entry $>$::el(), DIL\_\-entry::elbyid(), EOUT, Detailed\_\-Items\_\-List::Get\_\-All\_\-DIL\_\-ID\_\-File\_\-Parameters(), PLLRoot$<$ DIL\_\-entry $>$::head(), PLLRoot$<$ DIL\_\-entry $>$::length(), Detailed\_\-Items\_\-List::list, DIL\_\-entry::Local\_\-Target\_\-Date(), modify\_\-DIL\_\-entry\_\-target\_\-date(), DIL\_\-entry::parameters, PLL\_\-LOOP\_\-FORWARD, PLL\_\-LOOP\_\-FORWARD\_\-NESTED, DIL\_\-entry\_\-parameters::project\_\-append(), DIL\_\-entry::Projects(), res, DIL\_\-AL\_\-List::set\_\-targetdate(), Detailed\_\-Items\_\-List::Sort\_\-by\_\-Target\_\-Date(), DIL\_\-entry::Target\_\-Date(), time\_\-stamp(), filetitle\_\-t::title, VOUT, and Detailed\_\-Items\_\-List::Write\_\-to\_\-File().

Referenced by modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd().



\footnotesize\begin{verbatim}1083                                                                                                  {
1084 // Adjust the target dates of DIL entries listed in dilgroup,
1085 // utilizing propagation rules to minimize the number of
1086 // locally specified target dates where superiors can be
1087 // modified and are members of the group. Desired target dates
1088 // are specified in dilgroup.list[i]->Projects(0)->_targetdate,
1089 // so that they can be obtained through dilgroup.list[i]->Target_Date().
1090 // A target date is not changed if it is the same as the
1091 // entry's current Target_Date() or if -2 was specified.
1092 // A target date specification of -1 implies that it will be
1093 // set to `DILSUPS_TD_UNSPECIFIED'.
1094 #ifdef DEBUG_REPORT_DEVIATIONS
1095         int tdmodifdeviations = 0;
1096 #endif
1097         Detailed_Items_List dilist; DIL_entry * de, * did; time_t tdate;
1098 #ifdef DEBUGTIER2
1099         time_t * oldtargetdate;
1100         if (!dilist.list.head()) dilist.Get_All_DIL_ID_File_Parameters();
1101         oldtargetdate = new time_t[dilist.list.length()];
1102         for (int i=0; i<dilist.list.length(); i++) oldtargetdate[i] = dilist.list.el(i)->Local_Target_Date(0);
1103 #endif
1104         if (minfragmentation) { // apply minimization rules
1105 #ifdef DEBUGTIER2
1106         VOUT << "dil2al: [DEBUGTIER2] Applying rules to minimize fragmentation\n";
1107 #endif
1108                 int entrynum=dilist.Get_All_DIL_ID_File_Parameters();
1109                 if (entrynum<=0) {
1110                         EOUT << "No DIL entries found in " << idfile << " in modify_DIL_group_target_dates(), continuing as is\n";
1111                         return false;
1112                 }
1113                 DIL_entry * de = dilist.list.head();
1114                 // sort dilgroup in reverse order of desired target dates
1115                 // - thus superiors with the latest target date are updated first (minimizes insulations)
1116                 DIL_entry ** e = dilgroup.Sort_by_Target_Date(); // traverse in reverse order, highest to lowest
1117                 #define MODIFY_DIL_GROUP_TARGET_DATES_RETURN_WITH_CLEANUP(res) delete[] e; return res
1118                 for (int i = dilgroup.list.length()-1; i>=0; i--) if ((tdate=e[i]->Local_Target_Date(0))>=-1) { // iterate through dilgroup members
1119                         did = de->elbyid(*(e[i]));
1120                         if (!did) {
1121                                 EOUT << "DIL entry " << e[i]->chars() << " not found in " << idfile << " in modify_DIL_group_target_dates(), continuing as is\n";
1122                                 MODIFY_DIL_GROUP_TARGET_DATES_RETURN_WITH_CLEANUP(false);
1123                         }
1124                         if (did->Projects(0)) PLL_LOOP_FORWARD_NESTED(DIL_Superiors,did->Projects(0),1,pe) { // iterate through corresponding dilist member superiors
1125                                 // Note: Do this even if did->Target_Date()==tdate to insure that
1126                                 //       did->Target_Date()==tdate will also be true after the
1127                                 //       target dates of superiors may have been modified.
1128                                 // *** can set local target date if pe refers to self
1129                                 //     once superior references are pointer parameters
1130                                 // set `local' target date specifications to desired target date
1131                                 if (pe->targetdate()>=0) { 
1132                                         if (!pe->set_targetdate(tdate)) VOUT << "Unable to modify FIXED target date of ref.#" << e[i]->chars() << "->#" << pe->al.title << '\n';
1133                                 } else if (tdate>=0) {
1134                                         if (pe->IsSelfReference()) {
1135                                                 EOUT << "dil2al: Warning - Correcting self-reference without local target date in modify_DIL_group_target_dates\n()";
1136                                                 if (!pe->set_targetdate(tdate)) VOUT << "Unable to modify FIXED target date of ref.#" << e[i]->chars() << "->#" << pe->al.title << '\n';
1137                                         } else {
1138                                                 DIL_ID peid(pe->al.title);
1139                                                 DIL_entry * peg = dilgroup.list.head()->elbyid(peid); // can't use Superiorbyid() here, since getting in dilgroup
1140                                                 time_t petdate = -1;
1141                                                 if (peg) petdate = peg->Local_Target_Date(0); // to insure that code -1 is detected
1142                                                 DIL_entry * sup = pe->Superiorbyid();
1143                                                 if (!sup) {
1144                                                         EOUT << "dil2al: DIL entry superior with ID #" << pe->al.title << " not found in modify_DIL_group_target_dates(), continuing as is\n";
1145                                                         continue;
1146                                                 }
1147                                                 // if superior pe of e is in dilgroup with same desired TD
1148                                                 // then pe will take care of update (beware of loops)
1149                                                 if (petdate==tdate) continue;
1150                                                 // if pe->Target_Date() is earlier than desired
1151                                                 // then set desired locally (don't alter superior, since
1152                                                 // that could affect other dependencies of that superior)
1153                                                 if (sup->Target_Date()<tdate) { // insulate from superior's target date
1154                                                         if (!pe->set_targetdate(tdate)) VOUT << "Unable to modify FIXED target date of ref.#" << e[i]->chars() << "->#" << pe->al.title << '\n';
1155                                                 } else {
1156                                                         // if pe in dilgroup and pe desired < e desired
1157                                                         // and relevance not 1.0 or unspecified then set locally
1158                                                         // else warn incompatibility for fully relevant dependency
1159                                                         if ((peg) && (petdate<tdate)) {
1160                                                                 if ((pe->relevance<1.0) && (pe->relevance!=DILSUPS_REL_UNSPECIFIED)) {
1161                                                                         // set locally, because superior will be set to earlier
1162                                                                         if (!pe->set_targetdate(tdate)) VOUT << "Unable to modify FIXED target date of ref.#" << e[i]->chars() << "->#" << pe->al.title << '\n';
1163                                                                         continue;
1164                                                                 } else EOUT << "dil2al: Warning - earlier target date requested for superior with ID #" << pe->al.title << " than for dependency with ID # " << e[i]->chars() << " in modify_DIL_group_target_dates(), continuing\n";
1165                                                         }
1166                                                         // if pe is last superior and Target_Date() is still
1167                                                         // > desired then set locally
1168                                                         if (!pe->Next()) if (did->Target_Date()>tdate) {
1169                                                                 if (!pe->set_targetdate(tdate)) VOUT << "Unable to modify FIXED target date of ref.#" << e[i]->chars() << "->#" << pe->al.title << '\n';
1170                                                         }
1171                                                 }
1172                                         }
1173                                 }
1174                         } else if (tdate>=0) { // unless setting to unspecified, make a self-reference
1175                                 // *** Modify this if the data format changes
1176                                 if (!did->parameters) did->parameters = new DIL_entry_parameters(*did);
1177                                 did->parameters->project_append(idfile+'#'+did->chars(),did->chars(),DILSUPS_REL_UNSPECIFIED,DILSUPS_UNB_UNSPECIFIED,DILSUPS_BND_UNSPECIFIED,tdate,0,DILSUPS_URG_UNSPECIFIED,DILSUPS_PRI_UNSPECIFIED);
1178                         }
1179                 }
1180                 // Double-check to insure that target dates are detected as requested
1181                 for (int i = dilgroup.list.length()-1; i>=0; i--) if ((tdate=e[i]->Local_Target_Date(0))>=0) { // iterate through dilgroup members
1182                         did = de->elbyid(*(e[i]));
1183                         if (did->Target_Date()!=tdate) {
1184 #ifdef DEBUG_REPORT_DEVIATIONS
1185                                 tdmodifdeviations++; // useful when testing functional or rule-based approach above
1186 #endif
1187                                 if (did->Projects(0)) {
1188                                         if (did->Target_Date()>tdate) {
1189                                                 if (!did->Projects(0)->set_targetdate(tdate)) VOUT << "Unable to modify FIXED target date of ref.#" << e[i]->chars() << "->#" << did->Projects(0)->al.title << '\n';
1190                                                 else VOUT << "Forcing target date adjustment at DIL entry #" << did->chars() << " superior reference " << did->Projects(0)->al.title << '\n';
1191                                         } else PLL_LOOP_FORWARD_NESTED(DIL_Superiors,did->Projects(0),1,pe) { // iterate through corresponding dilist member superiors
1192                                                 if (pe->targetdate() < tdate) {
1193                                                         if (!pe->set_targetdate(tdate)) VOUT << "Unable to modify FIXED target date of ref.#" << e[i]->chars() << "->#" << pe->al.title << '\n';
1194                                                         else VOUT << "Forcing target date adjustment at DIL entry #" << did->chars() << " superior reference " << pe->al.title << '\n';
1195                                                 }
1196                                         }
1197                                 }
1198                         }
1199                 }
1200                 // Final test of detected target dates achieved
1201                 for (int i = dilgroup.list.length()-1; i>=0; i--) if ((tdate=e[i]->Local_Target_Date(0))>=0) // iterate through dilgroup members
1202                         if (de->elbyid(*(e[i]))->Target_Date()!=tdate) EOUT << "dil2al: Unable to set target date for DIL#" << did->chars() << " in modify_DIL_group_target_dates(), continuing as is\n";
1203                 delete[] e;
1204         } else PLL_LOOP_FORWARD(DIL_entry,dilgroup.list.head(),1) { // modify target dates directly
1205                 tdate = e->Local_Target_Date(0); // not using Target_Date() to insure -1 and -2 codes are detected
1206                 if (tdate>=-1) if (!modify_DIL_entry_target_date(*e,tdate,dilist)) return false;
1207         }
1208 #ifdef DEBUGTIER2
1209         int i = 0;
1210         PLL_LOOP_FORWARD(DIL_entry,dilist.list.head(),1) {
1211                 if (e->Local_Target_Date(0)!=oldtargetdate[i]) cout << "dil2al: [DEBUGTIER2] Changed DIL entry #" << e->chars() << ", old=" << oldtargetdate[i] << " (" << time_stamp("%Y%m%d%H%M",oldtargetdate[i]) << "), new=" << e->Local_Target_Date(0) << " (" << time_stamp("%Y%m%d%H%M",e->Local_Target_Date(0)) << ") TD=" << time_stamp("%Y%m%d%H%M",e->Target_Date()) << '\n';
1212                 i++;
1213         }
1214         delete[] oldtargetdate;
1215 #endif
1216 #ifdef DEBUG_REPORT_DEVIATIONS
1217         EOUT << "dil2al: [DEBUG_REPORT_DEVIATIONS] Target Date Modification Deviations = " << tdmodifdeviations << '\n';
1218 #endif
1219 #ifdef DEBUG
1220         bool res = dilist.Write_to_File();
1221         if (res) EOUT << "Modified DIL group target dates and stored to DIL ID file\n";
1222         return res;
1223 #else
1224         return dilist.Write_to_File();
1225 #endif
1226 /*
1227 An alternative approach
1228 -----------------------
1229 Note that the concept below needs to be worked out for the case of muiltiple
1230 superiors at each level, i.e. when tracking through the superiors structure,
1231 all path possibilities must be marked/remembered, instead of just using pe as
1232 a roadblock. Due to this, and the depth-search itself, it is unclear if this
1233 functional approach is more or less efficient than the rule-based one. It also
1234 remains to be seen if this approach follows all the same rules as the rule-based
1235 approach.
1236 
1237 From furthest TD to nearest TD in list of DIL entries:
1238 
1239 isgroupsuperior()
1240         if (!pe) return false;
1241         e = dilgroup.list.head()->elbyid(*pe);
1242         if (!e) return false;
1243         if (e->Target_Date()!=tdate) return false;
1244         return true;
1245 
1246 while Target_Date()!=tdate
1247         pe = NULL
1248         while (!isgroupsuperior(pe)) pe = Target_Date_Specified(pe);
1249         if (pe->Projects(0)) pe->Projects(0)->_targetdate = tdate;
1250         else pe->parameters->add_project(...,tdate,...);
1251 */
1252 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!modify_DIL_group_target_dates_cmd@{modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd}}
\index{modify_DIL_group_target_dates_cmd@{modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd (bool {\em minfragmentation}, {\bf String\-List} $\ast$ {\em qlist} = NULL)}\label{dil2al_8hh_a309}




Definition at line 1254 of file diladmin.cc.

References ANSI\_\-BOLD\_\-OFF, ANSI\_\-BOLD\_\-ON, ANSI\_\-UNDERLINE\_\-OFF, ANSI\_\-UNDERLINE\_\-ON, String::at(), String::before(), DIL\_\-ID::chars(), DILSUPS\_\-BND\_\-UNSPECIFIED, DILSUPS\_\-PRI\_\-UNSPECIFIED, DILSUPS\_\-REL\_\-UNSPECIFIED, DILSUPS\_\-UNB\_\-UNSPECIFIED, DILSUPS\_\-URG\_\-UNSPECIFIED, DIN, PLLRoot$<$ DIL\_\-entry $>$::el(), String::gsub(), String::index(), String::length(), String\-List::length(), PLLRoot$<$ DIL\_\-entry $>$::link\_\-before(), Detailed\_\-Items\_\-List::list, DIL\_\-entry::Local\_\-Target\_\-Date(), modify\_\-DIL\_\-group\_\-target\_\-dates(), DIL\_\-entry::parameters, DIL\_\-entry\_\-parameters::project\_\-append(), read\_\-data\_\-from\_\-stream(), RX\_\-Search\_\-Safe(), Big\-Regex::sublen(), Big\-Regex::subpos(), time\_\-stamp(), time\_\-stamp\_\-time(), and VOUT.

Referenced by Detect\_\-Form\_\-Input(), and Modify\_\-Element().



\footnotesize\begin{verbatim}1254                                                                                          {
1255 // Command line interface to modify_DIL_group_target_dates().
1256 // Reads pairs of DIL entry IDs and desired target dates (with
1257 // optional -2 code to indicate no target date modification, and
1258 // -1 to unspecify local target date parameters).
1259 // Data is read from the DIN stream.
1260 // If qlist is not NULL then HTML form data is obtained from qlist.
1261         const BigRegex td("^TD\\([0-9]+[.][0-9]+\\)=");
1262         const BigRegex tdchkbx("^TDCHKBX\\([0-9]+[.][0-9]+\\)=");
1263         const BigRegex pairsep("[ \t,:;]+");
1264         const BigRegex nonnumerals("[^-0-9]");
1265         String modifdata;
1266         if (qlist) { // HTML form interface
1267                 StringList exclude; int excludenum = 0;
1268                 int qnum = qlist->length()-1; // *** empty element at end of StringList
1269                 for (int i = 0; i<qnum; i++) {
1270                 // *** Beware: This code assumes that DIL entry IDs do not
1271                 //     occur as subsets of other DIL entry IDs, i.e. it
1272                 //     assumes that a move to IDs with more digits would imply
1273                 //     prepending older IDs with 0s. This could of course be
1274                 //     handled by a preprocessing loop.
1275 #ifdef DEBUGTIER2
1276                         cout << '$' << (*qlist)[i] << '\n';
1277 #endif
1278                         if ((*qlist)[i].contains("TDupdate=")) {
1279                                 if ((*qlist)[i].after('=')=="direct") minfragmentation = false;
1280                                 else minfragmentation = true;
1281                         } else if ((*qlist)[i].contains(td)) {
1282                                 modifdata += (*qlist)[i].at(td.subpos(1),td.sublen(1)) + ' ';
1283                                 String tdstr = (*qlist)[i].after('='); if (tdstr.length()==0) tdstr = "-2";
1284                                 modifdata += tdstr + '\n';
1285                         } else if ((*qlist)[i].contains(tdchkbx)) {
1286                                 String chkbxid = (*qlist)[i].at(tdchkbx.subpos(1),tdchkbx.sublen(1));
1287                                 String tdstr = (*qlist)[i].after('=');
1288                                 if (tdstr=="noupdate") { // set corresponding desired target date to code -2
1289                                         exclude[excludenum] = chkbxid;
1290                                         excludenum++;
1291                                 }
1292                         }
1293                 }
1294                 for (int i = 0; i<excludenum; i++) modifdata.gsub(BigRegex(RX_Search_Safe(exclude[i])+" [-0-9]*"),exclude[i]+" -2");
1295         } else {
1296                 if (useansi) VOUT << ANSI_BOLD_ON;
1297                 VOUT << "Enter group of DIL entries to consider for target date modification.\n";
1298                 if (useansi) VOUT << ANSI_BOLD_OFF;
1299                 VOUT << "Rows of DIL entry ID and desired target date pairs.\n\
1300 Special desired target date codes:\n\
1301 -1 = set to `unspecified', -2 = no desired target date (but modifiable).\n\
1302 Separate pairs with any number of spaces, tabs, commas, colons or semicolons.\n\
1303 End of File (Ctrl+D) or a line stating `EOF' completes data entry.\n\n";
1304                 if (useansi) VOUT << ANSI_UNDERLINE_ON;
1305                 VOUT << "DIL entry ID#\tdesired target date\n";
1306                 if (useansi) VOUT << ANSI_UNDERLINE_OFF;
1307                 read_data_from_stream(DIN,modifdata,"EOF");
1308         }
1309         StringList modiflist(modifdata,'\n');
1310         int groupsize = modiflist.length()-1; // *** last entry empty when initializing from string with separator
1311         Detailed_Items_List dilgroup; DIL_entry * de; String did; time_t tdate;
1312 #ifdef DEBUGTIER2
1313         cout << "Content-Type: text/plain\n\ndil2al: [DEBUGTIER2]\n";
1314         for (int j=0; j<groupsize; j++) {
1315                 String & s = modiflist[j];
1316                 cout << s << '\n';
1317         }
1318         cout << "+++\n";
1319 #endif
1320         for (int i=0; i<groupsize; i++) {
1321                 did = modiflist[i].after(pairsep); if (did.index(nonnumerals)>=0) did = did.before(nonnumerals);
1322                 tdate = time_stamp_time(did);
1323                 did = modiflist[i].before(pairsep);
1324                 de = new DIL_entry(dilgroup,did);
1325                 de->parameters = new DIL_entry_parameters(*de);
1326                 de->parameters->project_append('#'+did,did,DILSUPS_REL_UNSPECIFIED,DILSUPS_UNB_UNSPECIFIED,DILSUPS_BND_UNSPECIFIED,tdate,0,DILSUPS_URG_UNSPECIFIED,DILSUPS_PRI_UNSPECIFIED);
1327                 dilgroup.list.link_before(de);
1328         }
1329 #ifdef DEBUGTIER1
1330         if (minfragmentation) cout << "dil2al: [DEBUGTIER1] Minimum fragmentation\n"; else cout << "dil2al: [DEBUGTIER1] Direct\n";
1331 #endif
1332 #ifdef DEBUGTIER2
1333         for (int i=0; i<groupsize; i++) {
1334                 cout << "dil2al: [DEBUGTIER2] " << dilgroup.list.el(i)->chars() << '\t';
1335                 if (dilgroup.list.el(i)->Local_Target_Date(0)<0) cout << dilgroup.list.el(i)->Local_Target_Date(0) << '\n';
1336                 else cout << time_stamp("%Y%m%d%H%M",dilgroup.list.el(i)->Local_Target_Date(0)) << '\n';
1337         }
1338 #endif
1339         return modify_DIL_group_target_dates(dilgroup,minfragmentation);
1340 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!modify_element_through_FORM_interface@{modify\_\-element\_\-through\_\-FORM\_\-interface}}
\index{modify_element_through_FORM_interface@{modify\_\-element\_\-through\_\-FORM\_\-interface}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool modify\_\-element\_\-through\_\-FORM\_\-interface ({\bf String\-List} $\ast$ {\em qlist} = NULL)}\label{dil2al_8hh_a303}




Definition at line 776 of file diladmin.cc.

References absurl(), DIL\_\-ID::chars(), String\-List::contains(), DIL2AL\_\-CONDITIONAL\_\-ERROR\_\-RETURN, DIL\_\-Superiors, DIL\_\-entry::elbyid(), Detailed\_\-Items\_\-List::Get\_\-All\_\-DIL\_\-ID\_\-File\_\-Parameters(), get\_\-double(), String\-List::get\_\-Next(), String::gsub(), PLLRoot$<$ DIL\_\-entry $>$::head(), String\-List::length(), PLLRoot$<$ PLLType $>$::link\_\-before(), Detailed\_\-Items\_\-List::list, String\-List::List\_\-Index(), modify\_\-element\_\-through\_\-FORM\_\-interface\_\-DIL\_\-Superiors(), DIL\_\-entry::Projects(), read\_\-file\_\-into\_\-String(), DIL\_\-ID::str(), update\_\-DIL\_\-entry\_\-elements(), update\_\-DIL\_\-entry\_\-parameter\_\-elements(), DIL\_\-ID::valid(), and VOUT.

Referenced by Detect\_\-Form\_\-Input().



\footnotesize\begin{verbatim}776                                                                       {
777 // receives information about element modifications in a DIL entry through
778 // an HTML FORM interface. The DIL entry is given by a DILID variable in qlist.
779   if (!qlist) return false;
780   // for (int i = 0; i<qlist->length(); i++) VOUT << (*qlist)[i] << '\n';
781   int dilididx = qlist->contains("DILID");
782   if (dilididx<0) return false;
783   DIL_ID dilid((*qlist)[dilididx].after('='));
784   if (!dilid.valid()) return false;
785   // content modifications
786   double valuation = 0.0, completion = 0.0, required = 0.0;
787   bool updateval = false, updatecomp = false, updatereq = false;
788   String valstr;
789   if ((dilididx=qlist->contains("valuation="))>=0) valuation=get_double((*qlist)[dilididx].after('='),valuation,&updateval); // modify valuation
790   if ((dilididx=qlist->contains("completion="))>=0) completion=get_double((*qlist)[dilididx].after('='),completion,&updatecomp); // modify completion ratio
791   if ((dilididx=qlist->contains("required="))>=0) required=get_double((*qlist)[dilididx].after('='),required,&updatereq); // modify time required
792   if (updateval || updatecomp || updatereq) {
793     if (!update_DIL_entry_elements(dilid.chars(),valuation,updateval,completion,updatecomp,required,updatereq)) {
794       VOUT << "Unable to modify content elements of DIL entry\n";
795       return false;
796     }
797     return true;
798   }
799   // parameters modifications
800   Detailed_Items_List dilist; int entrynum;
801   DIL2AL_CONDITIONAL_ERROR_RETURN((entrynum=dilist.Get_All_DIL_ID_File_Parameters())<=0,"No DIL entries found in "+idfile+" in modify_element_through_FORM_interface()\n");
802   DIL_entry * de;
803   DIL2AL_CONDITIONAL_ERROR_RETURN(!(de = dilist.list.head()->elbyid(dilid)),"The DIL entry "+dilid.str()+" does not appear to exist in modify_element_through_FORM_interface()\n");
804   PLLRoot<DIL_Superiors> addsups;
805   // detect add
806   if ((dilididx=qlist->contains("dilrefsups="))>=0) { // add superiors specified in dilref
807     String dilrefsupstr;
808     if (!read_file_into_String(dilref,dilrefsupstr,false)) VOUT << "No superior DIL entries in " << dilref << " for possible addition.\n";
809     else {
810       dilrefsupstr.gsub(BigRegex("Current[^f]*file..."),"");
811       StringList dilrefsups(dilrefsupstr,'\n'); String supid;
812       for (int i=0; i<dilrefsups.length(); i++) {
813         supid = dilrefsups[i].after('#');
814         DIL_ID did(supid);
815         if (did.valid()) {
816           DIL_entry * sup = dilist.list.head()->elbyid(did);
817           if (sup) {
818             DIL_Superiors * dilsup = new DIL_Superiors(*de);
819             dilsup->al.title = supid;
820             dilsup->al.file = absurl(idfile,'#'+supid);
821             modify_element_through_FORM_interface_DIL_Superiors(dilididx,qlist,supid,dilsup);
822             addsups.link_before(dilsup);
823             continue;
824           }
825         }
826         VOUT << supid << "does not appear to be a valid reference!\n";
827       }
828     }
829   }
830   // detect remove
831   StringList removesups; int removesupsnum = 0;
832   for (StringList * qlistptr = qlist->List_Index(qlist->contains("suprm=")); (qlistptr); ) {
833     removesups[removesupsnum] = (*qlistptr)[0].after('=');
834     if (removesups[removesupsnum].contains('=')) removesups[removesupsnum] = removesups[removesupsnum].before('=');
835     removesupsnum++;
836     if (!(qlistptr=qlistptr->get_Next())) break;
837     qlistptr = qlistptr->List_Index(qlistptr->contains("suprm="));
838   }
839   // detect modify
840   for (DIL_Superiors * dilsup = de->Projects(0); dilsup; dilsup = dilsup->Next())
841     modify_element_through_FORM_interface_DIL_Superiors(dilididx,qlist,dilsup->al.title,dilsup);
842   if (!update_DIL_entry_parameter_elements(dilist,dilid,addsups,&removesups,removesupsnum)) {
843     VOUT << "Unable to modify parameter elements of DIL entry\n";
844     return false;
845   }
846   return true;
847 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!pattern_in_line@{pattern\_\-in\_\-line}}
\index{pattern_in_line@{pattern\_\-in\_\-line}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool pattern\_\-in\_\-line (const char $\ast$ {\em pattern}, char $\ast$ {\em lbuf})}\label{dil2al_8hh_a243}




Definition at line 2164 of file utilities.cc.

References EOUT.

Referenced by add\_\-new\_\-to\_\-DIL(), get\_\-active\_\-DIL\_\-IDs(), Topical\_\-DIL\_\-Files::Refresh(), and Set\_\-Parameter().



\footnotesize\begin{verbatim}2164                                                         {
2165         regex_t re;
2166         int mres;
2167         if (regcomp(&re,pattern, REG_EXTENDED|REG_NOSUB) != 0) {
2168                 EOUT << "dil2al: Unable to compile regular expression in pattern_in_line()\n";
2169                 return false;
2170         }
2171         mres = regexec(&re,lbuf, (size_t) 0, NULL, 0);
2172         regfree(&re);
2173         if ((mres != 0) && (mres != REG_NOMATCH)) {
2174                 EOUT << "dil2al: Internal error while matching in pattern_in_line()\n";
2175                 return false;
2176         }
2177         return (mres==0);
2178 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!post_process_note@{post\_\-process\_\-note}}
\index{post_process_note@{post\_\-process\_\-note}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int post\_\-process\_\-note ({\bf String} {\em notedst}, {\bf String} \& {\em notestr}, {\bf String} \& {\em notedststr}, int {\em insertindex}, bool {\em isnew})}\label{dil2al_8hh_a331}




Definition at line 66 of file note.cc.

References String::at(), String::length(), and write\_\-file\_\-from\_\-String().

Referenced by process\_\-note\_\-CC(), process\_\-note\_\-generic(), process\_\-note\_\-HTML(), and process\_\-note\_\-Te\-X().



\footnotesize\begin{verbatim}66                                                                                                           {
67         // insert note into notedst
68         if (insertindex>=0) {
69                 String c = notedststr.at(insertindex,1);
70                 notedststr.at(insertindex,1) = notestr+c;
71         } else {
72                 insertindex = notedststr.length();
73                 notedststr += notestr;
74         }
75         // store and backup
76         if (!write_file_from_String(notedst,notedststr,"Note destination",isnew)) return -1;
77         return insertindex;
78 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!pre_process_note@{pre\_\-process\_\-note}}
\index{pre_process_note@{pre\_\-process\_\-note}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int pre\_\-process\_\-note ({\bf String} {\em notefile}, {\bf String} {\em notedst}, {\bf String} {\em typestr}, {\bf String} \& {\em notestr}, {\bf String} \& {\em notedststr}, bool \& {\em isnew})}\label{dil2al_8hh_a330}




Definition at line 53 of file note.cc.

References process\_\-HTML(), read\_\-file\_\-into\_\-String(), and VOUT.

Referenced by process\_\-note\_\-CC(), process\_\-note\_\-generic(), process\_\-note\_\-HTML(), process\_\-note\_\-Te\-X(), and process\_\-note\_\-TL().



\footnotesize\begin{verbatim}53                                                                                                                            {
54         if (!read_file_into_String(notefile,notestr)) return -1;
55         if (notestr=="") { // if note is empty, don't do anything, but return true
56                 if (verbose) VOUT << "Note is empty, no change\n";
57                 return 0;
58         }
59         if (verbose) VOUT << "Processing destination file as " << typestr << '\n';
60         process_HTML(notestr);
61         // read note destination into memory
62         if (!read_file_into_String(isnew,notedst,notedststr)) return -1;
63         return 1;
64 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!prepare_temporary_file@{prepare\_\-temporary\_\-file}}
\index{prepare_temporary_file@{prepare\_\-temporary\_\-file}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool prepare\_\-temporary\_\-file ({\bf String} {\em tmpfile}, {\bf String} {\em initstr})}\label{dil2al_8hh_a233}




Definition at line 1997 of file utilities.cc.

References EOUT.

Referenced by Lock\_\-File(), and make\_\-note().



\footnotesize\begin{verbatim}1997                                                             {
1998 // Can be used to create temporary files (e.g. the dilref or,
1999 // note or DIL entry stubs), and automatically back up the
2000 // previous file if it exists. The stub is filled with the
2001 // content of initstr and closed.
2002         if (rename(tmpfile,tmpfile+".bak")<0) if (errno!=ENOENT) {
2003                 EOUT << "dil2al: Unable to rename " << tmpfile << " to " << tmpfile+".bak in prepare_temporary_file()\n";
2004                 return false;
2005         }
2006         ofstream ntf(tmpfile);
2007         if (!ntf) {
2008                 EOUT << "dil2al: Unable to create temporary file " << tmpfile << " in prepare_temporary_file()\n";
2009                 return false;
2010         }
2011         if (initstr!="") ntf << initstr;
2012         ntf.close();
2013         return true;
2014 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!process_HTML@{process\_\-HTML}}
\index{process_HTML@{process\_\-HTML}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void process\_\-HTML ({\bf String} \& {\em notestr})}\label{dil2al_8hh_a329}




Definition at line 6 of file note.cc.

References String::after(), String::at(), String::before(), String::contains(), EOUT, String::gsub(), String::index(), and String::length().

Referenced by pre\_\-process\_\-note(), and process\_\-note\_\-TL().



\footnotesize\begin{verbatim}6                                     {
7 // Process note shorthand codes to HTML and fill in @tags@
8         // line breaks
9         notestr.gsub("\n","<BR>\n");
10         // paragraphs
11         notestr.gsub(BigRegex("<BR>\n\\(<BR>\n\\)+"),"\n<P>\n");
12         // lists with `-' or `*' item indicators
13         notestr.gsub(BigRegex("^[       ]*-[    ]+"),"<LI>");
14         int lstart, lend;
15         while ((lstart=notestr.index(BigRegex("^[       ]*[*][  ]+")))>=0) {
16                 notestr.at(BigRegex("^[         ]*[*][  ]+"),lstart)="<UL>\n<LI>";
17                 while ((lend=notestr.index("\n",lstart))>=0) {
18                         lstart = lend+1;
19                         if (notestr.contains(BigRegex("\n\\([   ]+[^    ]+\\|[  ]*[*][  ]+\\)"),lend)) {
20                                 notestr.at(BigRegex("\n[        ]*[*][  ]+"),lend) = "\n<LI>";
21                         } else break;
22                 }
23                 if (lend<0) { lend = notestr.length(); notestr += "\n"; }
24                 notestr.at("\n",lend) = "\n</UL>\n";
25         }
26         // note that HTML references are already correct
27         // tag definitions
28         // NOVELTY tags
29         int novcount = 0;
30         lstart = -1;
31         while ((lstart=notestr.index("@NOV@",lstart+1))>=0) {
32                 if ((lend=notestr.index("@/NOV@",lstart))>=0) {
33                         String tmp1,tmp2;
34                         novcount++;
35                         tmp1 = notestr.at(lstart+5,lend-(lstart+4));
36                         tmp2 = notestr.after(lend+6);
37                         notestr = notestr.before(lstart) + "<A NAME=\"NOVELTY-"+((curtime+'-')+dec(novcount))+"\">[<B>N</B>]</A> "
38                                         + tmp1 + "<!-- @NOVELTY-"+((curtime+'-')+dec(novcount))+"@ -->" + tmp2;
39                 } else EOUT << "dil2al: @NOV@ without matching @/NOV@ in process_HTML(), continuing as is\n";
40         }
41 //*** add code here to replace @tags@ and tags defined in the configuration file
42         // clean up
43         notestr.gsub("<BR><BR>","<BR>");
44         notestr.gsub("<BR><P>","<P>");
45         notestr.gsub("<P><BR>","<P>");
46         notestr.gsub("<BR>\n<P>","\n<P>");
47         notestr.gsub("<P>\n<P>","<P>");
48         notestr.gsub("<BR>\n<UL>","\n<UL>");
49         notestr.gsub("<BR>\n<LI>","\n<LI>");
50         notestr.gsub("<BR>\n</UL>","\n</UL>");
51 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!process_note@{process\_\-note}}
\index{process_note@{process\_\-note}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool process\_\-note ({\bf String} {\em notefile}, {\bf String} {\em notedst})}\label{dil2al_8hh_a337}




Definition at line 330 of file note.cc.

References EOUT, get\_\-TL\_\-head(), String::gsub(), String::matches(), process\_\-note\_\-CC(), process\_\-note\_\-generic(), process\_\-note\_\-HTML(), process\_\-note\_\-Te\-X(), process\_\-note\_\-TL(), res, and UNIE\_\-ASK.

Referenced by make\_\-note().



\footnotesize\begin{verbatim}330                                                    {
331         const int LLEN = 10240;
332         char lbuf[LLEN];
333         // determine destination file type
334         int filetype = 0; // generic type
335         if (notedst==tasklog) {
336                 filetype = 1; // Task Log type
337                 if ((notedst = get_TL_head())=="") return false;
338         } else if (notedst.matches(BigRegex(".*[.][Hh][Tt][Mm][Ll]?\\([---_.].*\\)?"))) filetype = 2; // HTML type
339         else if (notedst.matches(BigRegex(".*[.][Tt][Ee][Xx]\\([---_.].*\\)?"))) filetype = 3; // TeX type
340         else if (notedst.matches(BigRegex(".*[.]\\([Cc][Cc]|[Hh][Hh]\\)\\([---_.].*\\)?"))) filetype = 4; // C++ type
341         else if (askprocesstype) {
342                 filetype = -1;
343                 while ((filetype<0) || (filetype>4)) {
344                         cout << "Destination file type (0=generic,1=Task Log,2=HTML,3=TeX,4=C++): ";
345                         cin.getline(lbuf,LLEN);
346                         String ftstr = lbuf;
347                         if (ftstr.matches(BRXint)) filetype = atoi((const char *) ftstr);
348                 }
349         }
350         // process and insert note in destination file
351         int res;
352         switch (filetype) {
353                 case 0: res=process_note_generic(notefile,notedst); break;
354                 case 1: res=process_note_TL(notefile,notedst); break;
355                 case 2: res=process_note_HTML(notefile,notedst); break;
356                 case 3: res=process_note_TeX(notefile,notedst); break;
357                 case 4: res=process_note_CC(notefile,notedst); break;
358                 default: {
359                                 EOUT << "dil2al: Unknown destination file type in process_note()\n";
360                                 return false;
361                         }
362         }
363         if (res<0) {
364                 EOUT << "dil2al: Unable to process destination file in process_note()\n";
365                 return false;
366         }
367         // update and open notedst in an editor
368         bool updateineditor = updatenoteineditor;
369         if (updateineditor==UNIE_ASK) {
370                 cout << "\nUpdate and open " << notedst << " in editor? (Y/n) ";
371                 cin.getline(lbuf,LLEN);
372                 updateineditor = (!((lbuf[0]=='n') || (lbuf[0]=='N')));
373         }
374         if (updateineditor) {
375                 String uniecmd = updatenoteineditorcmd;
376                 uniecmd.gsub("@res@",dec(res));
377                 if (filetype==1) notedst=tasklog; // revert to symbolic link in case new Task Log section was added
378                 uniecmd.gsub("@notedst@",notedst);
379                 if (system(uniecmd)<0) EOUT << "dil2al: Unable to update and open " << notedst << " in editor in process_note(), continuing\n";
380         }
381         return true;
382 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!process_note_CC@{process\_\-note\_\-CC}}
\index{process_note_CC@{process\_\-note\_\-CC}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int process\_\-note\_\-CC ({\bf String} {\em notefile}, {\bf String} {\em notedst})}\label{dil2al_8hh_a335}




Definition at line 220 of file note.cc.

References String::after(), String::at(), String::before(), String::gsub(), String::index(), String::length(), post\_\-process\_\-note(), pre\_\-process\_\-note(), res, and VOUT.

Referenced by process\_\-note().



\footnotesize\begin{verbatim}220                                                      {
221         String notestr, notedststr; bool isnew; int res;
222         if ((res = pre_process_note(notefile,notedst,"C++",notestr,notedststr,isnew))<=0) return res;
223         // find a possible // <!-- @INSERT-AT:<tag>@ -->
224         int insertindex = -1;
225         String inserttag = notestr.at(BigRegex("[<]!--[         ]*@INSERT-AT:[^@]+@[    ]*--[>]"));
226         if (inserttag!="") {
227                 inserttag = inserttag.after("INSERT-AT:");
228                 inserttag = inserttag.before("@",-1);
229                 insertindex = notedststr.index(BigRegex("//[\n]*[<]!--[         ]*@"+inserttag+"@[      ]*--[>]"));
230         }
231         // find a possible // <!-- @INSERT-TL-NOTE@ -->
232         if (insertindex<0) insertindex = notedststr.index(BigRegex("//[\n]*[<]!--[      ]*@INSERT-TL-NOTE@[     ]*--[>]"));
233         if ((insertindex<0) && (verbose))  VOUT << "No specific insertion location in " << notedst << ", appending note to end\n";
234         // convert to C++
235         notestr.gsub(BigRegex("[<][Bb][Rr][     ]*[^>][>]\n?"),"\n"); // <BR>
236         notestr.gsub(BigRegex("\n?[<][Pp][      ]*[^>]*[>]\n?"),"\n\n"); // <P>
237         notestr.gsub(BigRegex("[<][Uu][Ll][     ]*[^>]*[>]"),""); // <UL>
238         notestr.gsub(BigRegex("[<]/[Uu][Ll][    ]*[^>]*[>]"),""); // </UL>
239         notestr.gsub(BigRegex("[<][Oo][Ll][     ]*[^>]*[>]"),""); // <OL>
240         notestr.gsub(BigRegex("[<]/[Oo][Ll][    ]*[^>]*[>]"),""); // </OL>
241         notestr.gsub(BigRegex("[<][Ll][Ii][     ]*[^>]*[>]"),"- "); // <LI>
242         // <A HREF="http://the-reference-url/">the-reference-text</A>
243         // <A NAME="the-reference-name-tag">the-reference-anchor</A>
244         int i = 0, j = 0, k;
245         while (i>=0) {
246                 i = notestr.index(BigRegex("[<][Aa][    ]+[^>]*\\([Hh][Rr][Ee][Ff]\\|[Nn][Aa][Mm][Ee]\\)[       ]*=[    ]*[^>]*[>].*[<]/[Aa][   ]*[^>]*[>]"),j);
247                 if (i>=0) {
248                         j = notestr.index(BigRegex("//[^\n]*"),i-notestr.length()); // check if already // commented
249                         if (j<0) {
250                                 j = notestr.index("/*",i-notestr.length());
251                                 if (j>=0) {
252                                         k = notestr.index("*/",i-notestr.length());
253                                         if (k>j) j = -1;
254                                 }
255                         }
256                         if (j<0) {
257                                 j = notestr.index(BigRegex("[<]/[Aa][   ]*[^>]*[>]"),i);
258                                 j = notestr.index(">",j);
259                                 String tmpstr = "/* "+notestr.at(i,(j-i)+1)+" */"+notestr.after(j);
260                                 notestr = notestr.before(i)+tmpstr;
261                                 //notestr.at(j,1) = "> */";
262                                 //notestr.at(i,1) = "/* <";
263                         }
264                 }
265         }
266         // other <...> tags
267         i = 0; j = 0;
268         while (i>=0) {
269                 i = notestr.index(BigRegex("[<][^>]*[>]"),j);
270                 if (i>=0) {
271                         j = notestr.index(BigRegex("//[^\n]*"),i-notestr.length()); // check if already // commented
272                         if (j<0) {
273                                 j = notestr.index("/*",i-notestr.length());
274                                 if (j>=0) {
275                                         k = notestr.index("*/",i-notestr.length());
276                                         if (k>j) j = -1;
277                                 }
278                         }
279                         if (j<0) { // convert tag to comment
280                                 j = notestr.index(">",i);
281                                 String tmpstr = "/* "+notestr.at(i,(j-i)+1)+" */"+notestr.after(j);
282                                 notestr = notestr.before(i)+tmpstr;
283                                 //notestr.at(j,1) = "> */";
284                                 //notestr.at(i,1) = "/* <";
285                         }
286                 }
287         }
288         notestr.gsub("&lt;","<"); // &lt;
289         notestr.gsub("&gt;",">"); // &gt;
290         notestr.gsub("&amp;","&"); // &amp;
291         notestr.gsub("&nbsp;"," "); // &nbsp;
292         // clean up
293         notestr.gsub(BigRegex("[        ]+\n"),"\n");
294         // insert note into notedst
295         return post_process_note(notedst,notestr,notedststr,insertindex,isnew);
296 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!process_note_generic@{process\_\-note\_\-generic}}
\index{process_note_generic@{process\_\-note\_\-generic}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int process\_\-note\_\-generic ({\bf String} {\em notefile}, {\bf String} {\em notedst})}\label{dil2al_8hh_a336}




Definition at line 298 of file note.cc.

References String::after(), String::at(), String::before(), String::gsub(), String::index(), post\_\-process\_\-note(), pre\_\-process\_\-note(), res, and VOUT.

Referenced by process\_\-note().



\footnotesize\begin{verbatim}298                                                           {
299         String notestr, notedststr; bool isnew; int res;
300         if ((res = pre_process_note(notefile,notedst,"generic text",notestr,notedststr,isnew))<=0) return res;
301         // find a possible <!-- @INSERT-AT:<tag>@ -->
302         int insertindex = -1;
303         String inserttag = notestr.at(BigRegex("[<]!--[         ]*@INSERT-AT:[^@]+@[    ]*--[>]"));
304         if (inserttag!="") {
305                 inserttag = inserttag.after("INSERT-AT:");
306                 inserttag = inserttag.before("@",-1);
307                 insertindex = notedststr.index(BigRegex("[<]!--[        ]*@"+inserttag+"@[      ]*--[>]"));
308         }
309         // find a possible <!-- @INSERT-TL-NOTE@ -->
310         if (insertindex<0) insertindex = notedststr.index(BigRegex("[<]!--[     ]*@INSERT-TL-NOTE@[     ]*--[>]"));
311         if ((insertindex<0) && (verbose))  VOUT << "No specific insertion location in " << notedst << ", appending note to end\n";
312         // convert to generic text
313         notestr.gsub(BigRegex("[<][Bb][Rr][     ]*[^>][>]\n?"),"\n"); // <BR>
314         notestr.gsub(BigRegex("\n?[<][Pp][      ]*[^>]*[>]\n?"),"\n\n"); // <P>
315         notestr.gsub(BigRegex("[<][Uu][Ll][     ]*[^>]*[>]"),""); // <UL>
316         notestr.gsub(BigRegex("[<]/[Uu][Ll][    ]*[^>]*[>]"),""); // </UL>
317         notestr.gsub(BigRegex("[<][Oo][Ll][     ]*[^>]*[>]"),""); // <OL>
318         notestr.gsub(BigRegex("[<]/[Oo][Ll][    ]*[^>]*[>]"),""); // </OL>
319         notestr.gsub(BigRegex("[<][Ll][Ii][     ]*[^>]*[>]"),"- "); // <LI>
320         notestr.gsub("&lt;","<"); // &lt;
321         notestr.gsub("&gt;",">"); // &gt;
322         notestr.gsub("&amp;","&"); // &amp;
323         notestr.gsub("&nbsp;"," "); // &nbsp;
324         // clean up
325         notestr.gsub(BigRegex("[        ]+\n"),"\n");
326         // insert note into notedst
327         return post_process_note(notedst,notestr,notedststr,insertindex,isnew);
328 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!process_note_HTML@{process\_\-note\_\-HTML}}
\index{process_note_HTML@{process\_\-note\_\-HTML}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int process\_\-note\_\-HTML ({\bf String} {\em notefile}, {\bf String} {\em notedst})}\label{dil2al_8hh_a333}




Definition at line 108 of file note.cc.

References String::after(), String::at(), String::before(), EOUT, String::index(), post\_\-process\_\-note(), pre\_\-process\_\-note(), and res.

Referenced by process\_\-note().



\footnotesize\begin{verbatim}108                                                        {
109         String notestr, notedststr; bool isnew; int res;
110         if ((res = pre_process_note(notefile,notedst,"HTML",notestr,notedststr,isnew))<=0) return res;
111         // find a possible <!-- @INSERT-AT:<tag>@ -->
112         int insertindex = -1;
113         String inserttag = notestr.at(BigRegex("[<]!--[         ]*@INSERT-AT:[^@]+@[    ]*--[>]"));
114         if (inserttag!="") {
115                 inserttag = inserttag.after("INSERT-AT:");
116                 inserttag = inserttag.before("@",-1);
117                 insertindex = notedststr.index(BigRegex("[<]!--[        ]*@"+inserttag+"@[      ]*--[>]"));
118         }
119         // find a possible <!-- @INSERT-TL-NOTE@ -->
120         if (insertindex<0) insertindex = notedststr.index(BigRegex("[<]!--[     ]*@INSERT-TL-NOTE@[     ]*--[>]"));
121         // find </BODY>
122         if (insertindex<0) insertindex = notedststr.index("</BODY>");
123         if (insertindex<0) EOUT << "dil2al: Note destination " << notedst << " missing </BODY> tag, continuing\n";
124         // insert note into notedst
125         return post_process_note(notedst,notestr,notedststr,insertindex,isnew);
126 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!process_note_TeX@{process\_\-note\_\-TeX}}
\index{process_note_TeX@{process\_\-note\_\-TeX}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int process\_\-note\_\-Te\-X ({\bf String} {\em notefile}, {\bf String} {\em notedst})}\label{dil2al_8hh_a334}




Definition at line 128 of file note.cc.

References String::after(), String::at(), String::before(), EOUT, String::from(), String::gsub(), String::index(), post\_\-process\_\-note(), pre\_\-process\_\-note(), and res.

Referenced by process\_\-note().



\footnotesize\begin{verbatim}128                                                       {
129         String notestr, notedststr; bool isnew; int res;
130         if ((res = pre_process_note(notefile,notedst,"TeX",notestr,notedststr,isnew))<=0) return res;
131         // find a possible % <!-- @INSERT-AT:<tag>@ -->
132         int insertindex = -1;
133         String inserttag = notestr.at(BigRegex("[<]!--[         ]*@INSERT-AT:[^@]+@[    ]*--[>]"));
134         if (inserttag!="") {
135                 inserttag = inserttag.after("INSERT-AT:");
136                 inserttag = inserttag.before("@",-1);
137                 insertindex = notedststr.index(BigRegex("%[\n]*[<]!--[  ]*@"+inserttag+"@[      ]*--[>]"));
138         }
139         // find a possible % <!-- @INSERT-TL-NOTE@ -->
140         if (insertindex<0) insertindex = notedststr.index(BigRegex("%[\n]*[<]!--[       ]*@INSERT-TL-NOTE@[     ]*--[>]"));
141         // find \end{document}
142         if (insertindex<0) insertindex = notedststr.index("\\end{document}");
143         // find \endinput
144         if (insertindex<0) insertindex = notedststr.index("\\endinput");
145         if (insertindex<0) EOUT << "dil2al: Note destination " << notedst << " missing \\end{document} and \\endinput tags, continuing\n";
146         // convert to TeX
147         notestr.gsub(BigRegex("[<][Bb][Rr]\\([  ]+[^>][>]\\|[>]\\)"),"\\\\"); // <BR>
148         notestr.gsub(BigRegex("[<][Pp]\\([      ]+[^>]*[>]\\|[>]\\)"),"\n\n"); // <P>
149         notestr.gsub(BigRegex("[<][Uu][Ll]\\([  ]+[^>]*[>]\\|[>]\\)"),"\\begin{itemize}"); // <UL>
150         notestr.gsub(BigRegex("[<]/[Uu][Ll]\\([         ]+[^>]*[>]\\|[>]\\)"),"\\end{itemize}"); // </UL>
151         notestr.gsub(BigRegex("[<][Oo][Ll]\\([  ]+[^>]*[>]\\|[>]\\)"),"\\begin{enumerate}"); // <OL>
152         notestr.gsub(BigRegex("[<]/[Oo][Ll]\\([         ]+[^>]*[>]\\|[>]\\)"),"\\end{enumerate}"); // </OL>
153         notestr.gsub(BigRegex("[<][Ll][Ii]\\([  ]+[^>]*[>]\\|[>]\\)"),"\\item "); // <LI>
154         notestr.gsub(BigRegex("[<][Hh]1\\([     ]+[^>]*[>]\\|[>]\\)"),"\\section{"); // <H1>
155         notestr.gsub(BigRegex("[<][Hh]2\\([     ]+[^>]*[>]\\|[>]\\)"),"\\subsection{"); // <H2>
156         notestr.gsub(BigRegex("[<][Hh]3\\([     ]+[^>]*[>]\\|[>]\\)"),"\\subsubsection{"); // <H3>
157         notestr.gsub(BigRegex("[<][Hh]4\\([     ]+[^>]*[>]\\|[>]\\)"),"\\paragraph{"); // <H3>
158         notestr.gsub(BigRegex("[<]/[Hh][1-4]\\([        ]+[^>]*[>]\\|[>]\\)"),"}"); // </H1>,</H2>,</H3>,</H4>
159         notestr.gsub(BigRegex("[<][Hh][Rr]\\([  ]+[^>]*[>]\\|[>]\\)"),"\\hline "); // <HR>
160         notestr.gsub(BigRegex("[<]!--"),"% <!--"); // <!-- -->
161         notestr.gsub(BigRegex("[<][Tt][Aa][Bb][Ll][Ee][         ]*[^>]*[>]"),"\\begin{tabular}{???}"); // <TABLE>
162         notestr.gsub(BigRegex("[<]/[Tt][Aa][Bb][Ll][Ee][        ]*[^>]*[>]"),"\\end{tabular}"); // </TABLE>
163         notestr.gsub(BigRegex("[<][Tt][Rr][     ]*[^>]*[>]"),"\\\\\n"); // <TR>
164         notestr.gsub(BigRegex("[<]/[Tt][Rr][    ]*[^>]*[>]"),""); // <TR>
165         notestr.gsub(BigRegex("[<][Tt][Dd][     ]*[^>]*[>]")," & "); // <TD>
166         notestr.gsub(BigRegex("[<]/[Tt][Dd][    ]*[^>]*[>]"),""); // <TD>
167         notestr.gsub(BigRegex("[<][Tt][Hh][     ]*[^>]*[>]")," & {\\bf "); // <TH>
168         notestr.gsub(BigRegex("[<]/[Tt][Hh][    ]*[^>]*[>]"),"}"); // <TH>
169         notestr.gsub(BigRegex("[<][Bb]\\([      ]+[^>]*[>]\\|[>]\\)"),"{\\bf "); // <B>
170         notestr.gsub(BigRegex("[<][Ii]\\([      ]+[^>]*[>]\\|[>]\\)"),"{\\em "); // <I>
171         notestr.gsub(BigRegex("[<][Uu]\\([      ]+[^>]*[>]\\|[>]\\)"),"\\underline{"); // <U>
172         notestr.gsub(BigRegex("[<]/[BbIiUu]\\([         ]+[^>]*[>]\\|[>]\\)"),"}"); // </B>,</I>,</U>
173         notestr.gsub(BigRegex("[<][Ee][Mm]\\([  ]+[^>]*[>]\\|[>]\\)"),"{\\em "); // <EM>
174         notestr.gsub(BigRegex("[<]/[Ee][Mm]\\([         ]+[^>]*[>]\\|[>]\\)"),"}"); // </EM>
175         notestr.gsub(BigRegex("[<][Ss][Tt][Rr][Oo][Nn][Gg][     ]*[^>]*[>]"),"{\\bf "); // <STRONG>
176         notestr.gsub(BigRegex("[<]/[Ss][Tt][Rr][Oo][Nn][Gg][    ]*[^>]*[>]"),"}"); // </STRONG>
177         // <A HREF="http://the-reference-url/">the-reference-text</A>
178         // <A NAME="the-reference-name-tag">the-reference-anchor</A>
179         int i = 0, j = 0, k;
180         while (i>=0) {
181                 i = notestr.index(BigRegex("[<][Aa][    ]+[^>]*\\([Hh][Rr][Ee][Ff]\\|[Nn][Aa][Mm][Ee]\\)[       ]*=[    ]*[^>]*[>].*[<]/[Aa][   ]*[^>]*[>]"),j);
182                 if (i>=0) {
183                         k = notestr.index(">",i) + 1;
184                         j = notestr.index(BigRegex("[<]/[Aa][   ]*[^>]*[>]"),i);
185                         if (k<j) {
186                                 String tmpstr = "</A><!--\n"+notestr.at(k,j-k)+'\n'+notestr.after(BigRegex("[<]/[Aa][   ]*[^>]*[>]"),j);
187                                 notestr = notestr.before(BigRegex("[<]/[Aa][    ]*[^>]*[>]"),j);
188                                 notestr += tmpstr;
189                                 //notestr.at(BigRegex("[<]/[Aa][        ]*[^>]*[>]"),j)="</A><!--\n"+notestr.at(k,j-k)+'\n';
190                         }
191                         String tmpstr = "% -->"+notestr.from(i);
192                         notestr = notestr.before(i);
193                         notestr += tmpstr;
194                         //notestr.at(i,1)="% --><";
195                 }
196         }
197         // other <...> tags
198         i = 0; j = 0;
199         while (i>=0) {
200                 i = notestr.index(BigRegex("[<][^>]*[>]"),j);
201                 if (i>=0) {
202                         j = notestr.index(">",i);
203                         String tmpstr = "% "+notestr.at(i,(j-i)+1)+"\n"+notestr.after(j);
204                         notestr = notestr.before(i)+tmpstr;
205                         //notestr.at(j,1) = ">\n";
206                         //notestr.at(i,1) = "% <";
207                 }
208         }
209         notestr.gsub("&lt;","<"); // &lt;
210         notestr.gsub("&gt;",">"); // &gt;
211         notestr.gsub("&amp;","\\&"); // &amp;
212         notestr.gsub("&nbsp;","\\relax"); // &nbsp;
213         // clean up
214         notestr.gsub("\n\n","\n");
215         notestr.gsub(BigRegex("[        ]+\n"),"\n");
216         // insert note into notedst
217         return post_process_note(notedst,notestr,notedststr,insertindex,isnew);
218 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!process_note_TL@{process\_\-note\_\-TL}}
\index{process_note_TL@{process\_\-note\_\-TL}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int process\_\-note\_\-TL ({\bf String} {\em notefile}, {\bf String} {\em notedst})}\label{dil2al_8hh_a332}




Definition at line 80 of file note.cc.

References add\_\-TL\_\-chunk\_\-or\_\-entry(), decide\_\-add\_\-TL\_\-chunk(), EOUT, String::index(), String::length(), pre\_\-process\_\-note(), process\_\-HTML(), and res.

Referenced by process\_\-note().



\footnotesize\begin{verbatim}80                                                      {
81 // A task log entry will be added to the current TL chunk, or to the TL chunk
82 // immediately preceding a @INSERT-TL-NOTE@ tag, or optionally to a new TL chunk,
83 // possibly in a new TL section.
84         String notestr, tl; bool isnew; int res;
85         if ((res = pre_process_note(notefile,notedst,"Task Log",notestr,tl,isnew))<=0) return res;
86         const int LLEN = 10240;
87         char lbuf[LLEN];
88         // search for <!-- @INSERT-TL-NOTE@ --> in TL
89         int tlinsertloc; bool comparetimes = true;
90         if ((tlinsertloc = tl.index("<!-- @INSERT-TL-NOTE@ -->"))>=0) {
91                 tlinsertloc -= tl.length();
92                 comparetimes = false;
93         }
94         // determine whether to add a new Task Log chunk
95         String chunkid;
96         if ((chunkid=decide_add_TL_chunk(tl,tlinsertloc,comparetimes))=="") return -1;
97         // HTML process entry (and fill in @tag@ codes)
98         process_HTML(notestr);
99         // add entry to Task Log chunk
100         newTLID = add_TL_chunk_or_entry(tl,notestr,false,chunkid,tlinsertloc);
101         if (newTLID=="") {
102                 EOUT << "dil2al: Unable to add new Task Log entry in process_note_TL()\n";
103                 return -1;
104         }
105         return tlinsertloc;
106 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!Quantitative_Assessment@{Quantitative\_\-Assessment}}
\index{Quantitative_Assessment@{Quantitative\_\-Assessment}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool Quantitative\_\-Assessment (char {\em qatype}, {\bf String} {\em ppfile})}\label{dil2al_8hh_a361}




Definition at line 1322 of file ppfilter.cc.

References Assess\_\-Paper\_\-Correction\_\-Time(), and EOUT.

Referenced by dil2al\_\-commands().



\footnotesize\begin{verbatim}1322                                                          {
1323 // Carry out quantitative assessments that can aid in tasks,
1324 // e.g. obtaining statistics about a paper that help in the
1325 // scheduling of DIL entries with appropriate time requirements.
1326         switch (qatype) {
1327                 case 'c': // assess time required for paper corrections
1328                         return Assess_Paper_Correction_Time(ppfile);
1329                 default:
1330                         EOUT << "dil2al: Unknown assessment request `" << qatype << " in Quantitative_Assessment()\n";
1331                         return false;
1332         }
1333         return true;
1334 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!read_data_from_stream@{read\_\-data\_\-from\_\-stream}}
\index{read_data_from_stream@{read\_\-data\_\-from\_\-stream}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void read\_\-data\_\-from\_\-stream (istream \& {\em ifs}, {\bf String} \& {\em dstr}, const char $\ast$ {\em terminate})}\label{dil2al_8hh_a239}




Definition at line 2143 of file utilities.cc.

Referenced by initialize\_\-new\_\-DIL\_\-TL(), modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd(), and send\_\-dil\_\-to\_\-DIL().



\footnotesize\begin{verbatim}2143                                                                                  {
2144 // Reads data from a stream such as the data input stream
2145 // DIN line by line. Returns when end of file or a line
2146 // stating the terminate string is found.
2147 // *** This can be replaced by String::readtotag if LLEN=4096 is sufficient.
2148         const int LLEN = 10240;
2149         char lbuf[LLEN];
2150         while (ifs) {
2151                 ifs.getline(lbuf,LLEN);
2152                 if (ifs.eof()) break;
2153                 if (strcmp(lbuf,terminate)==0) break;
2154                 dstr = (dstr + lbuf) + '\n';
2155         }
2156 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!read_file_into_String@{read\_\-file\_\-into\_\-String}}
\index{read_file_into_String@{read\_\-file\_\-into\_\-String}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool read\_\-file\_\-into\_\-String (bool \& {\em isnew}, {\bf String} {\em filename}, {\bf String} \& {\em filestr})}\label{dil2al_8hh_a237}




Definition at line 2074 of file utilities.cc.

References EOUT.

Referenced by add\_\-TL\_\-chunk\_\-or\_\-entry(), add\_\-TL\_\-section(), Assess\_\-Paper\_\-Correction\_\-Time(), chunk\_\-controller(), extract\_\-paper\_\-novelties(), extract\_\-paper\_\-plan\_\-to\_\-paper(), generate\_\-AL\_\-entry(), generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-entry\_\-parameters(), get\_\-file\_\-in\_\-list(), get\_\-Paper\_\-Plans\_\-Section\_\-IDs(), include\_\-article\_\-head\_\-template(), include\_\-article\_\-section\_\-head\_\-template(), include\_\-article\_\-tail\_\-template(), modify\_\-element\_\-through\_\-FORM\_\-interface(), pre\_\-process\_\-note(), Target\_\-Access::read\_\-cleartext\_\-into\_\-String(), read\_\-file\_\-into\_\-String(), read\_\-financial\_\-notes\_\-file(), Target\_\-Access::read\_\-raw\_\-into\_\-String(), Target\_\-Access::read\_\-uncompressed\_\-into\_\-String(), remove\_\-AL\_\-TC(), select\_\-TL\_\-DIL\_\-refs(), and update\_\-main\_\-ALs().



\footnotesize\begin{verbatim}2074                                                                             {
2075 // read the file called filename into filestr if it exists,
2076 // optionally offer to create the file if it does not exist,
2077 // or warn about the inability to open the file
2078 // returns true if file content was read into filestr
2079 // note that no file is created at this point, but the setting
2080 // of the isnew flag can be used later (e.g. by the function
2081 // write_string_to_file()) to anticipate new file creation
2082         if (read_file_into_String(filename,filestr,false)) {
2083                 isnew = false;
2084                 return true;
2085         } else {
2086                 if (offercreate) {
2087                         const int LLEN = 10;
2088                         char lbuf[LLEN];
2089                         cout << "File " << filename << "\ndoes not exist, create (y/N)? ";
2090                         cin.getline(lbuf,LLEN);
2091                         if ((lbuf[0]!='y') && (lbuf[0]!='Y')) return false;
2092                         isnew = true;
2093                         return true;
2094                 } else {
2095                         EOUT << "dil2al: Unable to open " << filename << " in read_file_into_String()\n";
2096                         return false;
2097                 }
2098         }
2099 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!read_file_into_String@{read\_\-file\_\-into\_\-String}}
\index{read_file_into_String@{read\_\-file\_\-into\_\-String}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool read\_\-file\_\-into\_\-String ({\bf String} {\em filename}, {\bf String} \& {\em filestr}, bool {\em warnnoopen} = {\bf true})}\label{dil2al_8hh_a236}




Definition at line 2062 of file utilities.cc.



\footnotesize\begin{verbatim}2062                                                                                       {
2063 // read the file called filename into the string filestr,
2064 // optionally warning about the inability to open the file
2065 // returns true if file content was read into filestr
2066         ifstream sfl(filename);
2067         if (read_file_into_String(sfl,filestr,false)) return true;
2068         else {
2069                 if (warnnoopen) EOUT << "dil2al: Unable to open " << filename << " in read_file_into_String()\n";
2070                 return false;
2071         }
2072 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!read_file_into_String@{read\_\-file\_\-into\_\-String}}
\index{read_file_into_String@{read\_\-file\_\-into\_\-String}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool read\_\-file\_\-into\_\-String (ifstream \& {\em sfl}, {\bf String} \& {\em filestr}, bool {\em warnnoopen} = {\bf true})}\label{dil2al_8hh_a235}




Definition at line 2038 of file utilities.cc.



\footnotesize\begin{verbatim}2038                                                                                      {
2039 // read from an open file stream into the string filestr,
2040 // optionally warning about the inability to open the file
2041 // returns true if file content was read into filestr
2042         if (sfl) {
2043                 filestr = sfl;
2044 /*              sfl.seekg(0,ios::end); // seek to EOF
2045                 long int sflsize = sfl.tellg();
2046                 sfl.seekg(0);
2047                 char * s;
2048                 s = new char[sflsize+1];
2049                 sfl.read(s,sflsize);
2050                 s[sfl.gcount()]='\0';
2051                 filestr = s;
2052                 delete[] s;
2053                 if (sfl.gcount()!=sflsize) EOUT << "dil2al: Characters read (" << sfl.gcount() << ") does not equal expected file size (" << sflsize << ") in read_file_into_String(), continuing as is\n";
2054 */              sfl.close();
2055                 return true;
2056         } else {
2057                 if (warnnoopen) EOUT << "dil2al: Unable to open file in read_file_into_String()\n";
2058                 return false;
2059         }
2060 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!read_financial_notes_file@{read\_\-financial\_\-notes\_\-file}}
\index{read_financial_notes_file@{read\_\-financial\_\-notes\_\-file}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool read\_\-financial\_\-notes\_\-file ({\bf PLLRoot}$<$ {\bf Financial\_\-Note} $>$ \& {\em fnotes}, {\bf String} \& {\em finnotestop}, {\bf String} \& {\em finnotesend})}\label{dil2al_8hh_a367}




Definition at line 82 of file finances.cc.

References String::before(), String::del(), EOUT, String::from(), String::index(), String::length(), Financial\_\-Note::link\_\-sorted(), read\_\-file\_\-into\_\-String(), String::SEARCH\_\-END, Time(), and VOUT.

Referenced by financial\_\-monthly(), and financial\_\-notes().



\footnotesize\begin{verbatim}82                                                                                                              {
83   String finnotesstr;
84   // read financial notes file
85   if (!read_file_into_String(finnotesfile,finnotesstr)) return false;
86   // extract financial notes table
87   if (verbose) VOUT << "Parsing Financial Notes file\n";
88   int i, j;
89   if ((i=finnotesstr.index("<!-- dil2al: start items -->",String::SEARCH_END,0))<0) {
90     EOUT << "formalizer: Missing start of financial notes items table\n";
91     return false;
92   }
93   if ((j=finnotesstr.index("<!-- dil2al: end items -->",0))<0) {
94     EOUT << "formalizer: Missing end of financial notes items table\n";
95     return false;
96   }
97   finnotestop = finnotesstr.before(i)+'\n';
98   finnotesend = finnotesstr.from(j);
99   finnotesstr.del(j,finnotesstr.length()-j);
100   finnotesstr.del(0,i); // finnotesstr contains table
101   // extract financial notes items while keeping track of dates and sorting by date
102   time_t notedate = Time(NULL);
103   for (i=0; i>=0; ) {
104     Financial_Note * fn = new Financial_Note(finnotesstr,notedate,i);
105     if (i<0) delete fn;
106     else fn->link_sorted(fnotes);
107   }
108   return true;
109 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!refresh_quick_load_cache@{refresh\_\-quick\_\-load\_\-cache}}
\index{refresh_quick_load_cache@{refresh\_\-quick\_\-load\_\-cache}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool refresh\_\-quick\_\-load\_\-cache ()}\label{dil2al_8hh_a296}




Definition at line 1359 of file alcomp.cc.

References EOUT, Detailed\_\-Items\_\-List::Get\_\-All\_\-DIL\_\-ID\_\-File\_\-Parameters(), and Detailed\_\-Items\_\-List::Get\_\-All\_\-Topical\_\-DIL\_\-Parameters().

Referenced by dil2al\_\-commands().



\footnotesize\begin{verbatim}1359                                 {
1360   if (!usequickloadcache) {
1361     EOUT << "dil2al: The usequickloadcache flag is not set in refresh_quick_load_cache()\n";
1362     return false;
1363   }
1364   Detailed_Items_List dilist;
1365   if (dilist.Get_All_DIL_ID_File_Parameters()<0) return false;
1366   if (dilist.Get_All_Topical_DIL_Parameters(true)<0) return false;
1367   return true;
1368 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!relurl@{relurl}}
\index{relurl@{relurl}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} relurl ({\bf String} {\em srcurl}, {\bf String} {\em dsturl})}\label{dil2al_8hh_a228}




Definition at line 1927 of file utilities.cc.

References String::after(), String::before(), common\_\-prefix(), String::empty(), String::from(), String::lastchar(), String::length(), String::prepend(), and String::through().

Referenced by AL\_\-Day\_\-Marker(), AL\_\-Passed\_\-Target\_\-Dates(), extract\_\-paper\_\-novelties(), extract\_\-paper\_\-plan\_\-to\_\-paper(), extract\_\-recursively(), extraction\_\-put\_\-figure(), generate\_\-AL(), generate\_\-Figures\_\-Directory\_\-entry(), Active\_\-List::generate\_\-focused\_\-AL(), Active\_\-List::generate\_\-wide\_\-AL(), get\_\-figure\_\-data(), make\_\-note(), update\_\-main\_\-ALs(), and Detailed\_\-Items\_\-List::Write\_\-to\_\-File().



\footnotesize\begin{verbatim}1927                                             {
1928         String tmp = common_prefix(srcurl.through('/',-1),dsturl.through('/',-1));
1929         if ((!tmp.empty()) && (tmp.lastchar()!='/')) tmp = tmp.through('/',-1);
1930         if (tmp!="") {
1931                 srcurl = srcurl.after(tmp);
1932                 dsturl = dsturl.after(tmp);
1933                 tmp = dsturl.from('#'); // for dsturl references in srcurl file
1934                 if (tmp.length()>0) {
1935                         String tmp2 = srcurl.before('#'); if (tmp2.length()==0) tmp2 = srcurl;
1936                         if (tmp2==dsturl.before('#')) return tmp;
1937                 }
1938                 while (srcurl.before('/')!="") { srcurl=srcurl.after('/'); dsturl.prepend("../"); }
1939         }
1940         return dsturl;
1941 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!remove_AL_TC@{remove\_\-AL\_\-TC}}
\index{remove_AL_TC@{remove\_\-AL\_\-TC}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool remove\_\-AL\_\-TC ({\bf String} {\em alref}, {\bf String} {\em dilid})}\label{dil2al_8hh_a294}




Definition at line 1256 of file alcomp.cc.

References String::alloc(), String::at(), DEFAULTALDAYEMPHASIS, DEFAULTALFOCUSEDEMPHASIS, String::del(), EOUT, get\_\-AL\_\-entry(), HTML\_\-get\_\-href(), HTML\_\-put\_\-table\_\-row(), String::length(), read\_\-file\_\-into\_\-String(), SECONDSPERDAY, Big\-Regex::sublen(), Big\-Regex::subpos(), time\_\-stamp\_\-GM(), time\_\-stamp\_\-time\_\-of\_\-day(), VOUT, and write\_\-file\_\-from\_\-String().

Referenced by stop\_\-TL\_\-chunk().



\footnotesize\begin{verbatim}1256                                               {
1257 // removes the top task chunk if it has DIL entry ID dilid
1258 // from the AL indicated by alref and updates the suggested
1259 // start time of that AL day according to the assumed time
1260 // taken to do the task chunk (desynchronization is noticed
1261 // and taken care of in select_TL_DIL_refs())
1262 // day rows at the top of the AL that are not followed by task
1263 // rows are removed
1264 // returns false if dilid did not match the DIL entry ID of
1265 // the top task chunk, or if the visible focused AL became
1266 // empty
1267         String alstr, newalstr;
1268         if (!read_file_into_String(alref,alstr)) return false;
1269         newalstr.alloc(alstr.length());
1270         // get day row and remove empty days at top of AL
1271         // and find top TC to compare with dilid
1272         StringList alentries; int numentries = 0, alpos = 0, tcsfound = 0, tcentries[2], rowstart, rowend;
1273         while (tcsfound<2) {
1274                 switch (get_AL_entry(alstr,alpos,alentries[numentries],rowstart,rowend)) {
1275                         case -1:
1276                                 // *** could detect from numentries and tcsfound
1277                                 //     to give a different VOUT message if the
1278                                 //     visible AL portion contained no more TCs
1279                                 EOUT << "Missing data in AL " << alref << " after position " << alpos << " in remove_AL_TC()";
1280                                 return false;
1281                                 break;
1282                         case 0: break;
1283                         case 1:
1284                                 if (numentries==0) {
1285                                         EOUT << "TC without preceding Day ID in " << alref << " after position " << alpos << " in remove_AL_TC()";
1286                                         return false;
1287                                 }
1288                                 if (tcsfound==0) {
1289                                         String alhrefurl, alhreftext;
1290                                         if (HTML_get_href(alentries[numentries],0,alhrefurl,alhreftext)<0) {
1291                                                 EOUT << "Missing DIL ID reference in " << alref << " after position " << alpos << " in remove_AL_TC()";
1292                                                 return false;
1293                                         }
1294                                         if (alhreftext!=dilid) { // different task
1295                                                 VOUT << "Top of AL " << alref << " does not match DIL entry " << dilid << '\n';
1296                                                 return false;
1297                                         }
1298                                 }
1299                                 tcentries[tcsfound] = numentries;
1300                                 tcsfound++;
1301                                 break;
1302                 }
1303                 if (alpos==0) newalstr = alstr.at(0,rowstart); // copy head of AL
1304                 numentries++; alpos = rowend;
1305         }
1306         if (tcentries[1]==(tcentries[0]+1)) { // next TC on same day, modify daystart
1307                 BigRegex rds("(suggested start[         ]+\\([0-9][0-9]:[0-9][0-9]\\)");
1308                 int didx = tcentries[0]-1, dstimepos;
1309                 if ((dstimepos=alentries[didx].index(rds))<0) {
1310                         EOUT << "Missing suggested start in AL " << alref << " at row " << didx << " in remove_AL_TC()\n";
1311                         return false;
1312                 }
1313                 String daystartstr = alentries[didx].at(rds.subpos(1),rds.sublen(1));
1314                 daystartstr.del(':');
1315                 time_t tds = time_stamp_time_of_day(daystartstr) + ((time_t) (timechunksize*60));
1316                 if (tds>=SECONDSPERDAY) {
1317                         VOUT << "Updated suggested start time exceeds length of day, limiting to 23:59\n";
1318                         tds = SECONDSPERDAY-1;
1319                 }
1320                 daystartstr = time_stamp_GM("%H:%M",tds);
1321                 for (int i = 0; i<5; i++) alentries[didx][rds.subpos(1)+i] = daystartstr[i];
1322         }
1323         // determine day before second TC and write it
1324         int didx = tcentries[1]-1;
1325         if (didx==tcentries[0]) didx--;
1326         newalstr += HTML_put_table_row(DEFAULTALDAYEMPHASIS,alentries[didx]) + '\n';
1327         // write second TC with top TC colors
1328         newalstr += HTML_put_table_row(DEFAULTALFOCUSEDEMPHASIS,alentries[tcentries[1]]) + '\n';
1329         // copy remainder of AL
1330         newalstr += alstr.at(alpos,alstr.length()-alpos);
1331         return write_file_from_String(alref,newalstr,"AL");
1332 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!remove_whitespace@{remove\_\-whitespace}}
\index{remove_whitespace@{remove\_\-whitespace}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String}$\ast$ remove\_\-whitespace ({\bf String} \& {\em str})}\label{dil2al_8hh_a280}




Definition at line 2680 of file utilities.cc.

References String::gsub().

Referenced by generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-Superiors(), and select\_\-TL\_\-DIL\_\-refs().



\footnotesize\begin{verbatim}2680                                          {
2681   str.gsub(BRXwhite," ");
2682   return &str;
2683 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!RX_Search_Safe@{RX\_\-Search\_\-Safe}}
\index{RX_Search_Safe@{RX\_\-Search\_\-Safe}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} RX\_\-Search\_\-Safe ({\bf String} {\em s})}\label{dil2al_8hh_a216}




Definition at line 1814 of file utilities.cc.

References String::after(), String::gsub(), and String::length().

Referenced by add\_\-TL\_\-chunk\_\-or\_\-entry(), Assess\_\-Paper\_\-Correction\_\-Time(), convert\_\-item\_\-content\_\-to\_\-Te\-X(), extract\_\-hierarchy\_\-depth\_\-decrease\_\-to\_\-paper(), extract\_\-hierarchy\_\-depth\_\-increase\_\-to\_\-paper(), extract\_\-paper\_\-novelties(), extract\_\-recursively(), extract\_\-required\_\-item\_\-to\_\-paper(), get\_\-figure\_\-data(), include\_\-article\_\-section\_\-head\_\-template(), include\_\-article\_\-section\_\-tail\_\-template(), include\_\-protected\_\-text(), item\_\-content\_\-between\_\-range\_\-tags(), modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd(), send\_\-dil\_\-to\_\-DIL(), Te\-X\_\-format\_\-corrections(), and update\_\-DIL\_\-entry\_\-elements().



\footnotesize\begin{verbatim}1814                                 {
1815 // converts a regular string to that
1816 // string's match in a BigRegex search
1817         s.gsub("[","[[]");
1818         s.gsub("]","[]]");
1819         s.gsub(BigRegex("[\\.*+?$]"),"[_0]",'_');
1820         if ((s.length()>0) && (s[0]=='^')) s = "[^]" + s.after(0);
1821         return s;
1822 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!schedule_controller@{schedule\_\-controller}}
\index{schedule_controller@{schedule\_\-controller}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool schedule\_\-controller ({\bf String} {\em controllercmd})}\label{dil2al_8hh_a341}




Definition at line 105 of file controller.cc.

References chunk\_\-controller(), EOUT, and time\_\-chunk\_\-remaining().

Referenced by dil2al\_\-commands().



\footnotesize\begin{verbatim}105                                                {
106 // schedules periodical calls to chunk_controller(),
107 // either via an at-job or by retaining dil2al as a daemon
108         String chunkid;
109         if (isdaemon) { // daemon schedules chunk_controller()
110                 String ccmd;
111                 while (1) {
112                         ccmd = controllercmd; // fresh copy of automatic commands to controller
113                         if ((chunkid=chunk_controller(ccmd))=="") return false;
114                         if ((chunkid=="-1") || (chunkid=="-2")) return true;
115                         time_t tdiff = time_chunk_remaining(chunkid);
116                         if (tdiff>0) sleep(tdiff);
117                 }
118         } else { // at-job schedules chunk_controller()
119                 if ((chunkid=chunk_controller(controllercmd))=="") return false;
120                 if ((chunkid=="-1") || (chunkid=="-2")) return true;
121 #ifdef DEBUG
122 cout << "current chunkid = " << chunkid << '\n';
123 #endif
124                 time_t tdiff = time_chunk_remaining(chunkid);
125 #ifdef DEBUG
126 cout << "seconds remaining = " << tdiff << '\n';
127 #endif
128                 if (tdiff>0) {
129                         tdiff /= 60;
130                         String atcmd = atcommand;
131                         if (tdiff) { atcmd += " + "; atcmd += dec(tdiff); atcmd += " minutes"; }
132                         else atcmd += " + 1 minute";
133                         FILE * p = popen((const char *) atcmd, "w");
134                         if (!p) {
135                                 EOUT << "dil2al: Unable to schedule controller call with " << atcontroller << " in schedule_controller()\n";
136                                 return false;
137                         }
138                         fprintf(p,(const char *) atcontroller);
139                         if (pclose(p)==-1) {
140                                 EOUT << "dil2al: Scheduling controller call with " << atcontroller << " did not complete operations in schedule_controller()\n";
141                                 return false;
142                         }
143                 }
144         }
145 #ifdef DEBUG
146 const int LLEN = 10;
147 char lbuf[LLEN];
148 cout << "Scheduled controller processing completed...\n";
149 cin.getline(lbuf,LLEN);
150 #endif
151         return true;
152 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!search@{search}}
\index{search@{search}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} search ({\bf String\-List} \& {\em targets}, {\bf String} {\em searchkey}, bool {\em stringoutput} = {\bf true})}\label{dil2al_8hh_a362}




Definition at line 425 of file search.cc.

References PLLRoot$<$ PLLType $>$::clear(), PLLRoot$<$ PLLType $>$::head(), String\-List::length(), PLLRoot$<$ PLLType $>$::link\_\-before(), PLL\_\-LOOP\_\-FORWARD, res, search\_\-output(), and write\_\-file\_\-from\_\-String().

Referenced by search\_\-cmd().



\footnotesize\begin{verbatim}425                                                                                 {
426         // Search the target for searchkey
427         // Result output is returned as a string or on VOUT.
428         // Returns results as string or a string with the number of results.
429         // Note: Directories are conceptually handled in the same manner
430         // as HTML pages, but they are read differently and can contain
431         // only links to follow for recursive searching.
432         // Note: It is quite easy to make alternative search functions using
433         // the Search_Target and Search_Result classes.
434         // initialize global lists
435         static String res; // stored in function, not objects, static to avoid problems with lifetime of object that return value points to
436         PLLRoot<Search_Result> results;
437         PLLRoot<Search_Target> globaltargets;
438         Quick_String_Hash encountered;
439         // search target objects for searchkey
440         // *** Whether the list of Search_Target objects ever becomes
441         //     greater than one depends on whether a followlinks search
442         //     is conducted in breadth-first or depth-first fashion.
443         Search_Target * t; String progressfile(tareadfile+"progress"), progress; long resnum = 0;
444         for (int i = 0; i<targets.length(); i++) if (!targets[i].empty()) {
445 //cerr << searchkey << " in " << targets[i] << '\n'; cerr.flush();
446                 t = new Search_Target(&results,searchkey,targets[i],followlinks,false,&encountered);
447                 globaltargets.link_before(t);
448                 // *** Not quite sure where to put the next lines, in this
449                 //     loop or outside it, and how that affects the search
450                 //     order if additional targets are added by finding
451                 //     links to follow in a breadth-first followlinks search.
452                 long i_search = 0;
453                 PLL_LOOP_FORWARD(Search_Target,globaltargets.head(),1) {
454                         if (searchprogressmeter) { // write a progress meter to a file
455                                 progress = String((long) i)+','+String(i_search)+':'+e->Target();
456                                 write_file_from_String(progressfile,progress,"",true);
457                                 i_search++;
458                         }
459                         e->search();
460                         if (immediatesearchoutput) resnum += search_output(&results,res,stringoutput);
461                         // *** caused problems here: e->remove(); // frees up space and avoids repeated searches
462                 }
463                 globaltargets.clear(); // frees up space and avoids repeated searches
464         }
465         if (!immediatesearchoutput) resnum = search_output(&results,res,stringoutput);
466         if (!stringoutput) res = String(resnum);
467         return res;
468 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!search_cmd@{search\_\-cmd}}
\index{search_cmd@{search\_\-cmd}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool search\_\-cmd ({\bf String} {\em grepinfo})}\label{dil2al_8hh_a365}




Definition at line 527 of file search.cc.

References String::after(), String::at(), String::before(), String\-List::contains(), String::del(), String::empty(), EOUT, file\_\-is\_\-directory(), Get\_\-Target\_\-Regex(), String::gsub(), String::index(), String::length(), replicate(), res, search(), and VOUT.

Referenced by dil2al\_\-commands(), and search\_\-FORM\_\-cmd().



\footnotesize\begin{verbatim}527                                  {
528         // Command line interface to search()
529         // Note: For optimal use, wrap the output of this call in a complete framework
530         // for an HTML file. It is also possible to direct the error output to another
531         // file and to link to that one from the HTML file with the search results.
532         const BigRegex trx("@[^/]+@$");
533         const BigRegex rrx("\\(^[Hh][Tt][Tt][Pp]:\\|^[Ff][Tt][Pp]:\\)");
534         if (grepinfo.empty()) {
535                 EOUT << "dil2al: Missing search information in search_cmd()\n";
536                 return false;
537         }
538         char separator = grepinfo[0];
539         grepinfo.gsub(replicate(separator,2),(char) 255); // temporarily replace escaped characters
540         int keyend = grepinfo.index(separator,1);
541         if (keyend<0) {
542                 EOUT << "dil2al: Missing search key end in search_cmd()\n";
543                 return false;
544         }
545         if (keyend==1) {
546                 EOUT << "dil2al: Zero length search key in search_cmd()\n";
547                 return false;
548         }
549         if ((keyend+1)>=grepinfo.length()) {
550                 EOUT << "dil2al: Missing search target in search_cmd()\n";
551                 return false;
552         }
553         // put all search targets into a StringList
554         String searchkey(grepinfo.at(1,keyend-1)); searchkey.gsub((char) 255,separator); // restore escaped characters
555         StringList targets;
556         grepinfo.del(0,keyend+1);
557         for (unsigned long i = 0; (!grepinfo.empty()); i++) {
558                 // get next target from command line arguments
559                 targets[i] = grepinfo.before(separator);
560                 if (targets[i].empty()) targets[i] = grepinfo;
561                 targets[i].gsub((char) 255,separator); // restore escaped characters
562                 // interpret target
563                 // *** add: tar(gz) and zip archives, archive declarator, file containing target lines, default set
564                 if (targets[i].contains(trx)) i = Get_Target_Regex(targets,i,targets[i]) - 1;
565                 // *** does not yet properly handle remote files matching regex pattern or remote files pointing to archives
566                 // Now handled within search: else if (file_is_directory(targets[i])) i = Get_Target_Directory(targets,i,targets[i]) - 1;
567                 else if ((!targets[i].contains(rrx)) && (file_is_directory(targets[i])) && (followlinks<=0)) { // follow links one deep into the directory
568                         followlinks = 1;
569                         if (verbose) VOUT << "(Setting followlinks=1 to search directory.)\n";
570                 }
571                 grepinfo = grepinfo.after(separator);
572         }
573         VOUT << '\n';
574         String res = search(targets,searchkey,false);
575         VOUT << "(Number of search results: <B>" << res << "</B>)\n<P>\n";
576         return true;
577 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!search_FORM_cmd@{search\_\-FORM\_\-cmd}}
\index{search_FORM_cmd@{search\_\-FORM\_\-cmd}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool search\_\-FORM\_\-cmd ({\bf String\-List} $\ast$ {\em qlist} = NULL)}\label{dil2al_8hh_a366}




Definition at line 579 of file search.cc.

References DIL2AL\_\-CONDITIONAL\_\-ERROR\_\-RETURN, String::empty(), String::gsub(), search\_\-cmd(), and URI\_\-unescape().

Referenced by Detect\_\-Form\_\-Input().



\footnotesize\begin{verbatim}579                                                 {
580   // Perform a dil2al regex search with input from an HTML FORM.
581   const char escapedseparator[3] = {254,254,0};
582   const char separator = 254;
583   if (!qlist) return false;
584   String grepinfo(separator);
585   int paridx; String parstr;
586   DIL2AL_CONDITIONAL_ERROR_RETURN((paridx=qlist->contains("regex="))<0,"No regex parameter found in form data in search_FORM_cmd()\n");
587   parstr=URI_unescape((*qlist)[paridx].after('='));
588   DIL2AL_CONDITIONAL_ERROR_RETURN(parstr.empty(),"Empty regex parameter in search_FORM_cmd()\n");
589   parstr.gsub(separator,escapedseparator);
590   grepinfo += parstr + separator;
591   DIL2AL_CONDITIONAL_ERROR_RETURN((paridx=qlist->contains("targets="))<0,"No targets parameter found in form data in search_FORM_cmd()\n");
592   parstr=URI_unescape((*qlist)[paridx].after('='));
593   DIL2AL_CONDITIONAL_ERROR_RETURN(parstr.empty(),"Empty targets parameter in search_FORM_cmd()\n");
594   parstr.gsub(separator,escapedseparator);
595   parstr.gsub('\r',"");
596   parstr.gsub('\n',separator);
597   grepinfo += parstr;
598   return search_cmd(grepinfo);
599 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!search_TL@{search\_\-TL}}
\index{search_TL@{search\_\-TL}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool search\_\-TL ({\bf String} {\em searchstr})}\label{dil2al_8hh_a344}




Definition at line 15 of file tlfilter.cc.



\footnotesize\begin{verbatim}15                                  {
16 // searchstr is a regexp
17 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!select_TL_AL_refs@{select\_\-TL\_\-AL\_\-refs}}
\index{select_TL_AL_refs@{select\_\-TL\_\-AL\_\-refs}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} select\_\-TL\_\-AL\_\-refs ({\bf String} \& {\em tl}, bool {\em newchunk}, {\bf String} {\em newdilref})}\label{dil2al_8hh_a324}




Definition at line 359 of file tladmin.cc.

References String::after(), ANSI\_\-BOLD\_\-OFF, ANSI\_\-BOLD\_\-ON, ANSI\_\-UNDERLINE\_\-OFF, ANSI\_\-UNDERLINE\_\-ON, String::before(), String::contains(), String::del(), EOUT, find\_\-in\_\-line(), find\_\-line(), get\_\-most\_\-recent\_\-TC\_\-AL(), String::gsub(), String::matches(), String::prepend(), and RELLISTSDIR.

Referenced by add\_\-TL\_\-chunk\_\-or\_\-entry().



\footnotesize\begin{verbatim}359                                                                        {
360 // select AL reference for new TL chunk or entry
361 // tl should provide a pointer to a String containing
362 // the most recent section of the Task Log
363 // newchunk indicates if a new chunk or a new entry is being prepared
364 // if newdilref=="*" then possibly choose a new AL
365 // return value "*<AL-ref>"=same as chunk, ""=error
366 // default is current AL
367         const int LLEN = 10240;
368         char lbuf[LLEN];
369         StringList aloptions;
370         int numaloptions = 0;
371         // AL should default either to current, or to that associated with DIL
372         // alternatives can be read from list.html
373         // obtain current AL from TL
374         String curAL = get_most_recent_TC_AL(tl);
375 //*** could insure that if newdilref!="*" the default
376 //*** Active List returned is curAL if the DIL is in it,
377 //*** otherwise the primary one the DIL in newdilref is in
378         if ((askALDILref) && (newdilref=="*")) {
379                 // some options from listfile
380                 ifstream alf(listfile);
381                 if (!alf) EOUT << "dil2al: Unable to read " << listfile << " in select_TL_AL_refs(), continuing\n";
382                 else {
383                         if (find_line(&alf,"[<]A[       ][^>]*[Nn][Aa][Mm][Ee][         ]*=[    ]*\"AL\"",lbuf,LLEN)) {
384                                 String alid[2];
385                                 while (find_in_line(&alf,"[<]LI[>][<]A[         ][^>]*[Hh][Rr][Ee][Ff][         ]*=[    ]*\"(.+)[<][/]A[>]",2,alid,"[<][/]UL[>]",lbuf,LLEN)==1) {
386                                         alid[1].gsub("\">",":");
387                                         alid[1].del(RELLISTSDIR);
388                                         if (!curAL.contains(alid[1].before(":"))) {
389                                                 aloptions[numaloptions] = alid[1];
390                                                 numaloptions++;
391                                         }
392                                 }
393                         } else EOUT << "dil2al: No AL references in " << listfile << " in select_TL_AL_refs(), continuing\n";
394                         alf.close();
395                 }
396                 // can enter AL ids directly, or quick-chooser choice from priority list
397                 String affiliation = "";
398                 while (affiliation=="") {
399                         if (useansi) cout << ANSI_UNDERLINE_ON; // underline on
400                         if (newchunk) cout << "\nChunk "; else cout << "\nEntry ";
401                         cout << "AL reference ID\n";
402                         if (useansi) cout << ANSI_UNDERLINE_OFF; // underline off
403                         for (int i=0; i<numaloptions; i++) cout << i << ". " << aloptions[i] << '\n';
404                         if (useansi) cout << ANSI_BOLD_ON; // bold on
405                         cout << "\"\"=" << curAL.after(basedir+RELLISTSDIR) << " DEFAULT,\n\"?\"=browse (e.g. use S to save file info to ~/tmp/dilref for dil2al),\n\"?&\"=fork browser: ";
406                         if (useansi) cout << ANSI_BOLD_OFF; // bold off
407                         cin.getline(lbuf,LLEN);
408                         if (lbuf[0]!='\0') {
409                                 affiliation = lbuf;
410                                 if (affiliation.matches(BRXint)) { // quick-select menu item
411                                         int q = atoi((const char *) affiliation);
412                                         if ((q>=0) && (q<numaloptions)) affiliation = aloptions[q].before(":");
413                                         else {
414                                                 EOUT << "dil2al: Selection " << q << " is not a predefined AL reference option\n";
415                                                 affiliation = "";
416                                         }
417                                 } else if (affiliation=="?") {
418                                         if (system(browser+" "+listfile)<0) EOUT << "dil2al: Unable to browse in select_TL_AL_refs(), continuing\n";
419                                         affiliation = "";
420                                         ifstream drf(dilref);
421                                         if (drf) {
422                                                 if (find_line(&drf,"Current URL",lbuf,LLEN)) {
423                                                         String urlline = lbuf;
424                                                         drf.getline(lbuf,LLEN);
425                                                         if (lbuf[0]==' ') urlline += lbuf;
426                                                         urlline.del("Current URL");
427                                                         urlline.del("file://");
428                                                         urlline.gsub(" ","");
429                                                         urlline.del(basedir+RELLISTSDIR);
430                                                         if (useansi) cout << ANSI_BOLD_ON; // bold on
431                                                         cout << "Take `" << urlline << "' as AL reference ID? (y/N)";
432                                                         if (useansi) cout << ANSI_BOLD_OFF; // bold off
433                                                         cin.getline(lbuf,LLEN);
434                                                         if ((lbuf[0]=='y') || (lbuf[0]=='Y')) affiliation = urlline;
435                                                 }
436                                                 drf.close();
437                                                 unlink(dilref);
438                                         }
439                                 } else if (affiliation=="?&") {
440                                         if (system("rxvt -e "+browser+" "+curAL+" &")<0) EOUT << "dil2al: Unable to spawn a browser in select_TL_AL_refs(), continuing\n";
441                                         affiliation = "";
442                                 } else { // verify that string is AL ID
443                                         alf.open(listfile);
444                                         if (!alf) {
445                                                 EOUT << "dil2al: Unable to read " << listfile << " in select_TL_AL_ref()\n";
446                                                 return String("");
447                                         }
448 #ifdef DEBUG
449                                         cout << "seeking " << affiliation << '\n';
450 #endif
451                                         if (find_line(&alf,"[<]A[       ][^>]*[Nn][Aa][Mm][Ee][         ]*=[    ]*\"AL\"",lbuf,LLEN)) {
452                                                 affiliation.prepend(RELLISTSDIR);
453                                                 affiliation.prepend("[<]LI[>][<]A[      ][^>]*[Hh][Rr][Ee][Ff][         ]*=[    ]*\"");
454                                                 if (find_line(&alf,affiliation,lbuf,LLEN)) {
455                                                         affiliation = lbuf;
456                                                         affiliation = affiliation.after(BigRegex("[Hh][Rr][Ee][Ff][     ]*=[    ]*\""));
457                                                         affiliation = affiliation.after(RELLISTSDIR);
458                                                         affiliation = affiliation.before("\">");
459 #ifdef DEBUG
460                                                         cout << "exists: " << affiliation << '\n';
461 #endif
462                                                 } else {
463                                                         EOUT << "dil2al: AL reference " << affiliation << " not found in " << listfile << '\n';
464                                                         affiliation = "";
465                                                 }
466                                         } else {
467                                                 EOUT << "dil2al: No AL references found in " << listfile << " in select_TL_AL_ref()\n";
468                                                 return String("");
469                                         }
470                                         alf.close();
471                                 }
472                         } else {
473                                 affiliation = curAL.after(basedir+RELLISTSDIR);
474                                 if (!newchunk) affiliation.prepend("*"); // same as chunk AL (no entry specific reference required)
475                         }
476                 }
477                 return affiliation;
478         } else {
479                 curAL = curAL.after(basedir+RELLISTSDIR);
480                 if (!newchunk) curAL.prepend("*");
481                 return curAL;
482         }
483 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!select_TL_DIL_refs@{select\_\-TL\_\-DIL\_\-refs}}
\index{select_TL_DIL_refs@{select\_\-TL\_\-DIL\_\-refs}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} select\_\-TL\_\-DIL\_\-refs ({\bf String} \& {\em tl}, bool {\em newchunk}, {\bf String} {\em newalref})}\label{dil2al_8hh_a323}




Definition at line 161 of file tladmin.cc.

References AAU\_\-ASK, AAU\_\-NO, String::after(), ANSI\_\-BOLD\_\-OFF, ANSI\_\-BOLD\_\-ON, ANSI\_\-UNDERLINE\_\-OFF, ANSI\_\-UNDERLINE\_\-ON, String::at(), String::before(), confirmation(), String::contains(), String\-List::contains(), String::del(), EOUT, find\_\-line(), generate\_\-AL(), get\_\-most\_\-recent\_\-TC\_\-AL(), get\_\-most\_\-recent\_\-TC\_\-DE(), String::gsub(), HTML\_\-get\_\-href(), HTML\_\-get\_\-table\_\-cell(), HTML\_\-remove\_\-tags(), String::index(), String::length(), Big\-Regex::match\_\-info(), String::matches(), String::prepend(), read\_\-file\_\-into\_\-String(), RELLISTSDIR, remove\_\-whitespace(), Big\-Regex::search(), Detailed\_\-Items\_\-List::Sort\_\-by\_\-Target\_\-Date(), Big\-Regex::sublen(), Big\-Regex::subpos(), time\_\-stamp\_\-diff(), and VOUT.

Referenced by add\_\-TL\_\-chunk\_\-or\_\-entry().



\footnotesize\begin{verbatim}161                                                                        {
162 // select DIL reference for new TL chunk or entry
163 // tl should provide a pointer to a String containing
164 // the most recent section of the Task Log
165 // newchunk indicates if a new chunk or a new entry is being prepared
166 // if newalref is not "" then use it as AL for default/quick choices
167 // return value "*<DIL-ref>"=same as chunk, "!<DIL-ref>"=non-DIL identifying
168 // comment, "*"=decision postponed (see variableAL), ""=error
169 // when newchunk=true the default is the highest priority item in the current AL
170 // when newchunk=true the default is the same as that of the current chunk
171         const int LLEN = 10240;
172         char lbuf[LLEN];
173         StringList diloptions;
174         int numdiloptions = 0;
175         String curAL;
176         if (newalref=="") curAL = get_most_recent_TC_AL(tl); // obtain current AL from TL
177         else {
178                 if (newalref[0]=='*') newalref.del("*");
179                 curAL = basedir+RELLISTSDIR+newalref;
180         }
181         // obtain default DIL ref for TL entry
182         if (!newchunk) { // chunk DIL ref (or identifying comment) is default
183                 diloptions[0] = get_most_recent_TC_DE(tl);
184                 if (diloptions[0]=="") {
185                         EOUT << "dil2al: Entry is not in a Task Log chunk in select_TL_DIL_refs()\n";
186                         return String("");
187                 }
188                 numdiloptions++;
189         }
190         // recompute the AL if the suggested start time for the next
191         // TC is significantly earlier than the current time
192         String curALstr;
193         if (read_file_into_String(curAL,curALstr)) {
194                 String tmpstr, cellcontent;
195                 HTML_get_table_cell(curALstr,0,tmpstr,cellcontent);
196                 HTML_remove_tags(cellcontent);
197                 BigRegex alr("Day[      ]+\\([0-9]+\\).*suggested[      ]+start[        ]+\\([0-9][0-9]\\):\\([0-9][0-9]\\)");
198                 if (cellcontent.index(alr)==0) {
199                         // get suggested start time for next TC
200                         tmpstr = cellcontent.at(alr.subpos(1),alr.sublen(1))+cellcontent.at(alr.subpos(2),alr.sublen(2))+cellcontent.at(alr.subpos(3),alr.sublen(3));
201                         time_t tdiff = time_stamp_diff(tmpstr,curtime); // positive if curtime is later than suggested time
202                         if (tdiff>alsyncslack) { // recompute the AL
203                                 // determine if AL updating should be automatic
204                                 // *** Note: A separate configuration variable should be used if alautoupdate
205                                 //     should apply only to the recomputation of the AL in stop_TL_chunk()
206                                 //     above.
207                                 switch (alautoupdate) {
208                                         case AAU_NO:
209                                                 if (verbose) VOUT << "Warning: AL desynchronized, no automatic recomputation (alautoupdate==AAU_NO)\n";
210                                                 break;
211                                         case AAU_ASK:
212                                                 if (confirmation("AL desynchronized, update now? (y/N) ",'y')) break;
213                                         default:
214                                                 VOUT << "Recomputing AL\n";
215                                                 Detailed_Items_List dilist;
216                                                 DIL_entry ** dep = dilist.Sort_by_Target_Date(true);
217                                                 // *** make this able to request generation of an AL
218                                                 //     corresponding to the superior that generated curAL
219                                                 if (!generate_AL(dep)) EOUT << "dil2al: Unable to generate AL in select_TL_DIL_refs(), continuing as is\n";
220                                                 else { // get new version of AL
221                                                         curALstr = "";
222                                                         read_file_into_String(curAL,curALstr);
223                                                 }
224                                                 delete[] dep;
225                                 }
226                         }
227                         // *** it is possible to add a message here if curtime is a lot
228                         //     smaller than the suggested start time of the AL, e.g.
229                         //     if all suggested TCs for this AL day have been completed
230                 } else EOUT << "Day row missing at top of AL " << curAL << " in select_TL_DIL_refs(), continuing as is\n";
231         }
232         // some options from high priority current AL items
233         if (curALstr.length()>0) {
234                 int cellindex = 0; String cellparameters, cellcontent;
235                 while ((numdiloptions<6) && ((cellindex=HTML_get_table_cell(curALstr,cellindex,cellparameters,cellcontent))>=0))
236                         if (!cellcontent.contains(BigRegex("[<]!--[     ]+@select_TL_DIL_refs:[         ]+SKIP ROW@[    ]+--[>]"))) { // skip marked rows
237                                 diloptions[numdiloptions]=cellcontent;
238                                 String idhreftext;
239                                 if (HTML_get_href(cellcontent,0,cellparameters,idhreftext)>=0) {
240                                         // only unique DIL options
241                                         for (int i=0; i<numdiloptions; i++) if (diloptions[i].contains(idhreftext)) { cellparameters=""; break; }
242                                         if (cellparameters.length()>0) {
243                                                 diloptions[numdiloptions]=cellparameters+':'+cellcontent.after(BigRegex("[]]\n?"));
244                                                 HTML_remove_tags(diloptions[numdiloptions]);
245                                                 remove_whitespace(diloptions[numdiloptions]);
246                                                 if (diloptions[numdiloptions]!="") numdiloptions++;
247                                         }
248                                 } else EOUT << "Missing DIL entry reference in AL " << curAL << " in select_TL_DIL_refs(), continuing\n";
249                         }
250         }
251         // some options from recent DIL refs in TL
252         BigRegex r("[<]!-- \\(chunk\\|entry\\) Context --[>]\\([^\n][^(]*\\)(");
253         int pos = tl.length(), matchlen;
254         while (((pos = r.search(tl,pos-1,matchlen,-1))>=0) && (numdiloptions<10)) {
255 #ifdef VERBOSEDEBUG
256                 cout << "Context...\n";
257 #endif
258                 int subpos;
259                 if (r.match_info(subpos,matchlen,2)) {
260                         diloptions[numdiloptions] = tl.at(subpos,matchlen);
261 #ifdef VERBOSEDEBUG
262                         cout << "Candidate Context from TL: " << diloptions[numdiloptions] << '\n';
263 #endif
264                         String idhrefname = diloptions[numdiloptions].at(BigRegex("#[0-9]+[.][0-9]+"));
265                         // only unique DIL options
266                         for (int i=0; i<numdiloptions; i++) if (diloptions[i].contains(idhrefname)) { idhrefname=""; break; }
267                         if (idhrefname!="") {
268                                 diloptions[numdiloptions].del(BigRegex("[<]A [^>]*[Hh][Rr][Ee][Ff][     ]*=[^\"]*\""));
269                                 diloptions[numdiloptions].gsub("\">",":");
270                                 diloptions[numdiloptions].del(BigRegex("\\([<][^>]*[>]\\)?[     ]*("));
271                                 if (diloptions[numdiloptions]!="") numdiloptions++;
272                         }
273                 }
274         }
275         // can enter DIL ids directly, or quick-chooser choice from priority list, or textual comment instead of DIL
276         if (askALDILref) {
277                 String affiliation = "";
278                 while (affiliation=="") {
279                         if (useansi) cout << ANSI_UNDERLINE_ON; // underline on
280                         if (newchunk) cout << "\nChunk "; else cout << "\nEntry ";
281                         cout << "DIL reference ID or identifying comment (DIL references generally\npreferred) can include HREFs\n";
282                         if (useansi) cout << ANSI_UNDERLINE_OFF; // underline off
283                         for (int i=1; i<numdiloptions; i++) cout << i << ". " << diloptions[i] << '\n';
284                         if (useansi) cout << ANSI_BOLD_ON; // bold on
285                         cout << "\"\"=" << diloptions[0] << " DEFAULT,\n\"?\"=browse (e.g. use S to save file info to ~/tmp/dilref for dil2al),\n\"?&\"=fork browser, \"*\"=postpone and get new Active List\n(current AL = "
286                                 << curAL.after(basedir+RELLISTSDIR) << "): ";
287                         if (useansi) cout << ANSI_BOLD_OFF; // bold off
288                         cin.getline(lbuf,LLEN);
289                         if (lbuf[0]!='\0') {
290                                 affiliation = lbuf;
291                                 if (affiliation.matches(BRXint)) { // quick-select menu item
292                                         int q = atoi((const char *) affiliation);
293                                         if ((q>0) && (q<numdiloptions)) affiliation = diloptions[q].before(":");
294                                         else {
295                                                 EOUT << "dil2al: Selection " << q << " is not a predefined DIL reference option\n";
296                                                 affiliation = "";
297                                         }
298                                 } else if (affiliation.matches(BRXdouble)) { // DIL ID
299                                         ifstream dbid(idfile);
300                                         if (!dbid) {
301                                                 EOUT << "dil2al: Unable to read " << idfile << " in select_TL_DIL_ref()\n";
302                                                 return String("");
303                                         }
304                                         affiliation.prepend("#");
305 #ifdef DEBUG
306                                         cout << "seeking " << affiliation << '\n';
307 #endif
308                                         if (find_line(&dbid,affiliation,lbuf,LLEN)) {
309                                                 affiliation = lbuf;
310                                                 affiliation.del(BigRegex("[^<]*[<]TD[^>]*[>][<]A[^>]*[Hh][Rr][Ee][Ff]=\""));
311                                                 affiliation = affiliation.before("\"");
312 #ifdef DEBUG
313                                         cout << "exists: " << affiliation << '\n';
314 #endif
315                                         } else {
316                                                 EOUT << "dil2al: DIL reference " << affiliation << " not found in " << idfile << '\n';
317                                                 affiliation = "";
318                                         }
319                                         dbid.close();
320                                 } else if (affiliation=="?") {
321                                         if (system(browser+" "+curAL)<0) EOUT << "dil2al: Unable to browse in select_TL_DIL_refs(), continuing\n";
322                                         affiliation = "";
323                                         ifstream drf(dilref);
324                                         if (drf) {
325                                                 if (find_line(&drf,"Current URL",lbuf,LLEN)) {
326                                                         String urlline = lbuf;
327                                                         drf.getline(lbuf,LLEN);
328                                                         if (lbuf[0]==' ') urlline += lbuf;
329                                                         urlline.del("Current URL");
330                                                         urlline.del("file://");
331                                                         urlline.gsub(" ","");
332                                                         urlline.del(basedir+RELLISTSDIR);
333                                                         if (useansi) cout << ANSI_BOLD_ON; // bold on
334                                                         cout << "Take `" << urlline << "' as DIL reference ID or identifying comment? (y/N)";
335                                                         if (useansi) cout << ANSI_BOLD_OFF; // bold off
336                                                         cin.getline(lbuf,LLEN);
337                                                         if ((lbuf[0]=='y') || (lbuf[0]=='Y')) affiliation=urlline;
338                                                 }
339                                                 drf.close();
340                                                 unlink(dilref);
341                                         }
342                                 } else if (affiliation=="?&") {
343                                         if (system("rxvt -e "+browser+" "+curAL+" &")<0) EOUT << "dil2al: Unable to spawn a browser in select_TL_DIL_refs(), continuing\n";
344                                         affiliation = "";
345                                 } else if (affiliation!="*") affiliation.prepend("!"); // else non-DIL identifying comment
346                         } else {
347                                 affiliation=diloptions[0].before(":");
348                                 if (!newchunk) affiliation.prepend("*"); // same as chunk DIL (no entry specific reference required)
349                         }
350                 }
351                 return affiliation;
352         } else {
353                 diloptions[0]=diloptions[0].before(":");
354                 if (!newchunk) diloptions[0].prepend("*");
355                 return diloptions[0];
356         }
357 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!send_dil_to_DIL@{send\_\-dil\_\-to\_\-DIL}}
\index{send_dil_to_DIL@{send\_\-dil\_\-to\_\-DIL}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool send\_\-dil\_\-to\_\-DIL ({\bf String} {\em dilfile})}\label{dil2al_8hh_a300}




Definition at line 477 of file diladmin.cc.

References add\_\-new\_\-to\_\-DIL(), String::at(), backup\_\-and\_\-rename(), copy\_\-until\_\-line(), create\_\-new\_\-DIL(), String::del(), DIN, EOUT, generate\_\-tag(), String::gsub(), String::index(), read\_\-data\_\-from\_\-stream(), RELLISTSDIR, RX\_\-Search\_\-Safe(), Big\-Regex::sublen(), Big\-Regex::subpos(), substring\_\-from\_\-line(), and VOUT.

Referenced by dil2al\_\-commands().



\footnotesize\begin{verbatim}477                                      {
478         const int LLEN = 10240;
479         char lbuf[LLEN];
480         String dilid[2], dilfilename;
481         // read entry data into string buffer (to avoid confusion in case stdin and create file requests)
482         String dentrybuf;
483         if (verbose) VOUT << "Reading DIL entry content\n";
484         read_data_from_stream(DIN,dentrybuf,"@End of DIL entry@");
485         // get inline tag information and remove those inline tags
486         String supinfotag("DESUP"); supinfotag = RX_Search_Safe(generate_tag(supinfotag)); // get standardized tag
487         supinfotag.gsub(BigRegex(":[    ]*"),":[%_%]*\\(");
488         supinfotag.gsub(" ","[  ]+");
489         supinfotag.gsub("%_%","         ");
490         supinfotag.gsub("SUPid","[.0-9]+");
491         supinfotag.gsub(BigRegex("SI[^,)]*"),"[^,)]*");
492         supinfotag.gsub(BigRegex("\\(.\\)@"),"_1\\)@",'_');
493         BigRegex si(supinfotag); StringList supinfo; int supnum = 0;
494         while (dentrybuf.index(si)>=0) {
495                 supinfo[supnum] = dentrybuf.at(si.subpos(1),si.sublen(1)); // get superior id and information
496                 dentrybuf.del(si.subpos(0),si.sublen(0)); // remove tag
497                 supnum++;
498         }
499         // get name of DIL file regardless of whether it was a relative or absolute path
500         if (!substring_from_line("([^/]+)$",2,dilid,(const char *) dilfile)) {
501                 EOUT << "dil2al: Unable to parse name from DIL file path in send_dil_to_DIL()\n";
502                 return false;
503         } else dilfilename = dilid[1];
504         dilfile=basedir+RELLISTSDIR+dilfilename;
505         if (verbose) VOUT << "Sending DIL entry to " << dilfile << '\n';
506         ifstream df(dilfile);
507         if (!df) {
508                 // optionally create new DIL file
509                 cout << "DIL file " << dilfilename << " does not exist, create? (y/N) ";
510                 cin.getline(lbuf,LLEN);
511                 if ((lbuf[0]=='y') || (lbuf[0]=='Y')) {
512                         if (!create_new_DIL(dilfilename)) {
513                                 EOUT << "dil2al: Unable to create new DIL file " << dilfilename << " in send_dil_to_DIL()\n";
514                                 return false;
515                         }
516                         df.open(dilfile);
517                 } else return false;
518         }
519         if (df) {
520                 ofstream ndf(dilfile+".new");
521                 if (!ndf) {
522                         EOUT << "dil2al: Unable to create " << dilfile << ".new in send_dil_to_DIL()\n";
523                         return false;
524                 }
525                 if (verbose) VOUT << "Copying DIL to " << dilfile << ".new and adding new entry\n";
526                 // copy content up to bottom of DIL table
527                 if (copy_until_line(&df,&ndf,"[<]!-- *dil2al: *DIL *end *--[>]",lbuf,LLEN)<=0) {
528                         EOUT << "dil2al: End of DIL table ``<!-- dil2al: DIL end -->'' not found in send_dil_to_DIL()\n";
529                         return false;
530                 }
531                 // add new DIL content
532                 ndf << dentrybuf;
533                 // place end of DIL table marker
534                 ndf << lbuf << endl;
535                 // copy rest of DIL file
536                 ndf << df.rdbuf();
537                 df.close();
538                 ndf.close();
539         } else {
540                 EOUT << "dil2al: Unable to open new DIL file " << dilfilename << " in send_dil_to_DIL()\n";
541                 return false;
542         }
543         if (!backup_and_rename(dilfile,"DIL")) return false;
544         StringList * supinfoptr = NULL;
545         if (supinfo[0]!="") supinfoptr = &supinfo;
546         if (!add_new_to_DIL(dilfile,supinfoptr)) {
547                 EOUT << "dil2al: Unable to add new item from " << dilfile << " to DIL in send_dil_to_DIL()\n";
548                 return false;
549         }
550         return true;
551 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!Set_Parameter@{Set\_\-Parameter}}
\index{Set_Parameter@{Set\_\-Parameter}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Set\_\-Parameter (char $\ast$ {\em lbuf})}\label{dil2al_8hh_a209}




Definition at line 134 of file dil2al.cc.

References AAU\_\-ASK, AAU\_\-NO, AAU\_\-YES, ACW\_\-ASK, ACW\_\-TIME, ACW\_\-TL, alautoexpand, alautoupdate, alcumtimereqexcerptlength, alcurdayworkedstrategy, aldaydistfunc, ALDAYDISTFUNCLINEAR, ALDAYDISTFUNCSQUARED, aldaydistslope, alepshours, alfocused, algenall, algenregular, alshowcumulativereq, alsyncslack, alwide, alworkdaystart, ask\-ALDILref, askextractconcat, askprocesstype, followlinks, generatealtcs, hierarchyexcerptlength, hierarchymaxdepth, hierarchyplanparse, immediatesearchoutput, indexkeysnum, isdaemon, String::matches(), offercreate, pattern\_\-in\_\-line(), String::prepend(), quicknotedstnum, rapidscheduleupdating, remotesearch, reversehierarchy, searchprogressmeter, sectionsize, sectionstrategy, showflag, substring\_\-from\_\-line(), suggestnameref, targetdatepreferences, TCS\_\-ASK, TCS\_\-CURRENT, TCS\_\-NEW, timechunkoverstrategy, timechunksize, timechunkslack, timechunkunderstrategy, TSS\_\-ASK, TSS\_\-CURRENT, TSS\_\-NEW, UNIE\_\-ASK, UNIE\_\-NO, UNIE\_\-YES, updatenoteineditor, useansi, usequickloadcache, wdworkendprefs, and work\_\-end\_\-preferences().

Referenced by dil2al\_\-commands(), and initialize().



\footnotesize\begin{verbatim}134                                 {
135         String confdefs[4];
136         // notetarget definitions
137         if (substring_from_line("^[     ]*notetarget[   ]*=[    ]*([^   ]+)[    ]*([^:]+)(.*)$",4,confdefs,lbuf)) {
138                 if (confdefs[1][0]!='/') confdefs[1].prepend(homedir);
139                 quicknotedst[quicknotedstnum]=confdefs[1];
140                 quicknotedsttitle[quicknotedstnum]=confdefs[2];
141                 quicknotedescr[quicknotedstnum]=confdefs[3];
142                 quicknotedstnum++;
143         }
144         // indexkey definitions
145         if (substring_from_line("^[     ]*indexkey[     ]*=[    ]*(.+)$",2,confdefs,lbuf)) {
146                 indexkeys[indexkeysnum]=confdefs[1];
147                 indexkeysnum++;
148         }
149         // preferred editor
150         if (substring_from_line("^[     ]*editor[       ]*=[    ]*(.+)$",2,confdefs,lbuf)) editor=confdefs[1];
151         // preferred browser
152         if (substring_from_line("^[     ]*browser[      ]*=[    ]*(.+)$",2,confdefs,lbuf)) browser=confdefs[1];
153         // default time chunk size
154         if (substring_from_line("^[     ]*timechunksize[        ]*=[    ]*(.+)$",2,confdefs,lbuf)) timechunksize=atoi((const char *) confdefs[1]);
155         // default time chunk slack
156         if (substring_from_line("^[     ]*timechunkslack[       ]*=[    ]*(.+)$",2,confdefs,lbuf)) timechunkslack=atoi((const char *) confdefs[1]);
157         // new decision strategy when time chunk is over timechunksize+timechunkslack
158         if (substring_from_line("^[     ]*timechunkoverstrategy[        ]*=[    ]*(.+)$",2,confdefs,lbuf)) {
159                 if (confdefs[1]=="TCS_CURRENT") timechunkoverstrategy=TCS_CURRENT;
160                 else if (confdefs[1]=="TCS_NEW") timechunkoverstrategy=TCS_NEW;
161                 else if (confdefs[1]=="TCS_ASK") timechunkoverstrategy=TCS_ASK;
162                 else if (confdefs[1].matches(BRXint)) {
163                         int q = atoi((const char *) confdefs[1]);
164                         if ((q==TCS_CURRENT) || (q==TCS_NEW) || (q==TCS_ASK)) timechunkoverstrategy=q;
165                 }
166         }
167         // new decision strategy when time chunk is under timechunksize
168         if (substring_from_line("^[     ]*timechunkunderstrategy[       ]*=[    ]*(.+)$",2,confdefs,lbuf)) {
169                 if (confdefs[1]=="TCS_CURRENT") timechunkunderstrategy=TCS_CURRENT;
170                 else if (confdefs[1]=="TCS_NEW") timechunkunderstrategy=TCS_NEW;
171                 else if (confdefs[1]=="TCS_ASK") timechunkunderstrategy=TCS_ASK;
172                 else if (confdefs[1].matches(BRXint)) {
173                         int q = atoi((const char *) confdefs[1]);
174                         if ((q==TCS_CURRENT) || (q==TCS_NEW) || (q==TCS_ASK)) timechunkunderstrategy=q;
175                 }
176         }
177         // new TL section decision strategy
178         if (substring_from_line("^[     ]*sectionstrategy[      ]*=[    ]*(.+)$",2,confdefs,lbuf)) {
179                 if (confdefs[1]=="TSS_CURRENT") sectionstrategy=TSS_CURRENT;
180                 else if (confdefs[1]=="TSS_NEW") sectionstrategy=TSS_NEW;
181                 else if (confdefs[1]=="TSS_ASK") sectionstrategy=TSS_ASK;
182                 else if (confdefs[1].matches(BRXint)) {
183                         int q = atoi((const char *) confdefs[1]);
184                         if ((q==TSS_CURRENT) || (q==TSS_NEW) || (q==TSS_ASK)) sectionstrategy=q;
185                 }
186         }
187         // update note in editor strategy
188         if (substring_from_line("^[     ]*updatenoteineditor[   ]*=[    ]*(.+)$",2,confdefs,lbuf)) {
189                 if (confdefs[1]=="UNIE_NO") updatenoteineditor=UNIE_NO;
190                 else if (confdefs[1]=="UNIE_YES") updatenoteineditor=UNIE_YES;
191                 else if (confdefs[1]=="UNIE_ASK") updatenoteineditor=UNIE_ASK;
192                 else if (confdefs[1].matches(BRXint)) {
193                         int q = atoi((const char *) confdefs[1]);
194                         if ((q==UNIE_NO) || (q==UNIE_YES) || (q==UNIE_ASK)) updatenoteineditor=q;
195                 }
196         }
197         // AL current work day time worked estimation strategy
198         if (substring_from_line("^[     ]*alcurdayworkedstrategy[       ]*=[    ]*(.+)$",2,confdefs,lbuf)) {
199                 if (confdefs[1]=="ACW_TIME") alcurdayworkedstrategy=ACW_TIME;
200                 else if (confdefs[1]=="ACW_TL") alcurdayworkedstrategy=ACW_TL;
201                 else if (confdefs[1]=="ACW_ASK") alcurdayworkedstrategy=ACW_ASK;
202                 else if (confdefs[1].matches(BRXint)) {
203                         int q = atoi((const char *) confdefs[1]);
204                         if ((q==ACW_TIME) || (q==ACW_TL) || (q==ACW_ASK)) alcurdayworkedstrategy=q;
205                 }
206         }
207         // automatically update AL and completion ratios strategy
208         if (substring_from_line("^[     ]*alautoupdate[         ]*=[    ]*(.+)$",2,confdefs,lbuf)) {
209                 if (confdefs[1]=="AAU_NO") alautoupdate=AAU_NO;
210                 else if (confdefs[1]=="AAU_YES") alautoupdate=AAU_YES;
211                 else if (confdefs[1]=="AAU_ASK") alautoupdate=AAU_ASK;
212                 else if (confdefs[1].matches(BRXint)) {
213                         int q = atoi((const char *) confdefs[1]);
214                         if ((q==AAU_NO) || (q==AAU_YES) || (q==AAU_ASK)) alautoupdate=q;
215                 }
216         }
217         // selected AL Day distribution function
218         if (substring_from_line("^[     ]*aldaydistfunc[        ]*=[    ]*(.+)$",2,confdefs,lbuf)) {
219                 if (confdefs[1]=="ALDAYDISTFUNCLINEAR") aldaydistfunc=ALDAYDISTFUNCLINEAR;
220                 else if (confdefs[1]=="ALDAYDISTFUNCSQUARED") aldaydistfunc=ALDAYDISTFUNCSQUARED;
221                 else if (confdefs[1].matches(BRXint)) {
222                         int q = atoi((const char *) confdefs[1]);
223                         if ((q==ALDAYDISTFUNCLINEAR) || (q==ALDAYDISTFUNCSQUARED)) aldaydistfunc=q;
224                 }
225         }
226         // update note in editor command line
227         if (substring_from_line("^[     ]*updatenoteineditorcmd[        ]*=[    ]*(.+)$",2,confdefs,lbuf)) updatenoteineditorcmd=confdefs[1];
228         // default TL section size
229         if (substring_from_line("^[     ]*sectionsize[  ]*=[    ]*(.+)$",2,confdefs,lbuf)) sectionsize=atoi((const char *) confdefs[1]);
230         // default number of AL TCs to generate
231         if (substring_from_line("^[     ]*generatealtcs[        ]*=[    ]*(.+)$",2,confdefs,lbuf)) generatealtcs=atol((const char *) confdefs[1]);
232         // default number of AL TCs to show in the shorter listing
233         if (substring_from_line("^[     ]*alfocused[    ]*=[    ]*(.+)$",2,confdefs,lbuf)) alfocused=atoi((const char *) confdefs[1]);
234         // default number of AL TCs to show in the longer listing
235         if (substring_from_line("^[     ]*alwide[       ]*=[    ]*(.+)$",2,confdefs,lbuf)) alwide=atoi((const char *) confdefs[1]);
236         // default number of hours in a regular AL-day
237         if (substring_from_line("^[     ]*algenregular[         ]*=[    ]*(.+)$",2,confdefs,lbuf)) algenregular=atoi((const char *) confdefs[1]);
238         // default number of hours in an AL-day for an AL with all DIL-entries
239         if (substring_from_line("^[     ]*algenall[     ]*=[    ]*(.+)$",2,confdefs,lbuf)) algenall=atoi((const char *) confdefs[1]);
240         // assumed available hours per day for EPS scheduling method
241         if (substring_from_line("^[     ]*alepshours[   ]*=[    ]*(.+)$",2,confdefs,lbuf)) alepshours=atof((const char *) confdefs[1]);
242         // default standard start time of work on a regular work day (seconds since midnight)
243         if (substring_from_line("^[     ]*alworkdaystart[       ]*=[    ]*(.+)$",2,confdefs,lbuf)) alworkdaystart=atol((const char *) confdefs[1]);
244         // default allowable desynchronization between AL suggested start and current time in seconds
245         if (substring_from_line("^[     ]*alsyncslack[  ]*=[    ]*(.+)$",2,confdefs,lbuf)) alsyncslack=atol((const char *) confdefs[1]);
246         // default slope of AL Day distribution
247         if (substring_from_line("^[     ]*aldaydistslope[       ]*=[    ]*(.+)$",2,confdefs,lbuf)) aldaydistslope=atof((const char *) confdefs[1]);
248         // command used to set up an at-job
249         if (substring_from_line("^[     ]*atcommand[    ]*=[    ]*(.+)$",2,confdefs,lbuf)) atcommand=confdefs[1];
250         // default depth to follow links in a search
251         if (substring_from_line("^[     ]*followlinks[  ]*=[    ]*(.+)$",2,confdefs,lbuf)) followlinks=atoi((const char *) confdefs[1]);
252         // HTML form interface
253         if (substring_from_line("^[     ]*htmlforminterface[    ]*=[    ]*(.+)$",2,confdefs,lbuf)) htmlforminterface=confdefs[1];
254         // HTML form method
255         if (substring_from_line("^[     ]*htmlformmethod[       ]*=[    ]*(.+)$",2,confdefs,lbuf)) htmlformmethod=confdefs[1];
256         // default length of text excerpt from DIL entry in row of Comulative Time Required form
257         if (substring_from_line("^[     ]*alcumtimereqexcerptlength[    ]*=[    ]*(.+)$",2,confdefs,lbuf)) alcumtimereqexcerptlength=atoi((const char *) confdefs[1]);
258         // default depth of DIL hierarchy
259         if (substring_from_line("^[     ]*hierarchymaxdepth[    ]*=[    ]*(.+)$",2,confdefs,lbuf)) hierarchymaxdepth=atoi((const char *) confdefs[1]);
260         // default length of text excerpt from DIL entry in row of DIL hierarchy
261         if (substring_from_line("^[     ]*hierarchyexcerptlength[       ]*=[    ]*(.+)$",2,confdefs,lbuf)) hierarchyexcerptlength=atoi((const char *) confdefs[1]);
262         // automatically expand number of hours per day as necessary
263         if (pattern_in_line("^[         ]*alautoexpand[         ]*",lbuf)) alautoexpand=true;
264         if (pattern_in_line("^[         ]*noalautoexpand[       ]*",lbuf)) alautoexpand=false;
265         // scheduled controller call at-job command line
266         if (substring_from_line("^[     ]*atcontroller[         ]*=[    ]*(.+)$",2,confdefs,lbuf)) atcontroller=confdefs[1];
267         if (pattern_in_line("^[         ]*suggestnameref[       ]*",lbuf)) suggestnameref=true;
268         if (pattern_in_line("^[         ]*askprocesstype[       ]*",lbuf)) askprocesstype=true;
269         if (pattern_in_line("^[         ]*offercreate[  ]*",lbuf)) offercreate=true;
270         if (pattern_in_line("^[         ]*askALDILref[  ]*",lbuf)) askALDILref=true;
271         if (pattern_in_line("^[         ]*showflag[     ]*",lbuf)) showflag=true;
272         if (substring_from_line("^[     ]*flagcmd[      ]*=[    ]*(.+)$",2,confdefs,lbuf)) flagcmd=confdefs[1];
273         if (pattern_in_line("^[         ]*noshowflag[   ]*",lbuf)) showflag=false;
274         if (pattern_in_line("^[         ]*isdaemon[     ]*",lbuf)) isdaemon=true;
275         if (pattern_in_line("^[         ]*useansi[      ]*",lbuf)) useansi=true;
276         if (pattern_in_line("^[         ]*nouseansi[    ]*",lbuf)) useansi=false;
277         if (pattern_in_line("^[         ]*askextractconcat[     ]*",lbuf)) askextractconcat=true;
278         if (pattern_in_line("^[         ]*noaskextractconcat[   ]*",lbuf)) askextractconcat=false;
279         if (pattern_in_line("^[         ]*searchprogressmeter[  ]*",lbuf)) searchprogressmeter=true;
280         if (pattern_in_line("^[         ]*nosearchprogressmeter[        ]*",lbuf)) searchprogressmeter=false;
281         if (pattern_in_line("^[         ]*immediatesearchoutput[        ]*",lbuf)) immediatesearchoutput=true;
282         if (pattern_in_line("^[         ]*noimmediatesearchoutput[      ]*",lbuf)) immediatesearchoutput=false;
283         if (pattern_in_line("^[         ]*remotesearch[         ]*",lbuf)) remotesearch=true;
284         if (pattern_in_line("^[         ]*noremotesearch[       ]*",lbuf)) remotesearch=false;
285         if (pattern_in_line("^[         ]*alshowcumulativereq[  ]*",lbuf)) alshowcumulativereq=true;
286         if (pattern_in_line("^[         ]*noalshowcumulativereq[        ]*",lbuf)) alshowcumulativereq=false;
287         if (pattern_in_line("^[         ]*rapidscheduleupdating[        ]*",lbuf)) rapidscheduleupdating=true;
288         if (pattern_in_line("^[         ]*norapidscheduleupdating[      ]*",lbuf)) rapidscheduleupdating=false;
289         if (pattern_in_line("^[         ]*targetdatepreferences[        ]*",lbuf)) targetdatepreferences=true;
290         if (pattern_in_line("^[         ]*notargetdatepreferences[      ]*",lbuf)) targetdatepreferences=false;
291         // the following seven parameters detected set preferred times for each day of the week at which the work day ends (used in the RSU method)
292         if (substring_from_line("^[     ]*sundayendwork[        ]*=[    ]*(.+)$",2,confdefs,lbuf)) wdworkendprefs[0] = work_end_preferences(confdefs[1]);
293         if (substring_from_line("^[     ]*mondayendwork[        ]*=[    ]*(.+)$",2,confdefs,lbuf)) wdworkendprefs[1] = work_end_preferences(confdefs[1]);
294         if (substring_from_line("^[     ]*tuesdayendwork[       ]*=[    ]*(.+)$",2,confdefs,lbuf)) wdworkendprefs[2] = work_end_preferences(confdefs[1]);
295         if (substring_from_line("^[     ]*wednesdayendwork[     ]*=[    ]*(.+)$",2,confdefs,lbuf)) wdworkendprefs[3] = work_end_preferences(confdefs[1]);
296         if (substring_from_line("^[     ]*thursdayendwork[      ]*=[    ]*(.+)$",2,confdefs,lbuf)) wdworkendprefs[4] = work_end_preferences(confdefs[1]);
297         if (substring_from_line("^[     ]*fridayendwork[        ]*=[    ]*(.+)$",2,confdefs,lbuf)) wdworkendprefs[5] = work_end_preferences(confdefs[1]);
298         if (substring_from_line("^[     ]*saturdayendwork[      ]*=[    ]*(.+)$",2,confdefs,lbuf)) wdworkendprefs[6] = work_end_preferences(confdefs[1]);
299         if (pattern_in_line("^[         ]*usequickloadcache[    ]*",lbuf)) usequickloadcache=true;
300         if (pattern_in_line("^[         ]*nousequickloadcache[  ]*",lbuf)) usequickloadcache=false;
301         if (pattern_in_line("^[         ]*reversehierarchy[     ]*",lbuf)) reversehierarchy=true;
302         if (pattern_in_line("^[         ]*noreversehierarchy[   ]*",lbuf)) reversehierarchy=false;
303         if (pattern_in_line("^[         ]*hierarchyplanparse[   ]*",lbuf)) hierarchyplanparse=true;
304         if (pattern_in_line("^[         ]*nohierarchyplanparse[         ]*",lbuf)) hierarchyplanparse=false;
305 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!Show_DIL_Hierarchy@{Show\_\-DIL\_\-Hierarchy}}
\index{Show_DIL_Hierarchy@{Show\_\-DIL\_\-Hierarchy}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Show\_\-DIL\_\-Hierarchy ({\bf DIL\_\-entry} $\ast$ {\em topde}, {\bf DIL\_\-Visualize} \& {\em dv}, const int {\em maxdepth}, int {\em depth} = 0, double {\em likelihood} = DILSUPS\_\-REL\_\-UNSPECIFIED)}\label{dil2al_8hh_a311}




Definition at line 1388 of file diladmin.cc.

References DIL\_\-Visualize::Attach\_\-Level\_\-Data(), DIL\_\-ID::chars(), DIL\_\-Visualize::Detach\_\-Level\_\-Data(), DILSUPS\_\-REL\_\-UNSPECIFIED, EOUT, DIL\_\-Visualize::get\_\-cumlikelihood(), PLLHandle$<$ DIL\_\-entry $>$::head(), DIL\_\-Visualize::ldroot, PLLRoot$<$ DIL\_\-Hierarchy\_\-Level\_\-Data $>$::link\_\-before(), PLL\_\-LOOP\_\-FORWARD, DIL\_\-entry::Projects(), DIL\_\-Visualize::set\_\-cumlikelihood(), DIL\_\-Visualize::Visualize\_\-Element(), and DIL\_\-Visualize::Visualize\_\-Not\-Shown().

Referenced by Tabbed\_\-DIL\_\-Hierarchy(), Tabbed\_\-FORM\_\-DIL\_\-Hierarchy(), Tabbed\_\-FORM\_\-DIL\_\-Hierarchy\_\-full(), and Tabbed\_\-HTML\_\-DIL\_\-Hierarchy().



\footnotesize\begin{verbatim}1388                                                                                                                                                {
1389 // create a visual representation of a DIL hierarchy from a DIL entry
1390 // topde must be part of a valid Detailed_Items_List or at least part
1391 // of a valid PLLHandle<DIL_entry> list.
1392 #ifdef DEBUG_PLAN_ENTRY
1393   EOUT << "Show " << topde->chars() << '\n'; EOUT.flush();
1394 #endif
1395   DIL_Hierarchy_Level_Data ld(*topde,likelihood);
1396   dv.ldroot.link_before(&ld); // link into list of level data in this depth first process
1397   dv.Attach_Level_Data(ld);
1398   dv.Visualize_Element(topde,depth);
1399   dv.Detach_Level_Data();
1400   depth++;
1401   int numdependencies = 0; double thislevelcumlikelihood = dv.get_cumlikelihood();
1402   if (reversehierarchy) {
1403     DIL_AL_List * topdeproj = topde->Projects(0);
1404     if (topdeproj) PLL_LOOP_FORWARD(DIL_AL_List,topdeproj,1) if (!(e->Superiorbyid()==topde)) {
1405       if (maxdepth>=depth) {
1406         dv.set_cumlikelihood(thislevelcumlikelihood);
1407         Show_DIL_Hierarchy(e->Superiorbyid(),dv,maxdepth,depth,e->PLAN_OUTCOME_LIKELIHOOD);
1408       } else numdependencies++;
1409     }
1410   } else {
1411     PLL_LOOP_FORWARD(DIL_entry,topde->head(),1) if (e->Is_Direct_Dependency_Of(topde)) {
1412       if (maxdepth>=depth) Show_DIL_Hierarchy(e,dv,maxdepth,depth);
1413       else numdependencies++;
1414     }
1415   }
1416   // the following is used to convey benefit/risk information for PLAN
1417   // entries and if maxdepth was reached and there are further dependencies
1418   dv.Attach_Level_Data(ld);
1419   dv.Visualize_NotShown(numdependencies,depth);
1420   dv.Detach_Level_Data();
1421   // ld is automatically removed from list of level data in this depth first process
1422 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!stop_TL_chunk@{stop\_\-TL\_\-chunk}}
\index{stop_TL_chunk@{stop\_\-TL\_\-chunk}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void stop\_\-TL\_\-chunk ({\bf String} \& {\em tl})}\label{dil2al_8hh_a322}




Definition at line 117 of file tladmin.cc.

References AAU\_\-ASK, AAU\_\-NO, String::after(), String::before(), confirmation(), EOUT, generate\_\-AL(), get\_\-most\_\-recent\_\-TC\_\-AL(), get\_\-most\_\-recent\_\-TC\_\-DE(), String::gsub(), locate\_\-most\_\-recent\_\-TL\_\-chunk(), String::matches(), remove\_\-AL\_\-TC(), Detailed\_\-Items\_\-List::Sort\_\-by\_\-Target\_\-Date(), time\_\-stamp\_\-diff(), update\_\-DIL\_\-entry\_\-elements(), and VOUT.

Referenced by add\_\-TL\_\-chunk\_\-or\_\-entry(), add\_\-TL\_\-section(), and chunk\_\-controller().



\footnotesize\begin{verbatim}117                                 {
118 // Mark the completion time of a Task Log chunk if there is one open
119 // AL options determine if and how the current AL and closed chunk's
120 // DIL entry should be updated, and the corresponding update is done.
121         if (tl.gsub(BigRegex("[<]!--[   ]+chunk End[    ]+--[>][        ]*[<]/TD[>][    ]*[<]/TR[>]"),"<!-- chunk End --><I>"+curtime+"</I></TD></TR>")<=0) return;
122         // determine if AL anc completion ratios should be updated automatically
123         if (alautoupdate==AAU_NO) return;
124         if (alautoupdate==AAU_ASK) if (confirmation("Update AL and completion ratios? (y/N) ",'y')) return;
125         // obtain AL and DIL information from the most recent chunk
126         String chunkid; int lasttlchunk;
127         if ((lasttlchunk = locate_most_recent_TL_chunk(tl,-1,&chunkid))>=0) {
128                 bool recomputeAL = false;
129                 String curAL = get_most_recent_TC_AL(tl);
130                 String curDE = get_most_recent_TC_DE(tl);
131                 // a proper DIL entry ID is returned in the form:
132                 // some-DIL-file.html#XXXXXXXXXXXXXX.Y:DIL-title-and-entry-ID
133                 curDE = curDE.before(':'); curDE = curDE.after('#');
134                 if (curDE.matches(BRXdouble)) {
135                         time_t tdiff = time_stamp_diff(chunkid,curtime);
136 // *** suggest tdiff, but allow entry of other time, in which
137 //     case request if required time and completion status should
138 //     be modified directly
139 // *** if tdiff > taskchunksize*1.25 recompute AL... this test
140 //     may not be necessary, since any significant delay will
141 //     cause desynchronization between the updated suggested
142 //     start time in the AL and the current time, which causes
143 //     recomputation of the AL when a significant difference is
144 //     detected in select_TL_DIL_refs()
145                         if (!update_DIL_entry_elements(curDE,0.0,false,0.0,true,0.0,false,tdiff)) recomputeAL = true;
146                         if (!remove_AL_TC(curAL,curDE)) recomputeAL = true;
147                 } else {
148                         VOUT << "Completed task chunk was not a DIL entry\n";
149                         recomputeAL = true;
150                 }
151                 if (recomputeAL) { // recompute the AL
152                         VOUT << "Recomputing AL\n";
153                         Detailed_Items_List dilist;
154                         DIL_entry ** dep = dilist.Sort_by_Target_Date(true);
155                         if (!generate_AL(dep)) EOUT << "dil2al: Unable to generate AL in stop_TL_chunk(), continuing as is\n";
156                         delete[] dep;
157                 }
158         } else EOUT << "dil2al: Unable to update AL and DIL entry in stop_TL_chunk(), continuing\n";
159 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!substring_from_line@{substring\_\-from\_\-line}}
\index{substring_from_line@{substring\_\-from\_\-line}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool substring\_\-from\_\-line (const char $\ast$ {\em pattern}, int {\em nsub}, {\bf String} $\ast$ {\em dilid}, const char $\ast$ {\em lbuf})}\label{dil2al_8hh_a244}




Definition at line 2180 of file utilities.cc.

References EOUT.

Referenced by add\_\-new\_\-to\_\-DIL(), create\_\-new\_\-DIL(), send\_\-dil\_\-to\_\-DIL(), and Set\_\-Parameter().



\footnotesize\begin{verbatim}2180                                                                                             {
2181         const int SLEN = 1024;
2182         char sbuf[SLEN];
2183         regex_t re;
2184         regmatch_t * rm;
2185         int mres;
2186         if (nsub) {
2187                 if (regcomp(&re,pattern, REG_EXTENDED) != 0) {
2188                         EOUT << "dil2al: Unable to compile regular expression in substring_from_line()\n";
2189                         return false;
2190                 }
2191                 rm = new regmatch_t[nsub];
2192                 mres = regexec(&re,lbuf, (size_t) nsub, rm, 0);
2193                 if ((mres != 0) && (mres != REG_NOMATCH)) {
2194                         EOUT << "dil2al: Internal error while matching in substring_from_line()\n";
2195                 } else {
2196                         if (!mres) {
2197                                 if (rm[nsub-1].rm_so==-1) {
2198                                         EOUT << "dil2al: Wrong number of substring matches in substring_from_line()\n";
2199                                         mres = 3;
2200                                 } else {
2201                                         for (int i=0; i<nsub; i++) {
2202                                                 strncpy(sbuf,&lbuf[rm[i].rm_so],rm[i].rm_eo-rm[i].rm_so);
2203                                                 sbuf[rm[i].rm_eo-rm[i].rm_so]='\0';
2204                                                 dilid[i] = sbuf;
2205                                         }
2206                                 }
2207                         }
2208                 }
2209                 delete[] rm;
2210                 return (mres==0);
2211         } else {
2212                 EOUT << "dil2al: nsub==0 in substring_from_line()\n";
2213                 return false;
2214         }
2215 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!Tabbed_DIL_Hierarchy@{Tabbed\_\-DIL\_\-Hierarchy}}
\index{Tabbed_DIL_Hierarchy@{Tabbed\_\-DIL\_\-Hierarchy}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} Tabbed\_\-DIL\_\-Hierarchy ({\bf String} {\em dilidstr}, int {\em maxdepth} = 50)}\label{dil2al_8hh_a312}




Definition at line 1424 of file diladmin.cc.

References String::after(), String::before(), DIL\_\-entry::elbyid(), String::empty(), EOUT, Detailed\_\-Items\_\-List::Get\_\-All\_\-DIL\_\-ID\_\-File\_\-Parameters(), Detailed\_\-Items\_\-List::Get\_\-All\_\-Topical\_\-DIL\_\-Parameters(), PLLRoot$<$ DIL\_\-entry $>$::head(), Detailed\_\-Items\_\-List::list, DIL\_\-Visualize\_\-with\_\-Tabs::Output(), DIL\_\-Visualize\_\-with\_\-Tabs::Output\_\-Content(), Show\_\-DIL\_\-Hierarchy(), DIL\_\-ID::valid(), and write\_\-file\_\-from\_\-String().

Referenced by DIL\_\-Hierarchy\_\-cmd().



\footnotesize\begin{verbatim}1424                                                                 {
1425 // visualize a DIL hierarchy starting at dilid with tabs indicating depth
1426         DIL_Visualize_with_Tabs dv;
1427         // 3. Get optional expressions that must occur in DIL entry content text
1428         String expressions(dilidstr.after('#'));
1429         if (!expressions.empty()) dilidstr = dilidstr.before('#');
1430         // 4. Get optional ContentFile reference
1431         String contentfile(dilidstr.after('c'));
1432         if (!contentfile.empty()) dilidstr = dilidstr.before('c');
1433         DIL_ID dilid(dilidstr);
1434         if (!dilid.valid()) return String("");
1435         Detailed_Items_List dilist;
1436         dilist.Get_All_DIL_ID_File_Parameters();
1437         if (!contentfile.empty()) dilist.Get_All_Topical_DIL_Parameters(true);
1438         if (dilist.list.head()) Show_DIL_Hierarchy(dilist.list.head()->elbyid(dilid),dv,maxdepth);
1439         if (!contentfile.empty()) if (!write_file_from_String(contentfile,dv.Output_Content(),"DIL Hierarchy Content")) EOUT << "dil2al: Unable to write " << contentfile << "in Tabbed_DIL_Hierarchy(), continuing as is\n";
1440         return dv.Output();
1441 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!Tabbed_FORM_DIL_Hierarchy@{Tabbed\_\-FORM\_\-DIL\_\-Hierarchy}}
\index{Tabbed_FORM_DIL_Hierarchy@{Tabbed\_\-FORM\_\-DIL\_\-Hierarchy}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} Tabbed\_\-FORM\_\-DIL\_\-Hierarchy ({\bf String} {\em dilidstr}, int {\em maxdepth} = 50)}\label{dil2al_8hh_a314}




Definition at line 1488 of file diladmin.cc.

References String::after(), DIL\_\-Visualize\_\-with\_\-FORM\_\-Tabs::Append(), String::before(), DIL\_\-entry::elbyid(), String::empty(), EOUT, Detailed\_\-Items\_\-List::Get\_\-All\_\-DIL\_\-ID\_\-File\_\-Parameters(), Detailed\_\-Items\_\-List::Get\_\-All\_\-Topical\_\-DIL\_\-Parameters(), PLLRoot$<$ DIL\_\-entry $>$::head(), String\-List::length(), Detailed\_\-Items\_\-List::list, DIL\_\-Visualize\_\-with\_\-FORM\_\-Tabs::Output(), DIL\_\-Visualize\_\-with\_\-FORM\_\-Tabs::Output\_\-Content(), Show\_\-DIL\_\-Hierarchy(), Tabbed\_\-FORM\_\-DIL\_\-Hierarchy\_\-full(), DIL\_\-ID::valid(), VOUT, and write\_\-file\_\-from\_\-String().

Referenced by DIL\_\-Hierarchy\_\-cmd().



\footnotesize\begin{verbatim}1488                                                                      {
1489 // Visualize a DIL hierarchy starting at dilid with tabs indicating depth
1490 // including HREFs and other HTML code, while HTML head and tail code are
1491 // left to the content in which the extracted hierarchy is embedded.
1492 // A comment is included that enables commenting out of process output simply
1493 // by appending "<!-- " to the head code.
1494 // Note that since standard output does not know which file the text may
1495 // be embedded in, HREF file references are absolute. Post-processing may
1496 // convert those to relative references.
1497 // This output presents FORM check boxes and a "submit" button that extracts
1498 // checked DIL IDs with the aid of dil2al form processing.
1499 // There is also a "new hierarchy" button that uses the checked boxes as
1500 // the top items in new hierarchies to visualize.
1501 #ifdef DEBUG_HIERARCHY_EXPRESSIONS
1502   VOUT << "&&& Tabbed_FORM_DIL_Hierarchy: dilidstr = " << dilidstr << '\n';
1503 #endif
1504   DIL_Visualize_with_FORM_Tabs dv;
1505   // 3. Get optional expressions that must occur in DIL entry content text
1506   String expressions(dilidstr.after('#'));
1507   if (!expressions.empty()) dilidstr = dilidstr.before('#');
1508   // 4. Get optional ContentFile reference
1509   String contentfile(dilidstr.after('c'));
1510   if (!contentfile.empty()) dilidstr = dilidstr.before('c');
1511   // dilidstr may now contain no, one or several DIL IDs
1512   Detailed_Items_List dilist;
1513   dilist.Get_All_DIL_ID_File_Parameters();
1514   dilist.Get_All_Topical_DIL_Parameters(true); // always get for FORM hierarchy
1515   if (!dilist.list.head()) return String("");
1516   if (dilidstr.empty()) { // full hierarchy
1517     VOUT << "No specific DIL ID, creating full hierarchy\n";
1518     // *** Is implemented in ~/doc/html/lists.html: maxdepth = 5; // reduced depth for full hierarchy
1519     Tabbed_FORM_DIL_Hierarchy_full(dilist,dv,maxdepth,expressions);
1520   } else {
1521         StringList dilidlist(dilidstr,'+'); int dilidnum = dilidlist.length();
1522         DIL_ID dilid;
1523         for (int i = 0; i<dilidnum; i++) {
1524                 dilid = dilidlist[i];
1525                 if (dilid.valid()) {
1526                         Show_DIL_Hierarchy(dilist.list.head()->elbyid(dilid),dv,maxdepth);
1527                         dv.Append("<HR>\n");
1528                 }
1529         }
1530         if (!expressions.empty()) Tabbed_FORM_DIL_Hierarchy_full(dilist,dv,maxdepth,expressions);
1531   }
1532   if (!contentfile.empty()) if (!write_file_from_String(contentfile,dv.Output_Content(),"DIL Hierarchy Content")) EOUT << "dil2al: Unable to write " << contentfile << "in Tabbed_HTML_DIL_Hierarchy(), continuing as is\n";
1533   // prepare the FORM output
1534   String formoutputstr("<!-- comment out process output --><B>Maximum Depth = ");
1535   formoutputstr += String((long) maxdepth)+"</B>\n<FORM METHOD=\"GET\" ACTION=\"/cgi-bin/dil2al\"><INPUT type=\"hidden\" name=\"dil2al\" value=\"D\">\n<PRE>\n"+dv.Output()+"</PRE>\n<P>\n<INPUT type=\"radio\" name=\"processcmd\" value=\"extract\"> Extract\n<BR><INPUT type=\"radio\" name=\"processcmd\" value=\"newhierarchy\" checked> New Hierarchy with depth: <INPUT type=\"text\" name=\"maxdepth\" value=\"" + String((long) maxdepth) + "\" maxlength=5> and excerpt length: <INPUT type=\"text\" name=\"setpar__EQ__hierarchyexcerptlength\" value=\""+String((long) hierarchyexcerptlength)+"\" maxlength=5> <INPUT type=\"radio\" name=\"setpar\" value=\"noreversehierarchy\"";
1536   if (!reversehierarchy) formoutputstr += " checked";
1537   formoutputstr += "> top-down <INPUT type=\"radio\" name=\"setpar\" value=\"reversehierarchy hierarchyplanparse\"";
1538   if (reversehierarchy) formoutputstr += " checked";
1539   formoutputstr += "> bottom-up <INPUT type=\"checkbox\" name=\"expressions\" value=\"%40begin%3A%20PLAN%20DIL%20TEMPLATE\"";
1540   if (!expressions.empty()) formoutputstr += " checked";
1541   formoutputstr += "> PLAN entries only\n<BR><INPUT type=\"submit\" value=\"Process\"> <INPUT type=\"reset\"></FORM>\n";
1542   return formoutputstr;
1543 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!Tabbed_HTML_DIL_Hierarchy@{Tabbed\_\-HTML\_\-DIL\_\-Hierarchy}}
\index{Tabbed_HTML_DIL_Hierarchy@{Tabbed\_\-HTML\_\-DIL\_\-Hierarchy}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} Tabbed\_\-HTML\_\-DIL\_\-Hierarchy ({\bf String} {\em dilidstr}, int {\em maxdepth} = 50)}\label{dil2al_8hh_a313}




Definition at line 1443 of file diladmin.cc.

References String::after(), String::before(), DIL\_\-entry::elbyid(), String::empty(), EOUT, Detailed\_\-Items\_\-List::Get\_\-All\_\-DIL\_\-ID\_\-File\_\-Parameters(), Detailed\_\-Items\_\-List::Get\_\-All\_\-Topical\_\-DIL\_\-Parameters(), PLLRoot$<$ DIL\_\-entry $>$::head(), Detailed\_\-Items\_\-List::list, DIL\_\-Visualize\_\-with\_\-HTML\_\-Tabs::Output(), DIL\_\-Visualize\_\-with\_\-HTML\_\-Tabs::Output\_\-Content(), Show\_\-DIL\_\-Hierarchy(), DIL\_\-ID::valid(), and write\_\-file\_\-from\_\-String().

Referenced by DIL\_\-Hierarchy\_\-cmd().



\footnotesize\begin{verbatim}1443                                                                      {
1444 // visualize a DIL hierarchy starting at dilid with tabs indicating depth
1445 // including HREFs and other HTML code, while HTML head and tail code are
1446 // left to the content in which the extracted hierarchy is embedded
1447 // Note that since standard output does not know which file the text may
1448 // be embedded in, HREF file references are absolute. Post-processing may
1449 // convert those to relative references.
1450         DIL_Visualize_with_HTML_Tabs dv;
1451         // 3. Get optional expressions that must occur in DIL entry content text
1452         String expressions(dilidstr.after('#'));
1453         if (!expressions.empty()) dilidstr = dilidstr.before('#');
1454         // 4. Get optional ContentFile reference
1455         String contentfile(dilidstr.after('c'));
1456         if (!contentfile.empty()) dilidstr = dilidstr.before('c');
1457         DIL_ID dilid(dilidstr);
1458         if (!dilid.valid()) return String("");
1459         Detailed_Items_List dilist;
1460         dilist.Get_All_DIL_ID_File_Parameters();
1461         if (!contentfile.empty()) dilist.Get_All_Topical_DIL_Parameters(true);
1462         if (dilist.list.head()) Show_DIL_Hierarchy(dilist.list.head()->elbyid(dilid),dv,maxdepth);
1463         if (!contentfile.empty()) if (!write_file_from_String(contentfile,dv.Output_Content(),"DIL Hierarchy Content")) EOUT << "dil2al: Unable to write " << contentfile << "in Tabbed_HTML_DIL_Hierarchy(), continuing as is\n";
1464         return "<PRE>\n"+dv.Output()+"</PRE>\n";
1465 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!TeX_format_corrections@{TeX\_\-format\_\-corrections}}
\index{TeX_format_corrections@{TeX\_\-format\_\-corrections}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Te\-X\_\-format\_\-corrections ({\bf String} \& {\em ostrtext}, bool {\em estimate} = {\bf false})}\label{dil2al_8hh_a354}




Definition at line 307 of file ppfilter.cc.

References String::at(), String::before(), String::elem(), String::from(), String::gsub(), String::index(), String::length(), String::matches(), RX\_\-Search\_\-Safe(), String::SEARCH\_\-END, String::sub(), Big\-Regex::sublen(), Big\-Regex::subpos(), Te\-X\_\-get\_\-argument(), Te\-X\_\-get\_\-command(), Te\-X\_\-get\_\-scope(), and VOUT.

Referenced by extract\_\-paper\_\-plan\_\-to\_\-paper().



\footnotesize\begin{verbatim}307                                                                       {
308 // corrections applied to a generated TeX text
309 // rather than assuming a plain text source as above, this function assumes
310 // a TeX draft
311         const BigRegex TeXerr_refrx("\\\\\\\(ref\\|cite\\)\\([{]\\)[^}]*\\([{\\]\\)");
312         const BigRegex TeXnon_refrx("[^-0-9A-Za-z:._+]");
313         const BigRegex TeXnon_citerx("[^-0-9A-Za-z:._+,]");
314         const BigRegex TeXerr_reflblrx("\\\\ref[{]\\([^}]*[^-0-9A-Za-z:._+}][^}]*\\)[}]");
315         const BigRegex TeXerr_citelblrx("\\\\cite[{]\\([^}]*[^-0-9A-Za-z:._+,}][^}]*\\)[}]");
316         const BigRegex TeXfighererx("\\\\[A-za-z]*figurehere");
317         int i,j,k; String movestr, reststr;
318         // a) \ref{ \command[]{}{} } or \ref{ {  } } or \cite{ \command[]{}{} } or \cite{ {  } }
319         while ((i=ostrtext.index(TeXerr_refrx))>=0) { // iteratively applied to the whole text
320                 if ((k=TeX_get_command(ostrtext,i,reststr))>=0) {
321                         switch (ostrtext.elem(TeXerr_refrx.subpos(3))) {
322                                 case '\\': // move interfering command after \ref{} or \cite{}
323                                         if ((j=TeX_get_command(ostrtext,TeXerr_refrx.subpos(3),movestr))>=0) {
324                                                 reststr = ostrtext.at(j,k-j)+movestr+ostrtext.from(k);
325                                                 ostrtext = ostrtext.before(TeXerr_refrx.subpos(3));
326                                                 ostrtext += reststr;
327                                                 if (verbose) VOUT << "TeX Correction: Moved TeX command out of " << String(ostrtext.at(i,(k-movestr.length())-i)) << '\n';
328                                         } else { // loose `\'
329                                                 ostrtext[TeXerr_refrx.subpos(3)] = '-';
330                                                 if (verbose) VOUT << "TeX Correction: Changed `\\' to `-' in " << String(ostrtext.at(i,k-i)) << '\n';
331                                         }
332                                         break;
333                                 case '{': // move interfereing scope after \ref{} or \cite{}
334                                         if ((j=TeX_get_scope(ostrtext,TeXerr_refrx.subpos(3),movestr))>=0) {
335                                                 reststr = ostrtext.at(j,k-j)+'{'+movestr+'}'+ostrtext.from(k);
336                                                 ostrtext = ostrtext.before(TeXerr_refrx.subpos(3));
337                                                 ostrtext += reststr;
338                                                 if (verbose) VOUT << "TeX Correction: Moved TeX scope out of " << String(ostrtext.at(i,(k-(movestr.length()+2))-i)) << '\n';
339                                         } else { // loose `{'
340                                                 ostrtext[TeXerr_refrx.subpos(3)] = '+';
341                                                 if (verbose) VOUT << "TeX Correction: Changed `{' to `+' in " << String(ostrtext.at(i,k-i)) << '\n';
342                                         }
343                                         break;
344                         }
345                 } else { // missing `}'
346                         if ((j=ostrtext.index(TeXnon_refrx,TeXerr_refrx.subpos(2)+1))>=0) {
347                                 reststr = ostrtext.from(j);
348                                 ostrtext = ostrtext.before(j);
349                                 ostrtext += '}' + reststr;
350                         } else ostrtext += '}';
351                         if (verbose) VOUT << "TeX Correction: Added missing } for " << String(ostrtext.at(i,j-i)) << '\n';
352                 }
353         }
354         // b) \ref{ non-label-characters }
355         i = 0;
356         while ((i=ostrtext.index(TeXerr_reflblrx,i))>=0) { // single pass
357                 movestr = ostrtext.sub(TeXerr_reflblrx,1);
358                 movestr.gsub(TeXnon_refrx,"X");
359                 if (verbose) VOUT << "TeX Correction: Changed non-label characters to `X' in \\ref{" << movestr << "}\n";
360                 if (estimate) { // attempt to estimate the intended reference label
361                         j = 0; String argstr;
362                         while ((j=ostrtext.index(TeXfighererx,String::SEARCH_END,j))>=0) {
363                                 if ((k=TeX_get_argument(ostrtext,j,argstr,'{'))>=0) {
364                                         if ((k=TeX_get_argument(ostrtext,k,argstr,'{'))>=0) {
365                                                 if (movestr.matches(BigRegex("X*"+RX_Search_Safe(argstr)+"X*"))) {
366                                                         if (verbose) VOUT << "TeX Correction: Assuming that \\ref{" << movestr << "} actually refers to ``" << argstr << "''\n";
367                                                         movestr = argstr;
368                                                         break;
369                                                 }
370                                                 j = k;
371                                         }
372                                 }
373                         }
374                         
375                 }
376                 ostrtext.at(TeXerr_reflblrx.subpos(1),TeXerr_reflblrx.sublen(1)) = movestr;
377         }
378         // c) \cite{ non-label-characters }
379         // *** can compare with all known bibliography keys
380         i = 0;
381         while ((i=ostrtext.index(TeXerr_citelblrx,i))>=0) { // single pass
382                 movestr = ostrtext.sub(TeXerr_citelblrx,1);
383                 movestr.gsub(TeXnon_citerx,"X");
384                 if (verbose) VOUT << "TeX Correction: Changed non-label characters to `X' in \\cite{" << movestr << "}\n";
385                 ostrtext.at(TeXerr_citelblrx.subpos(1),TeXerr_citelblrx.sublen(1)) = movestr;
386         }
387 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!TeX_get_argument@{TeX\_\-get\_\-argument}}
\index{TeX_get_argument@{TeX\_\-get\_\-argument}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Te\-X\_\-get\_\-argument ({\bf String} \& {\em textstr}, int {\em start}, {\bf String} \& {\em argstr}, char {\em argtype}, int $\ast$ {\em argstart} = NULL)}\label{dil2al_8hh_a351}




Definition at line 218 of file ppfilter.cc.

References String::elem(), String::index(), and Te\-X\_\-get\_\-scope().

Referenced by Te\-X\_\-format\_\-corrections(), Te\-X\_\-get\_\-command(), and Te\-X\_\-safe\_\-text().



\footnotesize\begin{verbatim}218                                                                                                         {
219 // get argument text between argtype brackets after start
220 // returns location after closing bracket or -1 if there is no such argument
221 // white space characters may precede the opening bracket
222         const BigRegex nonwsrx("[^ \n\t\r\v\f]");
223         if ((start=textstr.index(nonwsrx,start))<0) return -1;
224         if (textstr.elem(start)!=argtype) return -1;
225         if (argstart) *argstart = start;
226         return TeX_get_scope(textstr,start,argstr);
227 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!TeX_get_command@{TeX\_\-get\_\-command}}
\index{TeX_get_command@{TeX\_\-get\_\-command}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Te\-X\_\-get\_\-command ({\bf String} \& {\em textstr}, int {\em start}, {\bf String} \& {\em cmdstr})}\label{dil2al_8hh_a352}




Definition at line 229 of file ppfilter.cc.

References String::at(), String::matches(), Big\-Regex::sublen(), Big\-Regex::subpos(), and Te\-X\_\-get\_\-argument().

Referenced by extract\_\-paper\_\-plan\_\-to\_\-paper(), and Te\-X\_\-format\_\-corrections().



\footnotesize\begin{verbatim}229                                                                   {
230 // get command and arguments text (\command[]{}{}{}{}{}{}{}{}) at start
231 // returns location
232 // *** if you need function that find commands or other chunks after rather than
233 //     at a certain location, in the same manner as the HTML utilities, then
234 //     either add a paramter that controls such an option, or create wrapper
235 //     functions that search for a chunk and then call these functions
236         const BigRegex TeXcmd("\\(\\\\[A-Za-z]+\\).*"); // TeX command identifier
237         if (!textstr.matches(TeXcmd,start)) return -1;
238         // get command
239         int cend = TeXcmd.subpos(1)+TeXcmd.sublen(1);
240         String argstr; int argstart, j, argsleft = 9;
241         // find possible optional argument
242         if ((j=TeX_get_argument(textstr,cend,argstr,'['))>=0) {
243                 cend = j; argsleft--;
244         }
245         // find and convert possible mandatory arguments
246         while ((argsleft>0) && ((j=TeX_get_argument(textstr,cend,argstr,'{'))>=0)) {
247                 cend = j; argsleft--;
248         }
249         cmdstr = textstr.at(start,cend-start);
250         return cend;
251 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!TeX_get_scope@{TeX\_\-get\_\-scope}}
\index{TeX_get_scope@{TeX\_\-get\_\-scope}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Te\-X\_\-get\_\-scope ({\bf String} \& {\em textstr}, int {\em start}, {\bf String} \& {\em scopecontent})}\label{dil2al_8hh_a350}




Definition at line 195 of file ppfilter.cc.

References String::at(), String::elem(), and String::index().

Referenced by Te\-X\_\-format\_\-corrections(), Te\-X\_\-get\_\-argument(), and Te\-X\_\-safe\_\-text().



\footnotesize\begin{verbatim}195                                                                       {
196 // get the text between brackets starting at start
197 // returns location after closing bracket or -1 if there is no closing bracket
198         const BigRegex brck1rx("[\\{\\}]"); // \\{ rather than { because of regex-gnu.h/BigRegex.hh setting
199         const BigRegex brck2rx("[][]");
200         const BigRegex brck3rx("[()]");
201         const BigRegex * brckrx;
202         char bracket = textstr.elem(start);
203         switch (bracket) {
204                 case '{': brckrx = &brck1rx; break;
205                 case '[': brckrx = &brck2rx; break;
206                 case '(': brckrx = &brck3rx; break;
207         }
208         int depth = 1, i = start+1;
209         while ((depth>0) && ((i=textstr.index(*brckrx,i))>=0)) {
210                 if (i>0) if (textstr.elem(i-1)=='\\') { i++; continue; } // escaped bracket
211                 if (textstr.elem(i)==bracket) depth++; else depth--;
212                 i++;
213         }
214         if (i>=0) scopecontent = textstr.at(start+1,i-(start+2));
215         return i;
216 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!TeX_safe_text@{TeX\_\-safe\_\-text}}
\index{TeX_safe_text@{TeX\_\-safe\_\-text}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} Te\-X\_\-safe\_\-text ({\bf String} \& {\em title})}\label{dil2al_8hh_a353}




Definition at line 253 of file ppfilter.cc.

References String::at(), String::elem(), String::from(), String::gsub(), String::index(), String::matches(), String::sub(), Big\-Regex::sublen(), Te\-X\_\-get\_\-argument(), and Te\-X\_\-get\_\-scope().

Referenced by extract\_\-hierarchy\_\-depth\_\-increase\_\-to\_\-paper().



\footnotesize\begin{verbatim}253                                      {
254 // produces a version of title in proper TeX format from plain text
255 // no attempt is made to convert '\', since it is assumed to precede
256 // TeX commands that are frequently embedded in notes
257 // there are two forms of recognized embedded TeX bracketing:
258 // (1) foo\somecommand [text0] {text1} {text2} {text3} bar (with optional space)
259 // (2) foo{\somecommand text}bar
260 // all other curly brackets and hanging curly brackets are converted
261         const BigRegex TeXchar("[#$%&_]"); // TeX special characters
262         const BigRegex TeXcmdctx("[\\{}]"); // TeX command context indicators
263         const BigRegex TeXcmd("\\(\\\\[A-Za-z]+\\).*"); // TeX command identifier
264         const BigRegex TeXscopecmd("{[ \n\t\r\v\f]*\\\\[A-Za-z]+.*"); // TeX scope limited command identification
265         int convertedto = 0, i = 0;
266         String convtitle;
267         while ((i=title.index(TeXcmdctx,convertedto))>=0) {
268                 convtitle += title.at(convertedto,i-convertedto);
269                 switch (title.elem(i)) {
270                         case '\\': if (title.matches(TeXcmd,i)) {
271                                         // find and convert command
272                                         convtitle += title.sub(TeXcmd,1);
273                                         convertedto = i + TeXcmd.sublen(1);
274                                         String argstr; int argstart, j, argsleft = 9;
275                                         // find and convert possible optional argument
276                                         if ((j=TeX_get_argument(title,convertedto,argstr,'[',&argstart))>=0) {
277                                                 convtitle += title.at(convertedto,argstart-convertedto) + '[' + TeX_safe_text(argstr) + ']';
278                                                 convertedto = j; argsleft--;
279                                         }
280                                         // find and convert possible mandatory arguments
281                                         while ((argsleft>0) && ((j=TeX_get_argument(title,convertedto,argstr,'{',&argstart))>=0)) {
282                                                 convtitle += title.at(convertedto,argstart-convertedto) + '{' + TeX_safe_text(argstr) + '}';
283                                                 convertedto = j; argsleft--;
284                                         }
285                                 } else {
286                                         convtitle += "$\\backslash$"; convertedto = i+1;
287                                 } break;
288                         case '{': if (title.matches(TeXscopecmd,i)) {
289                                         String scopecontent;
290                                         int j = TeX_get_scope(title,i,scopecontent);
291                                         if (j<0) {
292                                                 convtitle += "\\{"; convertedto = i+1;
293                                         } else {
294                                                 convtitle += '{' + TeX_safe_text(scopecontent) + '}'; convertedto = j;
295                                         }
296                                 } else {
297                                         convtitle += "\\{"; convertedto = i+1;
298                                 } break;
299                         case '}': convtitle += "\\}"; convertedto = i+1; break;
300                 }
301         }
302         convtitle += title.from(convertedto);
303         convtitle.gsub(TeXchar,"\\_0",'_');
304         return convtitle;
305 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!Text_find_line_end@{Text\_\-find\_\-line\_\-end}}
\index{Text_find_line_end@{Text\_\-find\_\-line\_\-end}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Text\_\-find\_\-line\_\-end ({\bf String} \& {\em textstr}, int {\em start}, char {\em lend} = '$\backslash$n')}\label{dil2al_8hh_a355}




Definition at line 638 of file ppfilter.cc.

References String::index(), and String::length().

Referenced by Text\_\-limit\_\-line\_\-length().



\footnotesize\begin{verbatim}638                                                                       {
639 // returns next location of lend or string length
640         if (start>=textstr.length()) return -1;
641         int i = textstr.index(lend,start);
642         if (i>=0) return i;
643         return textstr.length();
644 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!Text_limit_line_length@{Text\_\-limit\_\-line\_\-length}}
\index{Text_limit_line_length@{Text\_\-limit\_\-line\_\-length}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Text\_\-limit\_\-line\_\-length ({\bf String} \& {\em textstr}, int {\em optlinemax}, int {\em abslinemax}, char {\em lend} = '$\backslash$n')}\label{dil2al_8hh_a356}




Definition at line 646 of file ppfilter.cc.

References String::del(), EOUT, String::from(), String::index(), String::length(), Text\_\-find\_\-line\_\-end(), and VOUT.

Referenced by convert\_\-item\_\-content\_\-to\_\-Te\-X().



\footnotesize\begin{verbatim}646                                                                                                 {
647 // limits text lines in textstr using optlinemax as optimal line maximum and
648 // abslinemax as absolute line maximum
649         const BigRegex sptabrx("[       ]");
650         int i = 0, j, istart; String itembuf;
651         istart = optlinemax - 50; if (istart<0) istart = 0;
652         while ((j=Text_find_line_end(textstr,i,lend))>=0) {
653                 if ((j-i)>optlinemax) {
654                         if ((j=textstr.index(sptabrx,i+istart))<0) {
655                                 j = i+optlinemax;
656                                 itembuf = textstr.from(j); textstr.del(j,textstr.length()-j);
657                                 textstr += lend + itembuf;
658                                 EOUT << "dil2al: Unable to locate space for line-break, forcing break at column " << optlinemax << " in convert_item_content_to_TeX(), continuing as is\n";
659                         } else if (j>(i+abslinemax)) {
660                                 j = i+optlinemax;
661                                 itembuf = textstr.from(j); textstr.del(j,textstr.length()-j);
662                                 textstr += lend + itembuf;
663                                 EOUT << "dil2al: Space for line-break too distant, forcing break at column " << optlinemax << " in convert_item_content_to_TeX(), continuing as is\n";
664                         } else {
665                                 textstr[j] = lend; // replace rather than insert
666                                 if (verbose) VOUT << "TeX Correction: breaking long line at column " << (j-i) << '\n';
667                         }
668                 }
669                 i = j + 1;
670         }
671 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!Time@{Time}}
\index{Time@{Time}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}time\_\-t Time (time\_\-t $\ast$ {\em tloc})}\label{dil2al_8hh_a217}




Definition at line 1824 of file utilities.cc.

Referenced by Active\_\-List::Add\_\-Day(), generate\_\-AL(), read\_\-financial\_\-notes\_\-file(), time\_\-stamp(), and time\_\-stamp\_\-GM().



\footnotesize\begin{verbatim}1824                           {
1825 // Local time() wrapper, allows emulation of different current time
1826 // returns time and sets (*tloc) to the same time if tloc!=NULL
1827         if (emulatedtime) {
1828                 if (tloc) *tloc = emulatedtime;
1829                 return emulatedtime;
1830         }
1831         return time(tloc);
1832 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!time_chunk_remaining@{time\_\-chunk\_\-remaining}}
\index{time_chunk_remaining@{time\_\-chunk\_\-remaining}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}time\_\-t time\_\-chunk\_\-remaining ({\bf String} {\em chunkid})\hspace{0.3cm}{\tt  [inline]}}\label{dil2al_8hh_a340}




Definition at line 98 of file controller.cc.

References time\_\-stamp(), time\_\-stamp\_\-diff(), and VOUT.

Referenced by schedule\_\-controller().



\footnotesize\begin{verbatim}98                                                    {
99         time_t tdiff = timechunksize*60;
100         tdiff -= time_stamp_diff(chunkid,time_stamp("%Y%m%d%H%M"));
101         if (verbose) VOUT << "\nTask schedule controller: " << tdiff << " seconds remaining in time chunk\n(Current chunk initiated at " << chunkid << ")\n";
102         return tdiff;
103 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!time_stamp@{time\_\-stamp}}
\index{time_stamp@{time\_\-stamp}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} time\_\-stamp (const char $\ast$ {\em dateformat}, time\_\-t {\em t} = -1)}\label{dil2al_8hh_a218}




Definition at line 1834 of file utilities.cc.

References Time().

Referenced by Financial\_\-Monthly\_\-Root::add(), Active\_\-List::Add\_\-Day(), AL\_\-Day\_\-Marker(), AL\_\-Passed\_\-Target\_\-Dates(), AL\_\-Day::allocate(), AL\_\-Day::allocate\_\-with\_\-value(), Time::caltime2local(), chunk\_\-controller(), date\_\-string(), dil2al\_\-commands(), AL\_\-Day::expand(), generate\_\-AL(), generate\_\-EPS\_\-cells(), Active\_\-List::generate\_\-focused\_\-AL(), generate\_\-modify\_\-element\_\-FORM\_\-interface\_\-DIL\_\-Superiors(), Active\_\-List::generate\_\-wide\_\-AL(), get\_\-new\_\-DIL\_\-ID(), include\_\-article\_\-tail\_\-template(), Active\_\-List::Initialize\_\-AL\_\-Length(), main(), make\_\-note(), modify\_\-DIL\_\-entry\_\-target\_\-date(), modify\_\-DIL\_\-group\_\-target\_\-dates(), modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd(), modify\_\-element\_\-through\_\-FORM\_\-interface\_\-DIL\_\-Superiors(), Financial\_\-Note::put(), AL\_\-Day::set\_\-TC\_\-values(), time\_\-chunk\_\-remaining(), and Detailed\_\-Items\_\-List::Write\_\-to\_\-File().



\footnotesize\begin{verbatim}1834                                                            {
1835 // time stamp in local time
1836         char dstr[80];
1837         if (t<0) t = Time(NULL);
1838         strftime(dstr,80,dateformat,localtime(&t));
1839         return String(dstr);
1840 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!time_stamp_diff@{time\_\-stamp\_\-diff}}
\index{time_stamp_diff@{time\_\-stamp\_\-diff}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}time\_\-t time\_\-stamp\_\-diff ({\bf String} {\em oldtime}, {\bf String} {\em newtime})}\label{dil2al_8hh_a224}




Definition at line 1889 of file utilities.cc.

References time\_\-stamp\_\-time().

Referenced by decide\_\-add\_\-TL\_\-chunk(), select\_\-TL\_\-DIL\_\-refs(), stop\_\-TL\_\-chunk(), and time\_\-chunk\_\-remaining().



\footnotesize\begin{verbatim}1889                                                       {
1890         return time_stamp_time(newtime) - time_stamp_time(oldtime);
1891 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!time_stamp_GM@{time\_\-stamp\_\-GM}}
\index{time_stamp_GM@{time\_\-stamp\_\-GM}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} time\_\-stamp\_\-GM (const char $\ast$ {\em dateformat}, time\_\-t {\em t} = -1)}\label{dil2al_8hh_a219}




Definition at line 1842 of file utilities.cc.

References Time().

Referenced by AL\_\-Day\_\-Marker(), Active\_\-List::generate\_\-focused\_\-AL(), Active\_\-List::Initialize\_\-AL\_\-Length(), and remove\_\-AL\_\-TC().



\footnotesize\begin{verbatim}1842                                                              {
1843 // Greenwich Meantime time stamp
1844 // Note: Use this when expressing time differences
1845 //       such as hours and minutes since 0.
1846         char dstr[80];
1847         if (t<0) t = Time(NULL);
1848         strftime(dstr,80,dateformat,gmtime(&t));
1849         return String(dstr);
1850 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!time_stamp_time@{time\_\-stamp\_\-time}}
\index{time_stamp_time@{time\_\-stamp\_\-time}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}time\_\-t time\_\-stamp\_\-time ({\bf String} {\em timestr})}\label{dil2al_8hh_a221}




Definition at line 1856 of file utilities.cc.

References String::at(), and String::length().

Referenced by Active\_\-List::Add\_\-Day(), Detect\_\-Form\_\-Input(), dil2al\_\-commands(), Detailed\_\-Items\_\-List::Get\_\-Project\_\-Data(), modify\_\-DIL\_\-group\_\-target\_\-dates\_\-cmd(), Modify\_\-Element(), modify\_\-element\_\-through\_\-FORM\_\-interface\_\-DIL\_\-Superiors(), time\_\-stamp\_\-diff(), and time\_\-stamp\_\-time\_\-date().



\footnotesize\begin{verbatim}1856                                        {
1857 // local time string to calendar time time_t
1858 // negative numbers are returned as they are so that
1859 // special codes can be detected
1860         struct tm ts;
1861         int tl = timestr.length();
1862         if (tl>0) if (timestr[0]=='-') return (time_t) atol((const char *) timestr);
1863         if (tl<9) return (time_t) -1;
1864         ts.tm_sec = 0;
1865         ts.tm_min = atoi((const char *) String(timestr.at(tl-2,2)));
1866         ts.tm_hour = atoi((const char *) String(timestr.at(tl-4,2)));
1867         ts.tm_mday = atoi((const char *) String(timestr.at(tl-6,2)));
1868         ts.tm_mon = atoi((const char *) String(timestr.at(tl-8,2)))-1;
1869         ts.tm_year = atoi((const char *) String(timestr.at(0,tl-8)))-1900;
1870         ts.tm_wday = 0;
1871         ts.tm_yday = 0;
1872         ts.tm_isdst = -1; // computed by mktime since indicated "unknown" here
1873         return mktime(&ts);
1874 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!time_stamp_time_date@{time\_\-stamp\_\-time\_\-date}}
\index{time_stamp_time_date@{time\_\-stamp\_\-time\_\-date}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}time\_\-t time\_\-stamp\_\-time\_\-date ({\bf String} {\em timestr})}\label{dil2al_8hh_a223}




Definition at line 1882 of file utilities.cc.

References String::before(), String::length(), and time\_\-stamp\_\-time().

Referenced by Active\_\-List::Add\_\-Day(), financial\_\-notes(), generate\_\-EPS\_\-cells(), Financial\_\-Note::get(), and Active\_\-List::Initialize\_\-AL\_\-Length().



\footnotesize\begin{verbatim}1882                                             {
1883 // local time string %Y%m%d%H%M set to 00:00 time of
1884 // day to calendar time
1885         int tl = timestr.length() - 4;
1886         return time_stamp_time(String(timestr.before(tl))+"0000");
1887 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!time_stamp_time_of_day@{time\_\-stamp\_\-time\_\-of\_\-day}}
\index{time_stamp_time_of_day@{time\_\-stamp\_\-time\_\-of\_\-day}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}time\_\-t time\_\-stamp\_\-time\_\-of\_\-day ({\bf String} {\em timestr})}\label{dil2al_8hh_a222}




Definition at line 1876 of file utilities.cc.

References String::at(), String::chars(), and String::length().

Referenced by generate\_\-EPS\_\-cells(), Get\_\-Worked\_\-Estimate(), Active\_\-List::Initialize\_\-AL\_\-Length(), and remove\_\-AL\_\-TC().



\footnotesize\begin{verbatim}1876                                               {
1877         int tl = timestr.length();
1878         String h(timestr.at(tl-4,2)),m(timestr.at(tl-2,2));
1879         return ((((time_t) atoi(h.chars()))*60)+((time_t) atoi(m.chars())))*60;
1880 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!unconvert_item_content_from_TeX@{unconvert\_\-item\_\-content\_\-from\_\-TeX}}
\index{unconvert_item_content_from_TeX@{unconvert\_\-item\_\-content\_\-from\_\-TeX}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void unconvert\_\-item\_\-content\_\-from\_\-Te\-X ({\bf String} \& {\em itemcontent})}\label{dil2al_8hh_a358}




Definition at line 711 of file ppfilter.cc.

References String::gsub().

Referenced by extract\_\-recursively().



\footnotesize\begin{verbatim}711                                                            {
712         // conversions from TeX
713         itemcontent.gsub(BigRegex("[\\]\\([#&_%]\\)"),"_1",'_');
714 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!Unlock_File@{Unlock\_\-File}}
\index{Unlock_File@{Unlock\_\-File}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool Unlock\_\-File ({\bf String} {\em lockfile})}\label{dil2al_8hh_a241}




Definition at line 1408 of file utilities.cc.

References EOUT.

Referenced by Detailed\_\-Items\_\-List::Read\_\-from\_\-Binary\_\-Cache(), Detailed\_\-Items\_\-List::Read\_\-Topical\_\-from\_\-Binary\_\-Cache(), Detailed\_\-Items\_\-List::Write\_\-to\_\-Binary\_\-Cache(), and Detailed\_\-Items\_\-List::Write\_\-Topical\_\-to\_\-Binary\_\-Cache().



\footnotesize\begin{verbatim}1408                                   {
1409   if (unlink(lockfile)<0) {
1410     EOUT << "dil2al: Unable to remove lock file " << lockfile << " in Unlock_File(), continuing as is\n";
1411     return false;
1412   }
1413   return true;
1414 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!update_DIL_entry_elements@{update\_\-DIL\_\-entry\_\-elements}}
\index{update_DIL_entry_elements@{update\_\-DIL\_\-entry\_\-elements}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool update\_\-DIL\_\-entry\_\-elements ({\bf String} {\em dilid}, double {\em valuation}, bool {\em updateval}, double {\em completion}, bool {\em updatecomp}, double {\em required}, bool {\em updatereq}, time\_\-t {\em tdiff} = -1)}\label{dil2al_8hh_a304}




Definition at line 849 of file diladmin.cc.

References String::after(), String::before(), EOUT, String::from(), Detailed\_\-Items\_\-List::Get\_\-All\_\-DIL\_\-ID\_\-File\_\-Parameters(), get\_\-file\_\-in\_\-list(), String::gsub(), PLLRoot$<$ DIL\_\-entry $>$::head(), HTML\_\-get\_\-table\_\-cell(), HTML\_\-put\_\-table\_\-cell(), HTML\_\-remove\_\-tags(), String::index(), Detailed\_\-Items\_\-List::list, PLL\_\-LOOP\_\-FORWARD, RX\_\-Search\_\-Safe(), String::SEARCH\_\-END, Text\_\-File\_\-Buffers::tf, Text\_\-File\_\-Buffers::tfname, Text\_\-File\_\-Buffers::tfnum, DIL\_\-entry::Topics(), VOUT, and write\_\-file\_\-from\_\-String().

Referenced by Modify\_\-Element(), modify\_\-element\_\-through\_\-FORM\_\-interface(), and stop\_\-TL\_\-chunk().



\footnotesize\begin{verbatim}849                                                                                                                                                                        {
850   // update the elements of all instances of dilid, as
851   // referenced in the DIL-by-ID file
852   // When tdiff>=0, this is used to indicate new time spent on the DIL
853   // entry during a task chunk instead of the value in completion.
854   // The simplest update uses the difference between current time
855   // and the start time of the most recent task log chunk to compute
856   // the update. More sophisticated updates apply the rules
857   // specified in dil2al.html#20000815153735.1.
858   // get DIL references of DIL entry
859   Detailed_Items_List dilist; int entrynum;
860   if ((entrynum=dilist.Get_All_DIL_ID_File_Parameters(&dilid))<=0) {
861     EOUT << "DIL entry " << dilid << " not found in " << idfile << " in update_DIL_entry_completion_ratio(), continuing as is\n";
862     return false;
863   }
864   if (entrynum>1) VOUT << "Warning - DIL entry with ID " << dilid << " occurs " << entrynum << " times in " << idfile << '\n';
865   DIL_entry * de = dilist.list.head(); int dilidx;
866   PLL_LOOP_FORWARD(DIL_Topical_List,de->Topics(0),1) {
867     // get DIL file and update completion ratio of entry
868     if ((dilidx=get_file_in_list(e->dil.file,dilist.tf,dilist.tfname,dilist.tfnum))<0)
869       EOUT << "dil2al: DIL file " << e->dil.file << " not found in update_DIL_entry_elements(), continuing as is\n";
870     else {
871       // find DIL ID
872       String & dilstr = dilist.tf[dilidx];
873       int dilpos, dilentryend; String cellparams, cellcontent;
874       if ((dilpos=dilstr.index(BigRegex("[<]!--[        ]*dil2al:[      ]*DIL begin[    ]*--[>]"),String::SEARCH_END))<0) {
875         EOUT << "dil2al: Missing DIL begin marker in DIL file " << e->dil.file << " in update_DIL_entry_elements(), continuing as is\n";
876         continue;
877       }
878       if ((dilpos=dilstr.index(BigRegex(("[<][Aa][      ]+[Nn][Aa][Mm][Ee][     ]*=[    ]*\""+RX_Search_Safe(dilid))+'"'),dilpos))<0) {
879         EOUT << "dil2al: DIL entry with ID " << dilid << " not found in DIL file " << e->dil.file << " in update_DIL_entry_elements(), continuing as is\n";
880         continue;
881       }
882       if ((dilentryend=HTML_get_table_cell(dilstr,dilpos,cellparams,cellcontent,&dilpos))<0) {
883         EOUT << "dil2al: Missing data at DIL entry with ID " << dilid << " in DIL file " << e->dil.file << " in update_DIL_entry_elements(), continuing as is\n";
884         continue;
885       }
886       if (verbose) VOUT << "Setting:\n";
887       if (updateval) { // modify valuation
888         String vstr(valuation,"_1 %4.2f");
889         if (verbose) VOUT << "  valuation = " << vstr << '\n';
890         cellcontent.gsub(BigRegex("\\(valuation:[^-0-9  ]*\\)[  ]*\\([0-9]+[.][0-9]+\\|-\\)"),vstr,'_');
891       }
892       if (updatecomp) { // modify completion ratio
893         String crstr;
894         if (tdiff>=0) {
895           if (!updatereq) {
896             cellparams = cellcontent.after(BigRegex("time[      ]+required[^:   ]*[:    ]")); HTML_remove_tags(cellparams);
897             required = atof(cellparams);
898           }
899           crstr = cellparams.after(BigRegex("completion[        ]+ratio[^:      ]*[:    ]"));
900           completion = atof(crstr);
901           if (completion<0.0) EOUT << "dil2al: DIL entry with ID " << dilid << " in DIL file " << e->dil.file << " has a completion status with special meaning that cannot be updated in update_DIL_entry_elements(), continuing as is\n";
902           else {
903             if (required==0.0) EOUT << "dil2al: No time required indicated for DIL entry with ID " << dilid << " in DIL file " << e->dil.file << " in update_DIL_entry_elements(), continuing as is\n";
904             else completion += (((double) tdiff)/(ceil(required*60.0)*60.0));
905           }
906         }
907         crstr = String(completion,"_1 %4.2f");
908         if (verbose) VOUT << "  completion ratio = " << crstr << '\n';
909         cellcontent.gsub(BigRegex("\\(completion[       ]+ratio:[^-0-9  ]*\\)[  ]*\\([0-9]+[.][0-9]+\\|-\\)"),crstr,'_');
910       }
911       if (updatereq) { // modify required time
912         String rstr(required,"_1 %4.2f");
913         if (verbose) VOUT << "  required = " << rstr << '\n';
914         cellcontent.gsub(BigRegex("\\(time[     ]+required:[^-0-9       ]*\\)[  ]*\\([0-9]+[.][0-9]+\\|-\\)"),rstr,'_');
915       }
916       // paste modified DIL entry into topical DIL file
917       String newdilstr(dilstr.before(dilpos));
918       newdilstr += HTML_put_table_cell("",cellcontent,true) + dilstr.from(dilentryend);
919       // write modified DIL file
920       if (!write_file_from_String(e->dil.file,newdilstr,"DIL ``"+e->dil.title+"''")) return false;
921     }
922   }
923 #ifdef DEBUG
924   EOUT << "Completed DIL updates\n";
925 #endif
926   return true;
927 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!update_DIL_entry_parameter_elements@{update\_\-DIL\_\-entry\_\-parameter\_\-elements}}
\index{update_DIL_entry_parameter_elements@{update\_\-DIL\_\-entry\_\-parameter\_\-elements}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool update\_\-DIL\_\-entry\_\-parameter\_\-elements ({\bf Detailed\_\-Items\_\-List} \& {\em dilist}, {\bf DIL\_\-ID} {\em dilid}, {\bf PLLRoot}$<$ DIL\_\-Superiors $>$ \& {\em addsups}, {\bf String\-List} $\ast$ {\em removesups}, int {\em removesupsnum})}\label{dil2al_8hh_a305}




Definition at line 929 of file diladmin.cc.

References DIL\_\-ID::chars(), DIL\_\-Superiors, DIL\_\-entry::elbyid(), EOUT, PLLRoot$<$ DIL\_\-entry $>$::head(), PLLRoot$<$ PLLType $>$::head(), PLLRoot$<$ DIL\_\-entry $>$::length(), Detailed\_\-Items\_\-List::list, DIL\_\-entry::parameters, PLL\_\-LOOP\_\-FORWARD, DIL\_\-entry\_\-parameters::project\_\-append(), DIL\_\-entry::Projects(), VOUT, and Detailed\_\-Items\_\-List::Write\_\-to\_\-File().

Referenced by modify\_\-element\_\-through\_\-FORM\_\-interface().



\footnotesize\begin{verbatim}929                                                                                                                                                                    {
930   // update elements of the DIL-by-ID parameters file
931   // target date modification is currently a special case, as described in
932   // the modify_DIL_entry_target_date() and modify_DIL_group_target_dates()
933   // and is therefore not included in this function
934   int entrynum = dilist.list.length();
935   if (entrynum<1) return false;
936   DIL_entry * de = dilist.list.head()->elbyid(dilid);
937   if (!de) {
938     VOUT << "The DIL entry with ID " << dilid.chars() << "was not found in the Detailed_Items_List in update_DIL_entry_parameter_elements()\n";
939     return false;
940   }
941   // Add superiors referenced in dilref
942   if (addsups.head()) {
943     // modify project data to add the superiors
944     if (!de->parameters) {
945       EOUT << "DIL entry " << dilid << " parameters not found in " << idfile << " in update_DIL_entry_parameter_elements()\n";
946       return false;
947     }
948     if (verbose) VOUT << "Adding superior references from " << dilref << ":\n";
949     for (DIL_Superiors * dilsup = addsups.head(); dilsup; dilsup = dilsup->Next()) {
950       if (!de->parameters->project_append(dilsup->al.file,dilsup->al.title,dilsup->relevance,dilsup->unbounded,dilsup->bounded,dilsup->targetdate(),dilsup->tdproperty(),dilsup->urgency,dilsup->priority)) VOUT << "Unable to append a superior reference with ID " << dilsup->al.title << '\n';
951       else if (verbose) VOUT << "     " << dilsup->al.title << " added\n";
952     }
953   }
954   // Remove superiors indicated in removesups
955   if ((removesupsnum>0) && (removesups)) {
956     if (verbose) {
957       VOUT << "Removing superior references:\n";
958       for (int i = 0; i<removesupsnum; i++) VOUT << "     " << (*removesups)[i] << '\n';
959     }
960     // modify project data to remove the superiors
961     if (!de->Projects(0)) {
962       VOUT << "The DIL entry with ID " << dilid.chars() << " has no superiors, therefore none can be removed.\n";
963       return false;
964     }
965     for (int i = 0; i<removesupsnum; i++) {
966       PLL_LOOP_FORWARD(DIL_Superiors,de->Projects(0),1) if (e->al.title==(*removesups)[i]) {
967         e->remove();
968         if (verbose) VOUT << "     " << (*removesups)[i] << " removed\n";
969         break;
970       }
971     }
972   }
973   return dilist.Write_to_File();
974 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!update_DIL_to_AL@{update\_\-DIL\_\-to\_\-AL}}
\index{update_DIL_to_AL@{update\_\-DIL\_\-to\_\-AL}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool update\_\-DIL\_\-to\_\-AL ()}\label{dil2al_8hh_a295}




Definition at line 1334 of file alcomp.cc.

References DIL\_\-ID::chars(), PLLHandle$<$ DIL\_\-entry $>$::fulllength(), generate\_\-AL(), and Detailed\_\-Items\_\-List::Sort\_\-by\_\-Target\_\-Date().

Referenced by Detect\_\-Form\_\-Input(), and dil2al\_\-commands().



\footnotesize\begin{verbatim}1334                         {
1335 // generate an updated AL from the DIL hierarchy
1336 // uses generatealmaxt and generatealtcs
1337         /*
1338         When computing priorities, also parse for ALs and refresh AL parameters
1339         for all detail items if prefixed with E (``automatic estimate'').
1340         */
1341         // *** can make this first part prepare in the background
1342         //     before a TC is completed
1343         Detailed_Items_List dilist;
1344         DIL_entry ** dep = dilist.Sort_by_Target_Date(true);
1345 #ifdef DEBUG
1346         if (dep) {
1347                 int entrynum = dep[0]->fulllength();
1348                 for (int i = 0; i<entrynum; i++) cerr << dep[i]->chars() << '\n';
1349         }
1350 #endif
1351         if (!generate_AL(dep)) {
1352                 delete[] dep;
1353                 return false;
1354         }
1355         delete[] dep; // may not be necessary here
1356         return true;
1357 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!update_main_ALs@{update\_\-main\_\-ALs}}
\index{update_main_ALs@{update\_\-main\_\-ALs}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool update\_\-main\_\-ALs ({\bf DIL\_\-entry} $\ast$ {\em superior})}\label{dil2al_8hh_a287}




Definition at line 209 of file alcomp.cc.

References String::before(), capitalize(), DIL\_\-ID::chars(), Elipsis\_\-At(), DIL\_\-entry::Entry\_\-Text(), EOUT, String::from(), HTML\_\-get\_\-href(), HTML\_\-get\_\-list(), HTML\_\-get\_\-list\_\-item(), HTML\_\-get\_\-name(), HTML\_\-put\_\-href(), HTML\_\-put\_\-list(), HTML\_\-put\_\-list\_\-item(), read\_\-file\_\-into\_\-String(), RELLISTSDIR, relurl(), VOUT, and write\_\-file\_\-from\_\-String().

Referenced by generate\_\-AL().



\footnotesize\begin{verbatim}209                                            {
210 // add or modify a link to the AL referred to by superior on
211 // the main page (NULL = AL created with all DIL entries)
212         String mainstr, tag, text, supstr, supfilestr;
213         if (superior) supstr = superior->chars(); else supstr = "all";
214         supfilestr = relurl(listfile,basedir+RELLISTSDIR+("active-list."+supstr+".html"));
215         // get main lists file
216         if (!read_file_into_String(listfile,mainstr)) return false;
217         int mainloc = 0;
218         // locate list of ALs
219         do if ((mainloc=HTML_get_name(mainstr,mainloc,tag,text))<0) {
220                 EOUT << "dil2al: Unable to find HTML anchor ``AL'' in " << listfile << " in update_main_ALs()\n";
221                 return false;
222         } while (tag!="AL");
223         // get list of ALs
224         int liststart;
225         if ((mainloc=HTML_get_list(mainstr,mainloc,tag,text,&liststart))<0) {
226                 EOUT << "dil2al: Missing list of ALs in " << listfile << " in update_main_ALs()\n";
227                 return false;
228         }
229         // find list item with link to AL corresponding with superior
230         int listloc = 0; String itemtext,hreftext;
231         do if ((listloc=HTML_get_list_item(text,listloc,tag,itemtext))>=0) 
232                 if (HTML_get_href(itemtext,0,tag,hreftext)<0) EOUT << "dil2al: Missing HREF to AL in " << listfile << " in update_main_ALs(), continuing\n";
233         while ((listloc>=0) && (tag!=supfilestr));
234         if (listloc>=0) return true; // link already exists
235         // if new, add link to AL corresponding with superior
236         String newmainstr(mainstr.before(liststart));
237         if (superior) {
238                 if (superior->Entry_Text()) {
239                         tag = *(superior->Entry_Text());
240                         Elipsis_At(tag,100);
241                 } else {
242                         VOUT << "dil2al: Warning - No text content available for description of AL in update_main_ALs(), continuing as is\n";
243                         tag = "(No description available.)";
244                 }
245         } else tag = "A list of tasks created with all DIL entries.";
246         // *** perhaps don't use relaxedhtml, despite possible unexpected
247         //     behaviour by older function that read the main lists page
248         text += HTML_put_list_item(HTML_put_href(supfilestr,"Active List: "+capitalize(supstr))+"<BR>\n"+tag+'\n',true)+"<P>\n";
249         newmainstr += HTML_put_list('U',text) + mainstr.from(mainloc);
250         return write_file_from_String(listfile,newmainstr,"Main Lists");
251 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!URI_unescape@{URI\_\-unescape}}
\index{URI_unescape@{URI\_\-unescape}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} URI\_\-unescape ({\bf String} {\em escaped\-URI})}\label{dil2al_8hh_a278}




Definition at line 2644 of file utilities.cc.

References String::length().

Referenced by extract\_\-DIL\_\-IDs\_\-from\_\-form(), search\_\-FORM\_\-cmd(), and Tabbed\_\-FORM\_\-DIL\_\-Hierarchy\_\-full().



\footnotesize\begin{verbatim}2644                                        {
2645 // convert URI strings with escaped characters to regular character strings
2646         String s; char c; int d1,d2;
2647         for (int i = 0; i<escapedURI.length(); i++) {
2648                 c = escapedURI[i];
2649                 if (c=='%') {
2650                         i++; c = escapedURI[i];
2651                         if ((c>='0') && (c<='9')) d1 = (int) (c - '0');
2652                         else if ((c>='A') && (c<='F')) d1 = ((int) (c - 'A')) + 10;
2653                         else d1 = ((int) (c - 'a')) + 10;
2654                         i++; c = escapedURI[i];
2655                         if ((c>='0') && (c<='9')) d2 = (int) (c - '0');
2656                         else if ((c>='A') && (c<='F')) d2 = ((int) (c - 'A')) + 10;
2657                         else d2 = ((int) (c - 'a')) + 10;
2658                         d1 *=16; d1 += d2;
2659                         c = (char) d1;
2660                 }
2661                 s += c;
2662         }
2663         return s;
2664 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!write_file_from_String@{write\_\-file\_\-from\_\-String}}
\index{write_file_from_String@{write\_\-file\_\-from\_\-String}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool write\_\-file\_\-from\_\-String ({\bf String} {\em filename}, const {\bf String} \& {\em filestr}, {\bf String} {\em message}, bool {\em isnew} = {\bf false})}\label{dil2al_8hh_a238}




Definition at line 2116 of file utilities.cc.

References backup\_\-and\_\-rename(), String::empty(), EOUT, and VOUT.

Referenced by add\_\-TL\_\-chunk\_\-or\_\-entry(), add\_\-TL\_\-section(), chunk\_\-controller(), DIL\_\-Hierarchy\_\-cmd(), extract\_\-DIL\_\-IDs\_\-from\_\-form(), generate\_\-AL(), Active\_\-List::generate\_\-focused\_\-AL(), Active\_\-List::generate\_\-wide\_\-AL(), Target\_\-Access::make\_\-local\_\-copy\_\-of\_\-directory(), post\_\-process\_\-note(), remove\_\-AL\_\-TC(), search(), Tabbed\_\-DIL\_\-Hierarchy(), Tabbed\_\-FORM\_\-DIL\_\-Hierarchy(), Tabbed\_\-HTML\_\-DIL\_\-Hierarchy(), update\_\-DIL\_\-entry\_\-elements(), update\_\-main\_\-ALs(), write\_\-financial\_\-notes\_\-file(), and Detailed\_\-Items\_\-List::Write\_\-to\_\-File().



\footnotesize\begin{verbatim}2116                                                                                                          {
2117 // Write a file from string content, with automatic backup of
2118 // a previous version (if one exists).
2119 #ifdef DEBUG
2120         bool b = (filename==taskloghead);
2121         if (b) cout << '+';
2122 #endif
2123         String newfilename = filename;
2124         if (!isnew) newfilename += ".new";
2125         ofstream ntl(newfilename);
2126         if (!ntl) {
2127                 EOUT << "dil2al: Unable to create " << newfilename << " in write_file_from_String()\n";
2128                 return false;
2129         }
2130         ntl << filestr;
2131         ntl.close();
2132 #ifdef DEBUG
2133         if (b) cout << '+';
2134 #endif
2135         if (isnew) { if (verbose && (!message.empty())) VOUT << message << " initialized as " << filename << '\n'; }
2136         else if (!backup_and_rename(filename,message)) return false;
2137 #ifdef DEBUG
2138         if (b) cout << "+\n";
2139 #endif
2140         return true;
2141 }
\end{verbatim}\normalsize 
\index{dil2al.hh@{dil2al.hh}!write_financial_notes_file@{write\_\-financial\_\-notes\_\-file}}
\index{write_financial_notes_file@{write\_\-financial\_\-notes\_\-file}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool write\_\-financial\_\-notes\_\-file ({\bf PLLRoot}$<$ {\bf Financial\_\-Note} $>$ \& {\em fnotes}, {\bf String} \& {\em finnotestop}, {\bf String} \& {\em finnotesend})}\label{dil2al_8hh_a368}




Definition at line 111 of file finances.cc.

References PLLRoot$<$ PLLType $>$::head(), PLL\_\-LOOP\_\-FORWARD, and write\_\-file\_\-from\_\-String().

Referenced by financial\_\-notes().



\footnotesize\begin{verbatim}111                                                                                                               {
112   PLL_LOOP_FORWARD(Financial_Note,fnotes.head(),1) finnotestop += e->put();
113   finnotestop += finnotesend;
114   return write_file_from_String(finnotesfile,finnotestop,"Financial notes");
115 }
\end{verbatim}\normalsize 


\subsection{Variable Documentation}
\index{dil2al.hh@{dil2al.hh}!alautoexpand@{alautoexpand}}
\index{alautoexpand@{alautoexpand}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool alautoexpand}\label{dil2al_8hh_a162}




Definition at line 1356 of file dil2al.hh.

Referenced by Detect\_\-Form\_\-Input(), dil2al\_\-commands(), and Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!alautoupdate@{alautoupdate}}
\index{alautoupdate@{alautoupdate}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int alautoupdate}\label{dil2al_8hh_a172}




Definition at line 1366 of file dil2al.hh.

Referenced by dil2al\_\-commands(), and Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!alcumtimereqexcerptlength@{alcumtimereqexcerptlength}}
\index{alcumtimereqexcerptlength@{alcumtimereqexcerptlength}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int alcumtimereqexcerptlength}\label{dil2al_8hh_a164}




Definition at line 1358 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!alcurdayworkedstrategy@{alcurdayworkedstrategy}}
\index{alcurdayworkedstrategy@{alcurdayworkedstrategy}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int alcurdayworkedstrategy}\label{dil2al_8hh_a170}




Definition at line 1364 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!aldaydistfunc@{aldaydistfunc}}
\index{aldaydistfunc@{aldaydistfunc}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int aldaydistfunc}\label{dil2al_8hh_a174}




Definition at line 1368 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!aldaydistslope@{aldaydistslope}}
\index{aldaydistslope@{aldaydistslope}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}float aldaydistslope}\label{dil2al_8hh_a175}




Definition at line 1369 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!alepshours@{alepshours}}
\index{alepshours@{alepshours}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}float alepshours}\label{dil2al_8hh_a161}




Definition at line 1355 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!alfocused@{alfocused}}
\index{alfocused@{alfocused}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int alfocused}\label{dil2al_8hh_a157}




Definition at line 1351 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!algenall@{algenall}}
\index{algenall@{algenall}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int algenall}\label{dil2al_8hh_a160}




Definition at line 1354 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!algenregular@{algenregular}}
\index{algenregular@{algenregular}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int algenregular}\label{dil2al_8hh_a159}




Definition at line 1353 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!alshowcumulativereq@{alshowcumulativereq}}
\index{alshowcumulativereq@{alshowcumulativereq}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool alshowcumulativereq}\label{dil2al_8hh_a163}




Definition at line 1357 of file dil2al.hh.

Referenced by Detect\_\-Form\_\-Input(), dil2al\_\-commands(), and Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!alsyncslack@{alsyncslack}}
\index{alsyncslack@{alsyncslack}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}time\_\-t alsyncslack}\label{dil2al_8hh_a173}




Definition at line 1367 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!alwide@{alwide}}
\index{alwide@{alwide}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int alwide}\label{dil2al_8hh_a158}




Definition at line 1352 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!alworkdaystart@{alworkdaystart}}
\index{alworkdaystart@{alworkdaystart}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}time\_\-t alworkdaystart}\label{dil2al_8hh_a169}




Definition at line 1363 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!alworked@{alworked}}
\index{alworked@{alworked}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}time\_\-t alworked}\label{dil2al_8hh_a171}




Definition at line 1365 of file dil2al.hh.

Referenced by Detect\_\-Form\_\-Input(), and dil2al\_\-commands().\index{dil2al.hh@{dil2al.hh}!articleheadtemplate@{articleheadtemplate}}
\index{articleheadtemplate@{articleheadtemplate}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} articleheadtemplate}\label{dil2al_8hh_a124}




Definition at line 1326 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!articletailtemplate@{articletailtemplate}}
\index{articletailtemplate@{articletailtemplate}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} articletailtemplate}\label{dil2al_8hh_a125}




Definition at line 1327 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!askALDILref@{askALDILref}}
\index{askALDILref@{askALDILref}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool ask\-ALDILref}\label{dil2al_8hh_a139}




Definition at line 1337 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!askextractconcat@{askextractconcat}}
\index{askextractconcat@{askextractconcat}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool askextractconcat}\label{dil2al_8hh_a143}




Definition at line 1337 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!askprocesstype@{askprocesstype}}
\index{askprocesstype@{askprocesstype}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool askprocesstype}\label{dil2al_8hh_a137}




Definition at line 1337 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!atcommand@{atcommand}}
\index{atcommand@{atcommand}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} atcommand}\label{dil2al_8hh_a182}




Definition at line 1376 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!atcontroller@{atcontroller}}
\index{atcontroller@{atcontroller}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} atcontroller}\label{dil2al_8hh_a183}




Definition at line 1377 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!basedir@{basedir}}
\index{basedir@{basedir}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} basedir}\label{dil2al_8hh_a111}




Definition at line 1313 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!bibindexfile@{bibindexfile}}
\index{bibindexfile@{bibindexfile}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} bibindexfile}\label{dil2al_8hh_a123}




Definition at line 1325 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!bibindexfilename@{bibindexfilename}}
\index{bibindexfilename@{bibindexfilename}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} bibindexfilename}\label{dil2al_8hh_a122}




Definition at line 1324 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!browser@{browser}}
\index{browser@{browser}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} browser}\label{dil2al_8hh_a187}




Definition at line 1381 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!cacheidfile@{cacheidfile}}
\index{cacheidfile@{cacheidfile}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} cacheidfile}\label{dil2al_8hh_a116}




Definition at line 1318 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!calledbyforminput@{calledbyforminput}}
\index{calledbyforminput@{calledbyforminput}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool calledbyforminput}\label{dil2al_8hh_a194}




Definition at line 1388 of file dil2al.hh.

Referenced by Detect\_\-Form\_\-Input().\index{dil2al.hh@{dil2al.hh}!chunkcreated@{chunkcreated}}
\index{chunkcreated@{chunkcreated}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool chunkcreated}\label{dil2al_8hh_a206}




Definition at line 1400 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!configfile@{configfile}}
\index{configfile@{configfile}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} configfile}\label{dil2al_8hh_a191}




Definition at line 1385 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!crcidfile@{crcidfile}}
\index{crcidfile@{crcidfile}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} crcidfile}\label{dil2al_8hh_a115}




Definition at line 1317 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!curdate@{curdate}}
\index{curdate@{curdate}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} curdate}\label{dil2al_8hh_a146}




Definition at line 1341 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!curtime@{curtime}}
\index{curtime@{curtime}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} curtime}\label{dil2al_8hh_a147}




Definition at line 1341 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!dil@{dil}}
\index{dil@{dil}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Topical\_\-DIL\_\-Files\_\-Root} dil}\label{dil2al_8hh_a134}




Definition at line 1336 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!dilref@{dilref}}
\index{dilref@{dilref}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} dilref}\label{dil2al_8hh_a121}




Definition at line 1323 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!din@{din}}
\index{din@{din}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}istream$\ast$ din}\label{dil2al_8hh_a129}




Definition at line 1331 of file dil2al.hh.

Referenced by dil2al\_\-commands(), and main().\index{dil2al.hh@{dil2al.hh}!dinfile@{dinfile}}
\index{dinfile@{dinfile}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}ifstream dinfile}\label{dil2al_8hh_a128}




Definition at line 1330 of file dil2al.hh.

Referenced by dil2al\_\-commands().\index{dil2al.hh@{dil2al.hh}!editor@{editor}}
\index{editor@{editor}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} editor}\label{dil2al_8hh_a186}




Definition at line 1380 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!emulatedtime@{emulatedtime}}
\index{emulatedtime@{emulatedtime}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}time\_\-t emulatedtime}\label{dil2al_8hh_a145}




Definition at line 1340 of file dil2al.hh.

Referenced by dil2al\_\-commands().\index{dil2al.hh@{dil2al.hh}!eout@{eout}}
\index{eout@{eout}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}ostream$\ast$ eout}\label{dil2al_8hh_a131}




Definition at line 1333 of file dil2al.hh.

Referenced by dil2al\_\-commands(), Form\_\-Reply\_\-Open(), and main().\index{dil2al.hh@{dil2al.hh}!eoutfile@{eoutfile}}
\index{eoutfile@{eoutfile}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}ofstream eoutfile}\label{dil2al_8hh_a130}




Definition at line 1332 of file dil2al.hh.

Referenced by dil2al\_\-commands().\index{dil2al.hh@{dil2al.hh}!figuresdirectory@{figuresdirectory}}
\index{figuresdirectory@{figuresdirectory}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} figuresdirectory}\label{dil2al_8hh_a120}




Definition at line 1322 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!finnotesfile@{finnotesfile}}
\index{finnotesfile@{finnotesfile}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} finnotesfile}\label{dil2al_8hh_a193}




Definition at line 1387 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!flagcmd@{flagcmd}}
\index{flagcmd@{flagcmd}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} flagcmd}\label{dil2al_8hh_a188}




Definition at line 1382 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!followlinks@{followlinks}}
\index{followlinks@{followlinks}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int followlinks}\label{dil2al_8hh_a195}




Definition at line 1389 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!generatealmaxt@{generatealmaxt}}
\index{generatealmaxt@{generatealmaxt}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}time\_\-t generatealmaxt}\label{dil2al_8hh_a156}




Definition at line 1350 of file dil2al.hh.

Referenced by Detect\_\-Form\_\-Input(), and dil2al\_\-commands().\index{dil2al.hh@{dil2al.hh}!generatealtcs@{generatealtcs}}
\index{generatealtcs@{generatealtcs}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}long generatealtcs}\label{dil2al_8hh_a155}




Definition at line 1349 of file dil2al.hh.

Referenced by Detect\_\-Form\_\-Input(), dil2al\_\-commands(), and Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!hierarchyexcerptlength@{hierarchyexcerptlength}}
\index{hierarchyexcerptlength@{hierarchyexcerptlength}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int hierarchyexcerptlength}\label{dil2al_8hh_a179}




Definition at line 1373 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!hierarchymaxdepth@{hierarchymaxdepth}}
\index{hierarchymaxdepth@{hierarchymaxdepth}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int hierarchymaxdepth}\label{dil2al_8hh_a178}




Definition at line 1372 of file dil2al.hh.

Referenced by dil2al\_\-commands(), and Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!hierarchyplanparse@{hierarchyplanparse}}
\index{hierarchyplanparse@{hierarchyplanparse}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool hierarchyplanparse}\label{dil2al_8hh_a177}




Definition at line 1371 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!homedir@{homedir}}
\index{homedir@{homedir}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} homedir}\label{dil2al_8hh_a110}




Definition at line 1312 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!htmlforminterface@{htmlforminterface}}
\index{htmlforminterface@{htmlforminterface}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} htmlforminterface}\label{dil2al_8hh_a184}




Definition at line 1378 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!htmlformmethod@{htmlformmethod}}
\index{htmlformmethod@{htmlformmethod}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} htmlformmethod}\label{dil2al_8hh_a185}




Definition at line 1379 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!idfile@{idfile}}
\index{idfile@{idfile}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} idfile}\label{dil2al_8hh_a113}




Definition at line 1315 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!immediatesearchoutput@{immediatesearchoutput}}
\index{immediatesearchoutput@{immediatesearchoutput}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool immediatesearchoutput}\label{dil2al_8hh_a197}




Definition at line 1391 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!indexkeys@{indexkeys}}
\index{indexkeys@{indexkeys}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String\-List} indexkeys}\label{dil2al_8hh_a203}




Definition at line 1397 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!indexkeysnum@{indexkeysnum}}
\index{indexkeysnum@{indexkeysnum}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int indexkeysnum}\label{dil2al_8hh_a204}




Definition at line 1398 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!isdaemon@{isdaemon}}
\index{isdaemon@{isdaemon}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool isdaemon}\label{dil2al_8hh_a141}




Definition at line 1337 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!listfile@{listfile}}
\index{listfile@{listfile}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} listfile}\label{dil2al_8hh_a112}




Definition at line 1314 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!lockidfile@{lockidfile}}
\index{lockidfile@{lockidfile}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} lockidfile}\label{dil2al_8hh_a114}




Definition at line 1316 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!looplist@{looplist}}
\index{looplist@{looplist}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Detailed\_\-Items\_\-List}$\ast$ looplist}\label{dil2al_8hh_a207}




Definition at line 1402 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!newTLID@{newTLID}}
\index{newTLID@{newTLID}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} new\-TLID}\label{dil2al_8hh_a205}




Definition at line 1399 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!notetmpfile@{notetmpfile}}
\index{notetmpfile@{notetmpfile}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} notetmpfile}\label{dil2al_8hh_a189}




Definition at line 1383 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!numDILs@{numDILs}}
\index{numDILs@{numDILs}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int num\-DILs}\label{dil2al_8hh_a133}




Definition at line 1335 of file dil2al.hh.

Referenced by initialize().\index{dil2al.hh@{dil2al.hh}!offercreate@{offercreate}}
\index{offercreate@{offercreate}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool offercreate}\label{dil2al_8hh_a138}




Definition at line 1337 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!owner@{owner}}
\index{owner@{owner}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} owner}\label{dil2al_8hh_a148}




Definition at line 1342 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!paperplansfile@{paperplansfile}}
\index{paperplansfile@{paperplansfile}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} paperplansfile}\label{dil2al_8hh_a119}




Definition at line 1321 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!quicknotedescr@{quicknotedescr}}
\index{quicknotedescr@{quicknotedescr}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String\-List} quicknotedescr}\label{dil2al_8hh_a201}




Definition at line 1395 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!quicknotedst@{quicknotedst}}
\index{quicknotedst@{quicknotedst}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String\-List} quicknotedst}\label{dil2al_8hh_a199}




Definition at line 1393 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!quicknotedstnum@{quicknotedstnum}}
\index{quicknotedstnum@{quicknotedstnum}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int quicknotedstnum}\label{dil2al_8hh_a202}




Definition at line 1396 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!quicknotedsttitle@{quicknotedsttitle}}
\index{quicknotedsttitle@{quicknotedsttitle}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String\-List} quicknotedsttitle}\label{dil2al_8hh_a200}




Definition at line 1394 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!rapidscheduleupdating@{rapidscheduleupdating}}
\index{rapidscheduleupdating@{rapidscheduleupdating}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool rapidscheduleupdating}\label{dil2al_8hh_a165}




Definition at line 1359 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!remotesearch@{remotesearch}}
\index{remotesearch@{remotesearch}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool remotesearch}\label{dil2al_8hh_a198}




Definition at line 1392 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!reversehierarchy@{reversehierarchy}}
\index{reversehierarchy@{reversehierarchy}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool reversehierarchy}\label{dil2al_8hh_a176}




Definition at line 1370 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!searchprogressmeter@{searchprogressmeter}}
\index{searchprogressmeter@{searchprogressmeter}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool searchprogressmeter}\label{dil2al_8hh_a196}




Definition at line 1390 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!sectionsize@{sectionsize}}
\index{sectionsize@{sectionsize}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int sectionsize}\label{dil2al_8hh_a153}




Definition at line 1347 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!sectionstrategy@{sectionstrategy}}
\index{sectionstrategy@{sectionstrategy}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int sectionstrategy}\label{dil2al_8hh_a154}




Definition at line 1348 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!showflag@{showflag}}
\index{showflag@{showflag}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool showflag}\label{dil2al_8hh_a140}




Definition at line 1337 of file dil2al.hh.

Referenced by dil2al\_\-commands(), and Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!suggestnameref@{suggestnameref}}
\index{suggestnameref@{suggestnameref}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool suggestnameref}\label{dil2al_8hh_a136}




Definition at line 1337 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!tareadfile@{tareadfile}}
\index{tareadfile@{tareadfile}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} tareadfile}\label{dil2al_8hh_a192}




Definition at line 1386 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!targetdatepreferences@{targetdatepreferences}}
\index{targetdatepreferences@{targetdatepreferences}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool targetdatepreferences}\label{dil2al_8hh_a166}




Definition at line 1360 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!tasklog@{tasklog}}
\index{tasklog@{tasklog}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} tasklog}\label{dil2al_8hh_a117}




Definition at line 1319 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!taskloghead@{taskloghead}}
\index{taskloghead@{taskloghead}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} taskloghead}\label{dil2al_8hh_a118}




Definition at line 1320 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!templatearticlesubsection@{templatearticlesubsection}}
\index{templatearticlesubsection@{templatearticlesubsection}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} templatearticlesubsection}\label{dil2al_8hh_a126}




Definition at line 1328 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!templatearticlesubsubsection@{templatearticlesubsubsection}}
\index{templatearticlesubsubsection@{templatearticlesubsubsection}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} templatearticlesubsubsection}\label{dil2al_8hh_a127}




Definition at line 1329 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!timechunkoverstrategy@{timechunkoverstrategy}}
\index{timechunkoverstrategy@{timechunkoverstrategy}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int timechunkoverstrategy}\label{dil2al_8hh_a151}




Definition at line 1345 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!timechunksize@{timechunksize}}
\index{timechunksize@{timechunksize}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int timechunksize}\label{dil2al_8hh_a149}




Definition at line 1343 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!timechunkslack@{timechunkslack}}
\index{timechunkslack@{timechunkslack}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int timechunkslack}\label{dil2al_8hh_a150}




Definition at line 1344 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!timechunkunderstrategy@{timechunkunderstrategy}}
\index{timechunkunderstrategy@{timechunkunderstrategy}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int timechunkunderstrategy}\label{dil2al_8hh_a152}




Definition at line 1346 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!tlentrytmpfile@{tlentrytmpfile}}
\index{tlentrytmpfile@{tlentrytmpfile}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} tlentrytmpfile}\label{dil2al_8hh_a190}




Definition at line 1384 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!updatenoteineditor@{updatenoteineditor}}
\index{updatenoteineditor@{updatenoteineditor}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int updatenoteineditor}\label{dil2al_8hh_a181}




Definition at line 1375 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!updatenoteineditorcmd@{updatenoteineditorcmd}}
\index{updatenoteineditorcmd@{updatenoteineditorcmd}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf String} updatenoteineditorcmd}\label{dil2al_8hh_a180}




Definition at line 1374 of file dil2al.hh.\index{dil2al.hh@{dil2al.hh}!useansi@{useansi}}
\index{useansi@{useansi}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool useansi}\label{dil2al_8hh_a142}




Definition at line 1337 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!usequickloadcache@{usequickloadcache}}
\index{usequickloadcache@{usequickloadcache}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool usequickloadcache}\label{dil2al_8hh_a144}




Definition at line 1339 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!verbose@{verbose}}
\index{verbose@{verbose}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool verbose}\label{dil2al_8hh_a135}




Definition at line 1337 of file dil2al.hh.

Referenced by dil2al\_\-commands().\index{dil2al.hh@{dil2al.hh}!vout@{vout}}
\index{vout@{vout}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}ostream$\ast$ vout}\label{dil2al_8hh_a132}




Definition at line 1334 of file dil2al.hh.

Referenced by dil2al\_\-commands(), and main().\index{dil2al.hh@{dil2al.hh}!wdworkendprefs@{wdworkendprefs}}
\index{wdworkendprefs@{wdworkendprefs}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}time\_\-t wdworkendprefs[7]}\label{dil2al_8hh_a168}




Definition at line 1362 of file dil2al.hh.

Referenced by Set\_\-Parameter().\index{dil2al.hh@{dil2al.hh}!weekdayworkendpreferences@{weekdayworkendpreferences}}
\index{weekdayworkendpreferences@{weekdayworkendpreferences}!dil2al.hh@{dil2al.hh}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool weekdayworkendpreferences}\label{dil2al_8hh_a167}




Definition at line 1361 of file dil2al.hh.

Referenced by work\_\-end\_\-preferences().