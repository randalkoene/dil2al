<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>BigRegex.hh Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.15 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>BigRegex.hh</h1><a href="BigRegex_8hh.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">// This may look like C code, but it is really -*- C++ -*-</font>
00002 <font class="comment">/* </font>
00003 <font class="comment">Copyright (C) 1988 Free Software Foundation</font>
00004 <font class="comment">    written by Doug Lea (dl@rocky.oswego.edu)</font>
00005 <font class="comment"></font>
00006 <font class="comment">Modified by Randal A. Koene, 20000228</font>
00007 <font class="comment">    disabled #include &lt;rx.h&gt; due to unreliabilities</font>
00008 <font class="comment">    POSIX.2 adaptation of Regex (!)</font>
00009 <font class="comment"></font>
00010 <font class="comment">This file is part of the GNU C++ Library.  This library is free</font>
00011 <font class="comment">software; you can redistribute it and/or modify it under the terms of</font>
00012 <font class="comment">the GNU Library General Public License as published by the Free</font>
00013 <font class="comment">Software Foundation; either version 2 of the License, or (at your</font>
00014 <font class="comment">option) any later version.  This library is distributed in the hope</font>
00015 <font class="comment">that it will be useful, but WITHOUT ANY WARRANTY; without even the</font>
00016 <font class="comment">implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR</font>
00017 <font class="comment">PURPOSE.  See the GNU Library General Public License for more details.</font>
00018 <font class="comment">You should have received a copy of the GNU Library General Public</font>
00019 <font class="comment">License along with this library; if not, write to the Free Software</font>
00020 <font class="comment">Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.</font>
00021 <font class="comment">*/</font>
00022 
00023 
00024 <font class="preprocessor">#ifndef _BigRegex_hh</font>
00025 <font class="preprocessor"></font><font class="preprocessor">#ifdef __GNUG__</font>
00026 <font class="preprocessor"></font><font class="preprocessor">#pragma interface</font>
00027 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
<a name="l00028"></a><a class="code" href="BigRegex_8hh.html#a0">00028</a> <font class="preprocessor"></font><font class="preprocessor">#define _BigRegex_hh 1</font>
00029 <font class="preprocessor"></font><font class="comment">// block other possible redefinitions</font>
<a name="l00030"></a><a class="code" href="BigRegex_8hh.html#a1">00030</a> <font class="preprocessor">#define _Regex_h 1</font>
00031 <font class="preprocessor"></font>
00032 <font class="preprocessor">#undef OK</font>
00033 <font class="preprocessor"></font>
00034 <font class="preprocessor">#include &lt;sys/types.h&gt;</font>
00035 
00036 <font class="comment">/*</font>
00037 <font class="comment">        Note: The rx.h supplied with Linux or with the libg++ library</font>
00038 <font class="comment">        source code is fairly unreliable. To avoid these difficulties</font>
00039 <font class="comment">        as much as possible, BigRegex adapts Regex to use POSIX.2</font>
00040 <font class="comment">        regex functions.</font>
00041 <font class="comment">*/</font>
00042 
00043 <font class="comment">// if &lt;regex.h&gt; below does not point to a POSIX.2 regex implementation such</font>
00044 <font class="comment">// as that of the GNU libc library, then obtain a POSIX.2 implementation and</font>
00045 <font class="comment">// set _ALT_REGEX as well as _USE_ALT_REGEX</font>
00046 <font class="comment">//#define _ALT_REGEX_H "regex.h"</font>
00047 <font class="comment">//#define _USE_ALT_REGEX</font>
00048 <font class="preprocessor">#ifndef _CPP_REGEX</font>
00049 <font class="preprocessor"></font><font class="keyword">extern</font> <font class="stringliteral">"C"</font> {
00050 <font class="preprocessor">#endif</font>
00051 <font class="preprocessor"></font><font class="preprocessor">#ifdef _USE_ALT_REGEX</font>
00052 <font class="preprocessor"></font><font class="preprocessor">        #include _ALT_REGEX_H</font>
00053 <font class="preprocessor"></font><font class="preprocessor">#else</font>
00054 <font class="preprocessor"></font><font class="preprocessor">        #ifdef SYSTEM_RX</font>
00055 <font class="preprocessor"></font><font class="preprocessor">                #include &lt;regex.h&gt;</font>
00056 <font class="preprocessor">        #else</font>
00057 <font class="preprocessor"></font><font class="preprocessor">                #include "rx.h"</font>
00058 <font class="preprocessor">        #endif</font>
00059 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00060 <font class="preprocessor"></font><font class="preprocessor">#ifndef _CPP_REGEX</font>
00061 <font class="preprocessor"></font>}
00062 <font class="preprocessor">#endif</font>
00063 <font class="preprocessor"></font><font class="comment">// This slows things down a little, but guarantees that matches do not</font>
00064 <font class="comment">// proceed beyond the length of a string</font>
00065 <font class="comment">//#ifdef _BIGREGEX_SAFE_MATCHES</font>
00066 <font class="comment">//      #include &lt;string.h&gt;</font>
00067 <font class="comment">//#endif</font>
00068 
00069 <font class="preprocessor">#include &lt;iostream.h&gt;</font>
00070 
00071 <font class="comment">// Currently don't have error handler for this class yet</font>
00072 <font class="comment">//#define _BIGREGEX_HAVE_ERROR_HANDLER</font>
00073 
00074 <font class="comment">// The structure type regmatch_t is not very large, so it is quite possible</font>
00075 <font class="comment">// to define a greater number of subexpression registers</font>
<a name="l00076"></a><a class="code" href="BigRegex_8hh.html#a2">00076</a> <font class="preprocessor">#define BIGREGEX_MAX_SUBEXPRESSIONS     16</font>
00077 <font class="preprocessor"></font>
<a name="l00078"></a><a class="code" href="classBigRegex.html">00078</a> <font class="keyword">class </font><a class="code" href="classBigRegex.html">BigRegex</a>
00079 {
00080 <font class="keyword">private</font>:
00081 
00082                      <a class="code" href="classBigRegex.html#a0">BigRegex</a>(<font class="keyword">const</font> <a class="code" href="classBigRegex.html">BigRegex</a>&amp;) { *<a class="code" href="classBigRegex.html#n2">re_assigned</a>=<font class="keyword">false</font>; }  <font class="comment">// no X(X&amp;)</font>
00083   <font class="keywordtype">void</font>               operator = (<font class="keyword">const</font> <a class="code" href="classBigRegex.html">BigRegex</a>&amp;) { *<a class="code" href="classBigRegex.html#n2">re_assigned</a>=<font class="keyword">false</font>; } <font class="comment">// no assignment</font>
00084 
00085 <font class="keyword">protected</font>:
<a name="l00086"></a><a class="code" href="classBigRegex.html#n0">00086</a>         regex_t *       <a class="code" href="classBigRegex.html#n0">re</a>;
<a name="l00087"></a><a class="code" href="classBigRegex.html#n1">00087</a>         regmatch_t *    <a class="code" href="classBigRegex.html#n1">rm</a>;
<a name="l00088"></a><a class="code" href="classBigRegex.html#n2">00088</a>         <font class="keywordtype">bool</font>    *               <a class="code" href="classBigRegex.html#n2">re_assigned</a>;
00089 
00090 <font class="keyword">public</font>:
00091                      <a class="code" href="classBigRegex.html#a0">BigRegex</a>(<font class="keyword">const</font> <font class="keywordtype">char</font>* t, 
00092                            <font class="keywordtype">int</font> fast = 0, 
00093                            <font class="keywordtype">int</font> bufsize = 40, 
00094                            <font class="keyword">const</font> <font class="keywordtype">char</font>* transtable = 0);
00095 
00096                     <a class="code" href="classBigRegex.html#a1">~BigRegex</a>();
00097 
00098   <font class="keywordtype">int</font>                <a class="code" href="classBigRegex.html#a2">match</a>(<font class="keyword">const</font> <font class="keywordtype">char</font>* s, <font class="keywordtype">int</font> len, <font class="keywordtype">int</font> pos = 0) <font class="keyword">const</font>;
00099   <font class="keywordtype">int</font>                <a class="code" href="classBigRegex.html#a3">search</a>(<font class="keyword">const</font> <font class="keywordtype">char</font>* s, <font class="keywordtype">int</font> len, 
00100                             <font class="keywordtype">int</font>&amp; matchlen, <font class="keywordtype">int</font> startpos = 0) <font class="keyword">const</font>;
00101   <font class="keywordtype">int</font>                <a class="code" href="classBigRegex.html#a4">match_info</a>(<font class="keywordtype">int</font>&amp; start, <font class="keywordtype">int</font>&amp; length, <font class="keywordtype">int</font> nth = 0) <font class="keyword">const</font>;
00102   
00103   <font class="keywordtype">int</font>                <a class="code" href="classBigRegex.html#a5">subpos</a>(<font class="keywordtype">int</font> nth = 0) <font class="keyword">const</font>;
00104   <font class="keywordtype">int</font>                <a class="code" href="classBigRegex.html#a6">sublen</a>(<font class="keywordtype">int</font> nth = 0) <font class="keyword">const</font>;
00105 
00106   <font class="keywordtype">int</font>                <a class="code" href="classBigRegex.html#a7">OK</a>() <font class="keyword">const</font>;  <font class="comment">// representation invariant</font>
00107 };
00108 
00109 <font class="comment">// some built in regular expressions</font>
00110 
<a name="l00111"></a><a class="code" href="BigRegex_8hh.html#a3">00111</a> <font class="keyword">extern</font> <font class="keyword">const</font> <a class="code" href="classBigRegex.html">BigRegex</a> <a class="code" href="BigRegex_8hh.html#a3">BRXwhite</a>;          <font class="comment">// = "[ \n\t\r\v\f]+"</font>
<a name="l00112"></a><a class="code" href="BigRegex_8hh.html#a4">00112</a> <font class="keyword">extern</font> <font class="keyword">const</font> <a class="code" href="classBigRegex.html">BigRegex</a> <a class="code" href="BigRegex_8hh.html#a4">BRXint</a>;            <font class="comment">// = "-?[0-9]+"</font>
<a name="l00113"></a><a class="code" href="BigRegex_8hh.html#a5">00113</a> <font class="keyword">extern</font> <font class="keyword">const</font> <a class="code" href="classBigRegex.html">BigRegex</a> <a class="code" href="BigRegex_8hh.html#a5">BRXdouble</a>;         <font class="comment">// = "-?\\(\\([0-9]+\\.[0-9]*\\)\\|</font>
00114                                      <font class="comment">//    \\([0-9]+\\)\\|\\(\\.[0-9]+\\)\\)</font>
00115                                      <font class="comment">//    \\([eE][---+]?[0-9]+\\)?"</font>
<a name="l00116"></a><a class="code" href="BigRegex_8hh.html#a6">00116</a> <font class="keyword">extern</font> <font class="keyword">const</font> <a class="code" href="classBigRegex.html">BigRegex</a> <a class="code" href="BigRegex_8hh.html#a6">BRXalpha</a>;          <font class="comment">// = "[A-Za-z]+"</font>
<a name="l00117"></a><a class="code" href="BigRegex_8hh.html#a7">00117</a> <font class="keyword">extern</font> <font class="keyword">const</font> <a class="code" href="classBigRegex.html">BigRegex</a> <a class="code" href="BigRegex_8hh.html#a7">BRXlowercase</a>;      <font class="comment">// = "[a-z]+"</font>
<a name="l00118"></a><a class="code" href="BigRegex_8hh.html#a8">00118</a> <font class="keyword">extern</font> <font class="keyword">const</font> <a class="code" href="classBigRegex.html">BigRegex</a> <a class="code" href="BigRegex_8hh.html#a8">BRXuppercase</a>;      <font class="comment">// = "[A-Z]+"</font>
<a name="l00119"></a><a class="code" href="BigRegex_8hh.html#a9">00119</a> <font class="keyword">extern</font> <font class="keyword">const</font> <a class="code" href="classBigRegex.html">BigRegex</a> <a class="code" href="BigRegex_8hh.html#a9">BRXalphanum</a>;       <font class="comment">// = "[0-9A-Za-z]+"</font>
<a name="l00120"></a><a class="code" href="BigRegex_8hh.html#a10">00120</a> <font class="keyword">extern</font> <font class="keyword">const</font> <a class="code" href="classBigRegex.html">BigRegex</a> <a class="code" href="BigRegex_8hh.html#a10">BRXidentifier</a>;     <font class="comment">// = "[A-Za-z_][A-Za-z0-9_]*"</font>
00121 
00122 <font class="preprocessor">#endif</font>
</pre></div><hr><address align="right"><small>Generated on Mon Sep 13 14:53:08 2004 for dil2al by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.15 </small></address>
</body>
</html>
