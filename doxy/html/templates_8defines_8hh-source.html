<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>templates.defines.hh Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.15 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>templates.defines.hh</h1><a href="templates_8defines_8hh.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">// Useful C++ templates</font>
00002 <font class="comment">//</font>
00003 <font class="comment">// Randal A. Koene, 20000802</font>
00004 
00005 <font class="preprocessor">#ifndef __TEMPLATES_HH</font>
00006 <font class="preprocessor"></font><font class="preprocessor">#define __TEMPLATES_HH</font>
00007 <font class="preprocessor"></font>
00008 <font class="comment">// Protected Linked List</font>
00009 <font class="comment">// *** perhaps use a real template definition if that</font>
00010 <font class="comment">//     means every type that uses it can reuse the</font>
00011 <font class="comment">//     same function code</font>
00012 <font class="comment">//</font>
00013 <font class="comment">// A linked list with protection against breakage and floating remnants,</font>
00014 <font class="comment">// which is also type-safe by using define to create type-specific</font>
00015 <font class="comment">// code instead of type-casting from generic code.</font>
00016 <font class="comment">// The two classes that are created for each class that uses</font>
00017 <font class="comment">// this Protected Linked List template are declared as friends</font>
00018 <font class="comment">// of each other, to simplify intuitive processes for such tasks</font>
00019 <font class="comment">// as linking and unlinking, without granting any private access to</font>
00020 <font class="comment">// either the class using the Protected Linked List template or</font>
00021 <font class="comment">// any classes derived from the two additional created classes,</font>
00022 <font class="comment">// thereby effectively guarding the link structure against</font>
00023 <font class="comment">// changes that could violate the protocol.</font>
00024 <font class="comment">/* Schematic of the structure:</font>
00025 <font class="comment"></font>
00026 <font class="comment">   +----+     +----+     +----+     +----+</font>
00027 <font class="comment">   |obj1|     |obj2|     |obj3|     |obj4|</font>
00028 <font class="comment">   |inh.|     |inh.|     |inh.|     |inh.|</font>
00029 <font class="comment">   |PLL |     |PLL |     |PLL |     |PLL |</font>
00030 <font class="comment">   +----+ next+----+     +----+     +----+</font>
00031 <font class="comment">+-&gt;|PLL1|&lt;---&gt;|PLL2|&lt;---&gt;|PLL3|&lt;---&gt;|PLL4|&lt;-+</font>
00032 <font class="comment">|  +----+prev +----+     +----+     +----+  |</font>
00033 <font class="comment">|     \          \         /          /     |   PLL and</font>
00034 <font class="comment">|      \__________\_______/__________/      |   PLLRoot</font>
00035 <font class="comment">|           root      |                     |   are</font>
00036 <font class="comment">|                     v                     |   friends</font>
00037 <font class="comment">|         head  +-----------+  tail         |</font>
00038 <font class="comment">+---------------|  PLLRoot  |---------------+</font>
00039 <font class="comment">                +-----------+</font>
00040 <font class="comment">                     ### (local, global or new-allocated)</font>
00041 <font class="comment">        +----------------------------+</font>
00042 <font class="comment">        | class, function or program |</font>
00043 <font class="comment">        +----------------------------+</font>
00044 <font class="comment"></font>
00045 <font class="comment">*/</font>
00046 <font class="comment">// a - Protected Linked List class and its Root class, add these</font>
00047 <font class="comment">//     above the class header</font>
00048 <font class="comment">//class PLLType;</font>
<a name="l00049"></a><a class="code" href="templates_8defines_8hh.html#a4">00049</a> <font class="keyword">class </font>PLLRoot_##<a class="code" href="classPLLType.html">PLLType</a>; 
00050 <font class="keyword">template</font> &lt;<font class="keyword">class</font> PLLType&gt;
<a name="l00051"></a><a class="code" href="classPLLType.html">00051</a> <font class="keyword">class </font>PLL_##<a class="code" href="classPLLType.html">PLLType</a> { 
00052         <font class="keyword">friend</font> PLLRoot_##<a class="code" href="classPLLType.html">PLLType</a>; 
00053         <font class="keyword">protected</font>: 
00054                 PLLRoot_##<a class="code" href="classPLLType.html">PLLType</a> * pllroot; 
<a name="l00055"></a><a class="code" href="classPLLType.html#n1">00055</a>                 <a class="code" href="classPLLType.html">PLLType</a> * <a class="code" href="templates_8defines_8hh.html#a10">pllnext</a>, * <a class="code" href="templates_8defines_8hh.html#a8">pllprev</a>; 
00056         <font class="keyword">public</font>: 
<a name="l00057"></a><a class="code" href="classPLLType.html#a0">00057</a>                 <a class="code" href="templates_8defines_8hh.html#a4">PLLType</a>(): pllroot(NULL), pllnext(NULL), pllprev(NULL) {} 
00058                 PLLRoot_##<a class="code" href="classPLLType.html">PLLType</a> * Root() { <font class="keywordflow">return</font> pllroot; } 
<a name="l00059"></a><a class="code" href="classPLLType.html#a1">00059</a>                 <a class="code" href="classPLLType.html">PLLType</a> * Next() { <font class="keywordflow">return</font> pllnext; } 
<a name="l00060"></a><a class="code" href="classPLLType.html#a2">00060</a>                 <a class="code" href="classPLLType.html">PLLType</a> * Prev() { <font class="keywordflow">return</font> pllprev; } 
<a name="l00061"></a><a class="code" href="classPLLType.html#a3">00061</a>                 <a class="code" href="classPLLType.html">PLLType</a> * head() { <font class="keywordflow">return</font> pllroot-&gt;<a class="code" href="classPLLType.html#a3">head</a>(); } 
<a name="l00062"></a><a class="code" href="classPLLType.html#a4">00062</a>                 <a class="code" href="classPLLType.html">PLLType</a> * tail() { <font class="keywordflow">return</font> pllroot-&gt;tail(); } 
00063                 <font class="keyword">inline</font> <a class="code" href="classPLLType.html">PLLType</a> * el(<font class="keywordtype">int</font> n); 
00064                 <font class="keyword">inline</font> <a class="code" href="classPLLType.html">PLLType</a> * seek_head(); 
00065                 <font class="keyword">inline</font> <a class="code" href="classPLLType.html">PLLType</a> * seek_tail(); 
00066                 <font class="keyword">inline</font> <font class="keywordtype">int</font> length(); 
00067                 <font class="keyword">inline</font> <font class="keywordtype">int</font> fulllength(); 
00068                 <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="templates_8defines_8hh.html#a19">unlink_before</a>(PLLRoot_##<a class="code" href="classPLLType.html">PLLType</a> &amp; <a class="code" href="templates_8defines_8hh.html#a13">succ</a>); 
00069                 <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="templates_8defines_8hh.html#a24">unlink_after</a>(PLLRoot_##<a class="code" href="classPLLType.html">PLLType</a> &amp; <a class="code" href="templates_8defines_8hh.html#a12">pred</a>); 
00070                 <font class="keyword">inline</font> <a class="code" href="classPLLType.html">PLLType</a> * remove(); 
00071 }; 
00072 <font class="keyword">class </font>PLLRoot_##<a class="code" href="classPLLType.html">PLLType</a> { 
00073         <font class="keyword">friend</font> PLL_##<a class="code" href="classPLLType.html">PLLType</a>; 
00074         <font class="keyword">protected</font>: 
<a name="l00075"></a><a class="code" href="classPLLType.html#n2">00075</a>                 <a class="code" href="classPLLType.html">PLLType</a> * <a class="code" href="templates_8defines_8hh.html#a6">pllhead</a>; 
<a name="l00076"></a><a class="code" href="classPLLType.html#n3">00076</a>                 <a class="code" href="classPLLType.html">PLLType</a> * <a class="code" href="templates_8defines_8hh.html#a7">plltail</a>; 
00077                 <font class="keyword">inline</font> <font class="keywordtype">void</font> <a class="code" href="templates_8defines_8hh.html#a17">set_root</a>(<a class="code" href="classPLLType.html">PLLType</a> * h); 
00078         <font class="keyword">public</font>: 
00079                 ~PLLRoot_##<a class="code" href="templates_8defines_8hh.html#a4">PLLType</a>() { <font class="keyword">delete</font> pllhead; } 
00080                 PLLRoot_##<a class="code" href="templates_8defines_8hh.html#a4">PLLType</a>(): pllhead(NULL), plltail(NULL) {} 
<a name="l00081"></a><a class="code" href="classPLLType.html#a13">00081</a>                 PLLType * head() { <font class="keywordflow">return</font> pllhead; } 
<a name="l00082"></a><a class="code" href="classPLLType.html#a14">00082</a>                 PLLType * tail() { <font class="keywordflow">return</font> plltail; } 
<a name="l00083"></a><a class="code" href="classPLLType.html#a15">00083</a>                 PLLType * el(<font class="keywordtype">int</font> n) { <font class="keywordflow">if</font> (pllhead) <font class="keywordflow">return</font> pllhead-&gt;<a class="code" href="classPLLType.html#a5">el</a>(n); <font class="keywordflow">return</font> NULL; } 
<a name="l00084"></a><a class="code" href="classPLLType.html#a16">00084</a>                 PLLType * operator[](<font class="keywordtype">int</font> n) { <font class="keywordflow">return</font> el(n); } 
<a name="l00085"></a><a class="code" href="classPLLType.html#a17">00085</a>                 <font class="keywordtype">int</font> length() { <font class="keywordflow">if</font> (pllhead) <font class="keywordflow">return</font> pllhead-&gt;<a class="code" href="classPLLType.html#a8">length</a>(); <font class="keywordflow">return</font> 0; } 
00086                 <font class="keyword">inline</font> <font class="keywordtype">void</font> <a class="code" href="templates2_8hh.html#a6">update</a>(); 
00087                 <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="templates_8defines_8hh.html#a30">link_before</a>(PLLRoot_##PLLType * <a class="code" href="templates_8defines_8hh.html#a13">succ</a>); 
00088                 <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="templates_8defines_8hh.html#a30">link_before</a>(PLLType * <a class="code" href="templates_8defines_8hh.html#a13">succ</a>); 
00089                 <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="templates_8defines_8hh.html#a25">link_after</a>(PLLRoot_##PLLType * <a class="code" href="templates_8defines_8hh.html#a12">pred</a>); 
00090                 <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="templates_8defines_8hh.html#a25">link_after</a>(PLLType * <a class="code" href="templates_8defines_8hh.html#a12">pred</a>); 
00091                 <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="templates_8defines_8hh.html#a27">insert_after</a>(PLLType * <a class="code" href="templates_8defines_8hh.html#a12">pred</a>, PLLType * inshead); 
00092                 <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="templates_8defines_8hh.html#a27">insert_after</a>(<font class="keywordtype">int</font> n, PLLType * inshead); 
00093                 <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="templates_8defines_8hh.html#a32">insert_before</a>(PLLType * <a class="code" href="templates_8defines_8hh.html#a13">succ</a>, PLLType * inshead); 
00094                 <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="templates_8defines_8hh.html#a32">insert_before</a>(<font class="keywordtype">int</font> n, PLLType * inshead); 
00095 }
00096 <font class="comment">// b - Protected Linked List inheritance, add this into the list</font>
00097 <font class="comment">//     of inherited classes</font>
00098 <font class="preprocessor">#define Protected_Linked_List_Class(PLLType) </font>
00099 <font class="preprocessor"></font>        <font class="keyword">public</font> PLL_##<a class="code" href="classPLLType.html">PLLType</a>
00100 <font class="comment">// c - Protected Linked List inline functions, add this after</font>
00101 <font class="comment">//     the class</font>
00102 <font class="comment">//              insert_this_*() returns true if linked, false if first topic in new list</font>
00103 <font class="comment">//              el() returns the nth offset element in the linked list (either direction)</font>
00104 <font class="preprocessor">#define Protected_Linked_List_functions(PLLType) </font>
00105 <font class="preprocessor"></font>        <font class="keyword">inline</font> <font class="keywordtype">bool</font> PLL_##<a class="code" href="classPLLType.html#a10">PLLType::unlink_before</a>(PLLRoot_##<a class="code" href="classPLLType.html">PLLType</a> &amp; <a class="code" href="templates_8defines_8hh.html#a13">succ</a>) { 
00106         <font class="comment">// unlinks before this and gives this and after</font>
00107         <font class="comment">// the new root succ</font>
00108         <font class="comment">// succ is currently required to be an empty list</font>
00109                 <font class="keywordflow">if</font> (<a class="code" href="templates_8defines_8hh.html#a13">succ</a>.<a class="code" href="classPLLType.html#a3">head</a>()) <font class="keywordflow">return</font> <font class="keyword">false</font>; 
00110                 <font class="keywordflow">if</font> (pllprev) <a class="code" href="classPLLType.html#n1">pllprev</a>-&gt;<a class="code" href="classPLLType.html#n0">pllnext</a> = NULL; 
00111                 <a class="code" href="templates_8defines_8hh.html#a13">succ</a>.<a class="code" href="classPLLType.html#n2">pllhead</a> = <font class="keyword">this</font>; 
<a name="l00112"></a><a class="code" href="templates_8defines_8hh.html#a14">00112</a>                 <font class="keywordflow">if</font> (pllroot) { 
00113                         <a class="code" href="templates_8defines_8hh.html#a13">succ</a>.<a class="code" href="classPLLType.html#n3">plltail</a> = pllroot-&gt;<a class="code" href="classPLLType.html#a4">tail</a>(); 
00114                         pllroot-&gt;plltail = <a class="code" href="classPLLType.html#n1">pllprev</a>; 
00115                         <font class="keywordflow">if</font> (!<a class="code" href="classPLLType.html#n1">pllprev</a>) pllroot-&gt;<a class="code" href="classPLLType.html#n2">pllhead</a> = NULL; 
00116                 } <font class="keywordflow">else</font> <a class="code" href="templates_8defines_8hh.html#a13">succ</a>.<a class="code" href="classPLLType.html#n3">plltail</a> = <a class="code" href="classPLLType.html#a7">seek_tail</a>(); 
<a name="l00117"></a><a class="code" href="templates_8defines_8hh.html#a8">00117</a>                 <a class="code" href="classPLLType.html#n1">pllprev</a> = NULL; 
00118                 <a class="code" href="templates_8defines_8hh.html#a13">succ</a>.<a class="code" href="classPLLType.html#b0">set_root</a>(<font class="keyword">this</font>); 
00119                 <font class="keywordflow">return</font> <font class="keyword">true</font>; 
00120         } 
00121         <font class="keyword">inline</font> <font class="keywordtype">bool</font> PLL_##<a class="code" href="classPLLType.html#a11">PLLType::unlink_after</a>(PLLRoot_##<a class="code" href="classPLLType.html">PLLType</a> &amp; <a class="code" href="templates_8defines_8hh.html#a12">pred</a>) { 
00122         <font class="comment">// unlinks after this and gives this and before</font>
00123         <font class="comment">// the new root pred</font>
00124         <font class="comment">// pred is currently required to be an empty list</font>
00125                 <font class="keywordflow">if</font> (<a class="code" href="templates_8defines_8hh.html#a12">pred</a>.<a class="code" href="classPLLType.html#a3">head</a>()) <font class="keywordflow">return</font> <font class="keyword">false</font>; 
00126                 <font class="keywordflow">if</font> (pllnext) <a class="code" href="templates_8defines_8hh.html#a10">pllnext</a>-&gt;pllprev = NULL; 
<a name="l00127"></a><a class="code" href="templates_8defines_8hh.html#a7">00127</a>                 <a class="code" href="templates_8defines_8hh.html#a12">pred</a>.<a class="code" href="classPLLType.html#n3">plltail</a> = <font class="keyword">this</font>; 
00128                 <font class="keywordflow">if</font> (pllroot) { 
00129                         <a class="code" href="templates_8defines_8hh.html#a12">pred</a>.<a class="code" href="classPLLType.html#n2">pllhead</a> = pllroot-&gt;<a class="code" href="classPLLType.html#a3">head</a>(); 
00130                         pllroot-&gt;pllhead = <a class="code" href="templates_8defines_8hh.html#a10">pllnext</a>; 
00131                         <font class="keywordflow">if</font> (!<a class="code" href="templates_8defines_8hh.html#a10">pllnext</a>) pllroot-&gt;plltail = NULL; 
<a name="l00132"></a><a class="code" href="templates_8defines_8hh.html#a6">00132</a>                 } <font class="keywordflow">else</font> <a class="code" href="templates_8defines_8hh.html#a12">pred</a>.<a class="code" href="classPLLType.html#n2">pllhead</a> = seek_head(); 
00133                 <a class="code" href="templates_8defines_8hh.html#a10">pllnext</a> = NULL; 
00134                 <a class="code" href="templates_8defines_8hh.html#a12">pred</a>.<a class="code" href="classPLLType.html#b0">set_root</a>(<a class="code" href="templates_8defines_8hh.html#a12">pred</a>-&gt;<a class="code" href="classPLLType.html#a3">head</a>()); 
<a name="l00135"></a><a class="code" href="templates_8defines_8hh.html#a9">00135</a>                 <font class="keywordflow">return</font> <font class="keyword">true</font>; 
00136         } 
00137         <font class="comment">// unlink and delete Protected Linked List element,</font>
00138         <font class="comment">// return next element, and update head and tail</font>
00139         <font class="keyword">inline</font> <a class="code" href="classPLLType.html">PLLType</a> * PLL_##<a class="code" href="classPLLType.html#a12">PLLType::remove</a>() { 
<a name="l00140"></a><a class="code" href="templates_8defines_8hh.html#a18">00140</a>                 <font class="keywordflow">if</font> (!pllroot) { 
00141                         <a class="code" href="templates_8defines_8hh.html#a8">pllprev</a>-&gt;pllnext = <a class="code" href="templates_8defines_8hh.html#a10">pllnext</a>; 
00142                         <a class="code" href="templates_8defines_8hh.html#a10">pllnext</a>-&gt;pllprev = <a class="code" href="templates_8defines_8hh.html#a8">pllprev</a>; 
00143                         <a class="code" href="classPLLType.html">PLLType</a> * pn = <a class="code" href="templates_8defines_8hh.html#a10">pllnext</a>; 
00144                         <font class="keyword">delete</font> <font class="keyword">this</font>; 
00145                         <font class="keywordflow">return</font> pn; 
00146                 } 
00147                 PLLRoot_##<a class="code" href="classPLLType.html">PLLType</a> * h = pllroot, r, t; 
00148                 <a class="code" href="templates_8defines_8hh.html#a19">unlink_before</a>(t); 
00149                 <a class="code" href="templates_8defines_8hh.html#a24">unlink_after</a>(r); 
00150                 h-&gt;link_before(t); \ <font class="comment">// deletion occurs as r and t are destroyed</font>
<a name="l00151"></a><a class="code" href="templates_8defines_8hh.html#a10">00151</a>                 <font class="keywordflow">return</font> <a class="code" href="templates_8defines_8hh.html#a10">pllnext</a>; 
00152         } 
00153         <font class="keyword">inline</font> <a class="code" href="classPLLType.html">PLLType</a> * PLL_##<a class="code" href="classPLLType.html#a5">PLLType::el</a>(<font class="keywordtype">int</font> n) { 
00154                 <font class="keywordflow">if</font> (!n) <font class="keywordflow">return</font> <font class="keyword">this</font>; 
<a name="l00155"></a><a class="code" href="templates_8defines_8hh.html#a22">00155</a>                 <font class="keywordflow">if</font> (n&gt;0) { 
00156                         <font class="keywordflow">if</font> (pllnext) <font class="keywordflow">return</font> <a class="code" href="templates_8defines_8hh.html#a10">pllnext</a>-&gt;el(n-1); 
00157                         <font class="keywordflow">else</font> <font class="keywordflow">return</font> NULL; 
00158                 } <font class="keywordflow">else</font> { 
00159                         <font class="keywordflow">if</font> (pllprev) <font class="keywordflow">return</font> <a class="code" href="templates_8defines_8hh.html#a8">pllprev</a>-&gt;el(n+1); 
00160                         <font class="keywordflow">else</font> <font class="keywordflow">return</font> NULL; 
00161                 } 
00162         } 
00163         <font class="keyword">inline</font> <a class="code" href="classPLLType.html">PLLType</a> * PLL_##<a class="code" href="classPLLType.html#a6">PLLType::seek_head</a>() { 
00164                 <font class="keywordflow">if</font> (!<a class="code" href="templates_8defines_8hh.html#a8">pllprev</a>) <font class="keywordflow">return</font> <font class="keyword">this</font>; 
00165                 <font class="keywordflow">return</font> <a class="code" href="templates_8defines_8hh.html#a8">pllprev</a>-&gt;head(); 
00166         } 
00167         <font class="keyword">inline</font> <a class="code" href="classPLLType.html">PLLType</a> * PLL_##<a class="code" href="classPLLType.html#a7">PLLType::seek_tail</a>() { 
00168                 <font class="keywordflow">if</font> (!<a class="code" href="templates_8defines_8hh.html#a10">pllnext</a>) <font class="keywordflow">return</font> <font class="keyword">this</font>; 
00169                 <font class="keywordflow">return</font> <a class="code" href="templates_8defines_8hh.html#a10">pllnext</a>-&gt;tail(); 
00170         } 
00171         <font class="keyword">inline</font> <font class="keywordtype">int</font> PLL_##<a class="code" href="classPLLType.html#a8">PLLType::length</a>() { 
00172                 <font class="keywordflow">if</font> (Next()) <font class="keywordflow">return</font> 1 + Next()-&gt;length(); 
00173                 <font class="keywordflow">return</font> 1; 
00174         } 
00175         <font class="keyword">inline</font> <font class="keywordtype">int</font> PLL_##<a class="code" href="classPLLType.html#a9">PLLType::fulllength</a>() { 
00176                 <font class="keywordflow">return</font> head()-&gt;length(); 
00177         } 
00178         <font class="keyword">inline</font> <font class="keywordtype">void</font> PLLRoot_##<a class="code" href="classPLLType.html#b0">PLLType::set_root</a>(<a class="code" href="classPLLType.html">PLLType</a> * h) { 
00179                 <font class="keywordflow">for</font> (; (h); h = h-&gt;<a class="code" href="classPLLType.html#a1">Next</a>()) h-&gt;pllroot = <font class="keyword">this</font>; 
00180         } 
00181         <font class="keyword">inline</font> <font class="keywordtype">void</font> PLLRoot_##<a class="code" href="classPLLType.html#a18">PLLType::update</a>() { 
00182         <font class="comment">// clears head and tail if elements were linked to another root</font>
00183         <font class="comment">// or fixes head and tail if either one pointed to an element with</font>
00184         <font class="comment">// a different root</font>
00185                 <font class="keywordflow">if</font> (pllhead) <font class="keywordflow">if</font> (<a class="code" href="templates_8defines_8hh.html#a6">pllhead</a>-&gt;Root()!=<font class="keyword">this</font>) <a class="code" href="templates_8defines_8hh.html#a6">pllhead</a> = NULL; 
00186                 <font class="keywordflow">if</font> (plltail) { 
00187                         <font class="keywordflow">if</font> (<a class="code" href="templates_8defines_8hh.html#a7">plltail</a>-&gt;Root()!=<font class="keyword">this</font>) { 
00188                                 <font class="keywordflow">if</font> (!<a class="code" href="templates_8defines_8hh.html#a6">pllhead</a>) <a class="code" href="templates_8defines_8hh.html#a7">plltail</a> = NULL; 
00189                                 <font class="keywordflow">else</font> <a class="code" href="templates_8defines_8hh.html#a7">plltail</a> = <a class="code" href="templates_8defines_8hh.html#a6">pllhead</a>-&gt;seek_tail(); 
00190                         } <font class="keywordflow">else</font> { 
00191                                 <font class="keywordflow">if</font> (!<a class="code" href="templates_8defines_8hh.html#a6">pllhead</a>) <a class="code" href="templates_8defines_8hh.html#a6">pllhead</a> = <a class="code" href="templates_8defines_8hh.html#a7">plltail</a>-&gt;seek_head(); 
00192                         } 
00193                 } 
00194         } 
00195         <font class="keyword">inline</font> <font class="keywordtype">bool</font> PLLRoot_##<a class="code" href="classPLLType.html#a19">PLLType::link_before</a>(PLLRoot_##<a class="code" href="classPLLType.html">PLLType</a> * <a class="code" href="templates_8defines_8hh.html#a13">succ</a>) { 
00196                 <font class="keywordflow">if</font> (!<a class="code" href="templates_8defines_8hh.html#a13">succ</a>) <font class="keywordflow">return</font> <font class="keyword">false</font>; 
00197                 <font class="keywordflow">if</font> (!<a class="code" href="templates_8defines_8hh.html#a13">succ</a>-&gt;<a class="code" href="classPLLType.html#a3">head</a>()) <font class="keywordflow">return</font> <font class="keyword">false</font>; 
00198                 <font class="comment">// *** could call update() here first to insure that pllhead and plltail</font>
00199                 <font class="comment">//     are correct</font>
00200                 <font class="keywordflow">if</font> (plltail) { 
00201                         <a class="code" href="templates_8defines_8hh.html#a7">plltail</a>-&gt;pllnext = <a class="code" href="templates_8defines_8hh.html#a13">succ</a>-&gt;<a class="code" href="classPLLType.html#a3">head</a>(); 
00202                         <a class="code" href="templates_8defines_8hh.html#a13">succ</a>-&gt;<a class="code" href="classPLLType.html#a3">head</a>()-&gt;<a class="code" href="classPLLType.html#n1">pllprev</a> = <a class="code" href="templates_8defines_8hh.html#a7">plltail</a>; 
00203                 } <font class="keywordflow">else</font> <a class="code" href="templates_8defines_8hh.html#a6">pllhead</a> = <a class="code" href="templates_8defines_8hh.html#a13">succ</a>-&gt;<a class="code" href="classPLLType.html#a3">head</a>(); 
00204                 <a class="code" href="templates_8defines_8hh.html#a7">plltail</a> = <a class="code" href="templates_8defines_8hh.html#a13">succ</a>-&gt;<a class="code" href="classPLLType.html#a4">tail</a>(); 
00205                 <a class="code" href="templates_8defines_8hh.html#a17">set_root</a>(<a class="code" href="templates_8defines_8hh.html#a13">succ</a>-&gt;<a class="code" href="classPLLType.html#a3">head</a>()); 
00206                 <a class="code" href="templates_8defines_8hh.html#a13">succ</a>-&gt;<a class="code" href="classPLLType.html#a18">update</a>(); 
00207                 <font class="keywordflow">return</font> <font class="keyword">true</font>; 
00208         } 
00209         <font class="keyword">inline</font> <font class="keywordtype">bool</font> PLLRoot_##<a class="code" href="classPLLType.html#a19">PLLType::link_before</a>(<a class="code" href="classPLLType.html">PLLType</a> * <a class="code" href="templates_8defines_8hh.html#a13">succ</a>) { 
00210         <font class="comment">// when succ-&gt;Root()==NULL, this allows previously</font>
00211         <font class="comment">// unprotected lists or newly created PLLType elements</font>
00212         <font class="comment">// to be linked</font>
00213                 <font class="keywordflow">if</font> (!succ) <font class="keywordflow">return</font> <font class="keyword">false</font>; 
00214                 <font class="keywordflow">if</font> (succ-&gt;Root()) <font class="keywordflow">return</font> <a class="code" href="templates_8defines_8hh.html#a30">link_before</a>(succ-&gt;Root()); 
00215                 <font class="keywordflow">if</font> (plltail) { 
00216                         <a class="code" href="templates_8defines_8hh.html#a7">plltail</a>-&gt;pllnext = succ; \ ...could look <font class="keywordflow">for</font> head first <font class="keywordflow">if</font> can't trust <font class="keyword">this</font>, but remember that guarantees are given <font class="keywordflow">for</font> the PLL-<a class="code" href="classPLLRoot.html">PLLRoot</a> combo, not <font class="keywordflow">for</font> loose <a class="code" href="classPLLType.html">PLLType</a> lists
00217                         succ-&gt;<a class="code" href="classPLLType.html#n1">pllprev</a> = <a class="code" href="templates_8defines_8hh.html#a7">plltail</a>; 
00218                 } <font class="keywordflow">else</font> <a class="code" href="templates_8defines_8hh.html#a6">pllhead</a> = succ; 
00219                 <a class="code" href="templates_8defines_8hh.html#a7">plltail</a> = succ; 
00220                 <a class="code" href="templates_8defines_8hh.html#a17">set_root</a>(succ); 
00221                 <font class="keywordflow">return</font> <font class="keyword">true</font>; 
00222         } 
00223         <font class="keyword">inline</font> <font class="keywordtype">bool</font> PLLRoot_##<a class="code" href="classPLLType.html#a21">PLLType::link_after</a>(PLLRoot_##<a class="code" href="classPLLType.html">PLLType</a> * <a class="code" href="templates_8defines_8hh.html#a12">pred</a>) { 
00224                 <font class="keywordflow">if</font> (!<a class="code" href="templates_8defines_8hh.html#a12">pred</a>) <font class="keywordflow">return</font> <font class="keyword">false</font>; 
00225                 <font class="keywordflow">if</font> (!<a class="code" href="templates_8defines_8hh.html#a12">pred</a>-&gt;<a class="code" href="classPLLType.html#a4">tail</a>()) <font class="keywordflow">return</font> <font class="keyword">false</font>; 
00226                 <font class="comment">// *** could call update() here first to insure that pllhead and plltail</font>
00227                 <font class="comment">//     are correct</font>
00228                 <font class="keywordflow">if</font> (pllhead) { 
00229                         <a class="code" href="templates_8defines_8hh.html#a6">pllhead</a>-&gt;pllprev = <a class="code" href="templates_8defines_8hh.html#a12">pred</a>-&gt;<a class="code" href="classPLLType.html#a4">tail</a>(); 
00230                         <a class="code" href="templates_8defines_8hh.html#a12">pred</a>-&gt;<a class="code" href="classPLLType.html#a4">tail</a>()-&gt;<a class="code" href="classPLLType.html#n0">pllnext</a> = <a class="code" href="templates_8defines_8hh.html#a6">pllhead</a>; 
00231                 } <font class="keywordflow">else</font> <a class="code" href="templates_8defines_8hh.html#a7">plltail</a> = <a class="code" href="templates_8defines_8hh.html#a12">pred</a>-&gt;<a class="code" href="classPLLType.html#a3">head</a>(); 
00232                 <a class="code" href="templates_8defines_8hh.html#a6">pllhead</a> = <a class="code" href="templates_8defines_8hh.html#a12">pred</a>-&gt;<a class="code" href="classPLLType.html#a3">head</a>(); 
00233                 <a class="code" href="templates_8defines_8hh.html#a17">set_root</a>(<a class="code" href="templates_8defines_8hh.html#a12">pred</a>-&gt;<a class="code" href="classPLLType.html#a3">head</a>()); 
00234                 <a class="code" href="templates_8defines_8hh.html#a12">pred</a>-&gt;<a class="code" href="classPLLType.html#a18">update</a>(); 
00235                 <font class="keywordflow">return</font> <font class="keyword">true</font>; 
00236         }
00237         <font class="keyword">inline</font> <font class="keywordtype">bool</font> PLLRoot_##<a class="code" href="classPLLType.html#a21">PLLType::link_after</a>(<a class="code" href="classPLLType.html">PLLType</a> * <a class="code" href="templates_8defines_8hh.html#a12">pred</a>) { 
00238         <font class="comment">// when succ-&gt;Root()==NULL, this allows previously</font>
00239         <font class="comment">// unprotected lists or newly created PLLType elements</font>
00240         <font class="comment">// to be linked</font>
00241                 <font class="keywordflow">if</font> (!pred) <font class="keywordflow">return</font> <font class="keyword">false</font>; 
00242                 <font class="keywordflow">if</font> (pred-&gt;Root()) <font class="keywordflow">return</font> <a class="code" href="templates_8defines_8hh.html#a25">link_after</a>(pred-&gt;Root()); 
00243                 <font class="keywordflow">if</font> (pllhead) { 
00244                         <a class="code" href="templates_8defines_8hh.html#a6">pllhead</a>-&gt;pllprev = pred; 
00245                         pred-&gt;<a class="code" href="classPLLType.html#n0">pllnext</a> = <a class="code" href="templates_8defines_8hh.html#a6">pllhead</a>; 
00246                 } <font class="keywordflow">else</font> <a class="code" href="templates_8defines_8hh.html#a7">plltail</a> = pred; 
00247                 <a class="code" href="templates_8defines_8hh.html#a6">pllhead</a> = pred; 
00248                 <a class="code" href="templates_8defines_8hh.html#a17">set_root</a>(pred); 
00249                 <font class="keywordflow">return</font> <font class="keyword">true</font>; 
00250         }
00251         <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="templates_8defines_8hh.html#a27">insert_after</a>(<a class="code" href="classPLLType.html">PLLType</a> * <a class="code" href="templates_8defines_8hh.html#a12">pred</a>, <a class="code" href="classPLLType.html">PLLType</a> * inshead); 
00252         <font class="comment">// inserts inshead after element pred in this list</font>
00253         <font class="comment">// if pred==NULL or pred-&gt;Root()!=this, inserts at tail of list</font>
00254                 <font class="keywordflow">if</font> (!<a class="code" href="templates_8defines_8hh.html#a12">pred</a>) <font class="keywordflow">return</font> <a class="code" href="templates_8defines_8hh.html#a30">link_before</a>(inshead); <font class="comment">// link inshead to tail of this</font>
00255                 <font class="keywordflow">if</font> (<a class="code" href="templates_8defines_8hh.html#a12">pred</a>-&gt;Root()!=<font class="keyword">this</font>) <font class="keywordflow">return</font> <a class="code" href="templates_8defines_8hh.html#a30">link_before</a>(inshead); <font class="comment">// link inshead to tail of this</font>
00256                 PLLRoot_##<a class="code" href="classPLLType.html">PLLType</a> h;
00257                 <a class="code" href="templates_8defines_8hh.html#a12">pred</a>-&gt;<a class="code" href="classPLLType.html#a11">unlink_after</a>(h); <font class="comment">// get head of list up to pred into h</font>
00258                 <font class="keywordtype">bool</font> <a class="code" href="templates_8defines_8hh.html#a11">res</a> = h.link_before(inshead); <font class="comment">// link inshead to tail of h</font>
00259                 <a class="code" href="templates_8defines_8hh.html#a25">link_after</a>(&amp;h); <font class="comment">// link h to head of this</font>
00260                 <font class="keywordflow">return</font> <a class="code" href="templates_8defines_8hh.html#a11">res</a>;
00261         } 
00262         <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="templates_8defines_8hh.html#a27">insert_after</a>(<font class="keywordtype">int</font> n, <a class="code" href="classPLLType.html">PLLType</a> * inshead); 
00263         <font class="comment">// inserts inshead after the nth element in this list</font>
00264         <font class="comment">// if nth element does not exist, inserts at tail of list</font>
<a name="l00265"></a><a class="code" href="templates_8defines_8hh.html#a12">00265</a>                 <a class="code" href="classPLLType.html">PLLType</a> * <a class="code" href="templates_8defines_8hh.html#a12">pred</a> = el(n);
00266                 <font class="keywordflow">return</font> <a class="code" href="templates_8defines_8hh.html#a27">insert_after</a>(pred,inshead);
00267         } 
00268         <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="templates_8defines_8hh.html#a32">insert_before</a>(<a class="code" href="classPLLType.html">PLLType</a> * <a class="code" href="templates_8defines_8hh.html#a13">succ</a>, <a class="code" href="classPLLType.html">PLLType</a> * inshead); 
00269         <font class="comment">// inserts inshead before element succ in this list</font>
00270         <font class="comment">// if succ==NULL or succ-&gt;Root()!=this, inserts at head of list</font>
00271                 <font class="keywordflow">if</font> (!<a class="code" href="templates_8defines_8hh.html#a13">succ</a>) <font class="keywordflow">return</font> <a class="code" href="templates_8defines_8hh.html#a25">link_after</a>(inshead); <font class="comment">// link inshead to head of this</font>
00272                 <font class="keywordflow">if</font> (<a class="code" href="templates_8defines_8hh.html#a13">succ</a>-&gt;Root()!=<font class="keyword">this</font>) <font class="keywordflow">return</font> <a class="code" href="templates_8defines_8hh.html#a25">link_after</a>(inshead); <font class="comment">// link inshead to head of this</font>
00273                 PLLRoot_##<a class="code" href="classPLLType.html">PLLType</a> t;
00274                 <a class="code" href="templates_8defines_8hh.html#a13">succ</a>-&gt;<a class="code" href="classPLLType.html#a10">unlink_before</a>(t); <font class="comment">// get tail of list from succ into t</font>
00275                 <font class="keywordtype">bool</font> <a class="code" href="templates_8defines_8hh.html#a11">res</a> = t.link_after(inshead); <font class="comment">// link inshead to head of t</font>
00276                 <a class="code" href="templates_8defines_8hh.html#a30">link_before</a>(&amp;t); <font class="comment">// link t to tail of this</font>
<a name="l00277"></a><a class="code" href="templates_8defines_8hh.html#a11">00277</a>                 <font class="keywordflow">return</font> <a class="code" href="templates_8defines_8hh.html#a11">res</a>;
00278         } 
00279         <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="templates_8defines_8hh.html#a32">insert_before</a>(<font class="keywordtype">int</font> n, <a class="code" href="classPLLType.html">PLLType</a> * inshead); 
00280         <font class="comment">// inserts inshead before the nth element in this list</font>
00281         <font class="comment">// if nth element does not exist, inserts at head of list</font>
<a name="l00282"></a><a class="code" href="templates_8defines_8hh.html#a13">00282</a>                 <a class="code" href="classPLLType.html">PLLType</a> * <a class="code" href="templates_8defines_8hh.html#a13">succ</a> = el(n);
00283                 <font class="keywordflow">return</font> <a class="code" href="templates_8defines_8hh.html#a32">insert_before</a>(succ,inshead);
00284         } 
00285 <font class="comment">// d - Protected Linked List macro that can be used to</font>
00286 <font class="comment">//     access functions in linked elements at a relative</font>
00287 <font class="comment">//     distance n from an element</font>
<a name="l00288"></a><a class="code" href="templates_8defines_8hh.html#a2">00288</a> <font class="preprocessor">#define Protected_Linked_List_Indexed_Access(PLLType,Here,There) \</font>
00289 <font class="preprocessor">        if (!n) return Here; \</font>
00290 <font class="preprocessor">        if (PLLType * e = el(n)) return e-&gt;There; else return NULL \</font>
00291 <font class="preprocessor">// e - Protected Linked List macro that loops forward through</font>
00292 <font class="preprocessor"></font><font class="comment">//     linked elements contingent upon a test, providing the</font>
00293 <font class="comment">//     pointer e to the current element</font>
<a name="l00294"></a><a class="code" href="templates_8defines_8hh.html#a3">00294</a> <font class="preprocessor">#define PLL_LOOP_FORWARD(PLLType,Init_El,Extra_Test) \</font>
00295 <font class="preprocessor">        for (PLLType * e = Init_El; ((e) &amp;&amp; (Extra_Test)); e = e-&gt;Next())</font>
00296 <font class="preprocessor"></font>
00297 <font class="preprocessor">#endif</font>
</pre></div><hr><address align="right"><small>Generated on Mon Sep 13 14:53:11 2004 for dil2al by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.15 </small></address>
</body>
</html>
